(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var wd={exports:{}},Es={},kd={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ln=Symbol.for("react.element"),ym=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Nm=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),jm=Symbol.for("react.suspense"),Em=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),zi=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var Nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sd=Object.assign,jd={};function ia(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||Nd}ia.prototype.isReactComponent={};ia.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ed(){}Ed.prototype=ia.prototype;function Lo(e,t,r){this.props=e,this.context=t,this.refs=jd,this.updater=r||Nd}var Oo=Lo.prototype=new Ed;Oo.constructor=Lo;Sd(Oo,ia.prototype);Oo.isPureReactComponent=!0;var Vi=Array.isArray,Cd=Object.prototype.hasOwnProperty,Uo={current:null},Td={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var n,s={},l=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Cd.call(t,n)&&!Td.hasOwnProperty(n)&&(s[n]=t[n]);var i=arguments.length-2;if(i===1)s.children=r;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)s[n]===void 0&&(s[n]=i[n]);return{$$typeof:ln,type:e,key:l,ref:o,props:s,_owner:Uo.current}}function _m(e,t){return{$$typeof:ln,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ln}function Rm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hi=/\/+/g;function Js(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rm(""+e.key):t.toString(36)}function On(e,t,r,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ln:case ym:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Js(o,0):n,Vi(s)?(r="",e!=null&&(r=e.replace(Hi,"$&/")+"/"),On(s,t,r,"",function(d){return d})):s!=null&&(Mo(s)&&(s=_m(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hi,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Vi(e))for(var i=0;i<e.length;i++){l=e[i];var c=n+Js(l,i);o+=On(l,t,r,c,s)}else if(c=Tm(e),typeof c=="function")for(e=c.call(e),i=0;!(l=e.next()).done;)l=l.value,c=n+Js(l,i++),o+=On(l,t,r,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yn(e,t,r){if(e==null)return e;var n=[],s=0;return On(e,n,"","",function(l){return t.call(r,l,s++)}),n}function Am(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},Un={transition:null},Pm={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:Un,ReactCurrentOwner:Uo};function Rd(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:yn,forEach:function(e,t,r){yn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return yn(e,function(){t++}),t},toArray:function(e){return yn(e,function(t){return t})||[]},only:function(e){if(!Mo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ia;te.Fragment=vm;te.Profiler=wm;te.PureComponent=Lo;te.StrictMode=bm;te.Suspense=jm;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;te.act=Rd;te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Sd({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Uo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)Cd.call(t,c)&&!Td.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];n.children=i}return{$$typeof:ln,type:e.type,key:s,ref:l,props:n,_owner:o}};te.createContext=function(e){return e={$$typeof:Nm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:km,_context:e},e.Consumer=e};te.createElement=_d;te.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Sm,render:e}};te.isValidElement=Mo;te.lazy=function(e){return{$$typeof:Cm,_payload:{_status:-1,_result:e},_init:Am}};te.memo=function(e,t){return{$$typeof:Em,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Un.transition;Un.transition={};try{e()}finally{Un.transition=t}};te.unstable_act=Rd;te.useCallback=function(e,t){return Ke.current.useCallback(e,t)};te.useContext=function(e){return Ke.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};te.useEffect=function(e,t){return Ke.current.useEffect(e,t)};te.useId=function(){return Ke.current.useId()};te.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Ke.current.useMemo(e,t)};te.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};te.useRef=function(e){return Ke.current.useRef(e)};te.useState=function(e){return Ke.current.useState(e)};te.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Ke.current.useTransition()};te.version="18.3.1";kd.exports=te;var b=kd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=b,Im=Symbol.for("react.element"),Lm=Symbol.for("react.fragment"),Om=Object.prototype.hasOwnProperty,Um=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function Ad(e,t,r){var n,s={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Om.call(t,n)&&!Mm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Im,type:e,key:l,ref:o,props:s,_owner:Um.current}}Es.Fragment=Lm;Es.jsx=Ad;Es.jsxs=Ad;wd.exports=Es;var a=wd.exports,Pd={exports:{}},ct={},Dd={exports:{}},Id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,q){var T=$.length;$.push(q);e:for(;0<T;){var G=T-1>>>1,ee=$[G];if(0<s(ee,q))$[G]=q,$[T]=ee,T=G;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var q=$[0],T=$.pop();if(T!==q){$[0]=T;e:for(var G=0,ee=$.length,ie=ee>>>1;G<ie;){var R=2*(G+1)-1,K=$[R],L=R+1,Y=$[L];if(0>s(K,T))L<ee&&0>s(Y,K)?($[G]=Y,$[L]=T,G=L):($[G]=K,$[R]=T,G=R);else if(L<ee&&0>s(Y,T))$[G]=Y,$[L]=T,G=L;else break e}}return q}function s($,q){var T=$.sortIndex-q.sortIndex;return T!==0?T:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],d=[],g=1,m=null,x=3,j=!1,p=!1,E=!1,y=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v($){for(var q=r(d);q!==null;){if(q.callback===null)n(d);else if(q.startTime<=$)n(d),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(d)}}function f($){if(E=!1,v($),!p)if(r(c)!==null)p=!0,pe(w);else{var q=r(d);q!==null&&Te(f,q.startTime-$)}}function w($,q){p=!1,E&&(E=!1,u(N),N=-1),j=!0;var T=x;try{for(v(q),m=r(c);m!==null&&(!(m.expirationTime>q)||$&&!Z());){var G=m.callback;if(typeof G=="function"){m.callback=null,x=m.priorityLevel;var ee=G(m.expirationTime<=q);q=e.unstable_now(),typeof ee=="function"?m.callback=ee:m===r(c)&&n(c),v(q)}else n(c);m=r(c)}if(m!==null)var ie=!0;else{var R=r(d);R!==null&&Te(f,R.startTime-q),ie=!1}return ie}finally{m=null,x=T,j=!1}}var S=!1,k=null,N=-1,C=5,M=-1;function Z(){return!(e.unstable_now()-M<C)}function le(){if(k!==null){var $=e.unstable_now();M=$;var q=!0;try{q=k(!0,$)}finally{q?oe():(S=!1,k=null)}}else S=!1}var oe;if(typeof h=="function")oe=function(){h(le)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=le,oe=function(){z.postMessage(null)}}else oe=function(){y(le,0)};function pe($){k=$,S||(S=!0,oe())}function Te($,q){N=y(function(){$(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){p||j||(p=!0,pe(w))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var q=3;break;default:q=x}var T=x;x=q;try{return $()}finally{x=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var T=x;x=$;try{return q()}finally{x=T}},e.unstable_scheduleCallback=function($,q,T){var G=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?G+T:G):T=G,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=T+ee,$={id:g++,callback:q,priorityLevel:$,startTime:T,expirationTime:ee,sortIndex:-1},T>G?($.sortIndex=T,t(d,$),r(c)===null&&$===r(d)&&(E?(u(N),N=-1):E=!0,Te(f,T-G))):($.sortIndex=ee,t(c,$),p||j||(p=!0,pe(w))),$},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function($){var q=x;return function(){var T=x;x=q;try{return $.apply(this,arguments)}finally{x=T}}}})(Id);Dd.exports=Id;var Fm=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=b,it=Fm;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,$a={};function Pr(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for($a[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,zm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bi={},Wi={};function Vm(e){return Al.call(Wi,e)?!0:Al.call(Bi,e)?!1:zm.test(e)?Wi[e]=!0:(Bi[e]=!0,!1)}function Hm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bm(e,t,r,n){if(t===null||typeof t>"u"||Hm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fo=/[\-:]([a-z])/g;function $o(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fo,$o);Me[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fo,$o);Me[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fo,$o);Me[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function zo(e,t,r,n){var s=Me.hasOwnProperty(t)?Me[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bm(t,r,s,n)&&(r=null),n||s===null?Vm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gt=$m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vn=Symbol.for("react.element"),Or=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),Vo=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Ud=Symbol.for("react.context"),Ho=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Il=Symbol.for("react.suspense_list"),Bo=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),Gi=Symbol.iterator;function ha(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Xs;function ja(e){if(Xs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Xs=t&&t[1]||""}return`
`+Xs+e}var el=!1;function tl(e,t){if(!e||el)return"";el=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=n.stack.split(`
`),o=s.length-1,i=l.length-1;1<=o&&0<=i&&s[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==l[i]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{el=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ja(e):""}function Wm(e){switch(e.tag){case 5:return ja(e.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return e=tl(e.type,!1),e;case 11:return e=tl(e.type.render,!1),e;case 1:return e=tl(e.type,!0),e;default:return""}}function Ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case Or:return"Portal";case Pl:return"Profiler";case Vo:return"StrictMode";case Dl:return"Suspense";case Il:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ud:return(e.displayName||"Context")+".Consumer";case Od:return(e._context.displayName||"Context")+".Provider";case Ho:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bo:return t=e.displayName||null,t!==null?t:Ll(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Ll(e(t))}catch{}}return null}function Gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(t);case 8:return t===Vo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qm(e){var t=Fd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bn(e){e._valueTracker||(e._valueTracker=qm(e))}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Fd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ol(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qi(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=cr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zd(e,t){t=t.checked,t!=null&&zo(e,"checked",t,!1)}function Ul(e,t){zd(e,t);var r=cr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ml(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ml(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qi(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ml(e,t,r){(t!=="number"||Jn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ea=Array.isArray;function Qr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+cr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ki(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Ea(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cr(r)}}function Vd(e,t){var r=cr(t.value),n=cr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wn,Bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function za(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qm=["Webkit","ms","Moz","O"];Object.keys(_a).forEach(function(e){Qm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_a[t]=_a[e]})});function Wd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_a.hasOwnProperty(e)&&_a[e]?(""+t).trim():t+"px"}function Gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Wd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Km=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(e,t){if(t){if(Km[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hl=null;function Wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bl=null,Kr=null,Yr=null;function Zi(e){if(e=dn(e)){if(typeof Bl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=As(t),Bl(e.stateNode,e.type,t))}}function qd(e){Kr?Yr?Yr.push(e):Yr=[e]:Kr=e}function Qd(){if(Kr){var e=Kr,t=Yr;if(Yr=Kr=null,Zi(e),t)for(e=0;e<t.length;e++)Zi(t[e])}}function Kd(e,t){return e(t)}function Yd(){}var rl=!1;function Zd(e,t,r){if(rl)return e(t,r);rl=!0;try{return Kd(e,t,r)}finally{rl=!1,(Kr!==null||Yr!==null)&&(Yd(),Qd())}}function Va(e,t){var r=e.stateNode;if(r===null)return null;var n=As(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Wl=!1;if(zt)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Wl=!1}function Ym(e,t,r,n,s,l,o,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(g){this.onError(g)}}var Ra=!1,Xn=null,es=!1,Gl=null,Zm={onError:function(e){Ra=!0,Xn=e}};function Jm(e,t,r,n,s,l,o,i,c){Ra=!1,Xn=null,Ym.apply(Zm,arguments)}function Xm(e,t,r,n,s,l,o,i,c){if(Jm.apply(this,arguments),Ra){if(Ra){var d=Xn;Ra=!1,Xn=null}else throw Error(O(198));es||(es=!0,Gl=d)}}function Dr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ji(e){if(Dr(e)!==e)throw Error(O(188))}function eg(e){var t=e.alternate;if(!t){if(t=Dr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return Ji(s),e;if(l===n)return Ji(s),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=l;else{for(var o=!1,i=s.child;i;){if(i===r){o=!0,r=s,n=l;break}if(i===n){o=!0,n=s,r=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===r){o=!0,r=l,n=s;break}if(i===n){o=!0,n=l,r=s;break}i=i.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function Xd(e){return e=eg(e),e!==null?eu(e):null}function eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=eu(e);if(t!==null)return t;e=e.sibling}return null}var tu=it.unstable_scheduleCallback,Xi=it.unstable_cancelCallback,tg=it.unstable_shouldYield,rg=it.unstable_requestPaint,Ee=it.unstable_now,ag=it.unstable_getCurrentPriorityLevel,Go=it.unstable_ImmediatePriority,ru=it.unstable_UserBlockingPriority,ts=it.unstable_NormalPriority,ng=it.unstable_LowPriority,au=it.unstable_IdlePriority,Cs=null,Pt=null;function sg(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Cs,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:ig,lg=Math.log,og=Math.LN2;function ig(e){return e>>>=0,e===0?32:31-(lg(e)/og|0)|0}var kn=64,Nn=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var i=o&~s;i!==0?n=Ca(i):(l&=o,l!==0&&(n=Ca(l)))}else o=r&~s,o!==0?n=Ca(o):l!==0&&(n=Ca(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-kt(t),s=1<<r,n|=e[r],t&=~s;return n}function cg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-kt(l),i=1<<o,c=s[o];c===-1?(!(i&r)||i&n)&&(s[o]=cg(i,t)):c<=t&&(e.expiredLanes|=i),l&=~i}}function ql(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nu(){var e=kn;return kn<<=1,!(kn&4194240)&&(kn=64),e}function al(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function on(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=r}function ug(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-kt(r),l=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~l}}function qo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-kt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ce=0;function su(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lu,Qo,ou,iu,cu,Ql=!1,Sn=[],er=null,tr=null,rr=null,Ha=new Map,Ba=new Map,Yt=[],mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(t.pointerId)}}function pa(e,t,r,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=dn(t),t!==null&&Qo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gg(e,t,r,n,s){switch(t){case"focusin":return er=pa(er,e,t,r,n,s),!0;case"dragenter":return tr=pa(tr,e,t,r,n,s),!0;case"mouseover":return rr=pa(rr,e,t,r,n,s),!0;case"pointerover":var l=s.pointerId;return Ha.set(l,pa(Ha.get(l)||null,e,t,r,n,s)),!0;case"gotpointercapture":return l=s.pointerId,Ba.set(l,pa(Ba.get(l)||null,e,t,r,n,s)),!0}return!1}function du(e){var t=vr(e.target);if(t!==null){var r=Dr(t);if(r!==null){if(t=r.tag,t===13){if(t=Jd(r),t!==null){e.blockedOn=t,cu(e.priority,function(){ou(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hl=n,r.target.dispatchEvent(n),Hl=null}else return t=dn(r),t!==null&&Qo(t),e.blockedOn=r,!1;t.shift()}return!0}function tc(e,t,r){Mn(e)&&r.delete(t)}function hg(){Ql=!1,er!==null&&Mn(er)&&(er=null),tr!==null&&Mn(tr)&&(tr=null),rr!==null&&Mn(rr)&&(rr=null),Ha.forEach(tc),Ba.forEach(tc)}function xa(e,t){e.blockedOn===t&&(e.blockedOn=null,Ql||(Ql=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,hg)))}function Wa(e){function t(s){return xa(s,e)}if(0<Sn.length){xa(Sn[0],e);for(var r=1;r<Sn.length;r++){var n=Sn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(er!==null&&xa(er,e),tr!==null&&xa(tr,e),rr!==null&&xa(rr,e),Ha.forEach(t),Ba.forEach(t),r=0;r<Yt.length;r++)n=Yt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yt.length&&(r=Yt[0],r.blockedOn===null);)du(r),r.blockedOn===null&&Yt.shift()}var Zr=Gt.ReactCurrentBatchConfig,as=!0;function fg(e,t,r,n){var s=ce,l=Zr.transition;Zr.transition=null;try{ce=1,Ko(e,t,r,n)}finally{ce=s,Zr.transition=l}}function pg(e,t,r,n){var s=ce,l=Zr.transition;Zr.transition=null;try{ce=4,Ko(e,t,r,n)}finally{ce=s,Zr.transition=l}}function Ko(e,t,r,n){if(as){var s=Kl(e,t,r,n);if(s===null)gl(e,t,n,ns,r),ec(e,n);else if(gg(s,e,t,r,n))n.stopPropagation();else if(ec(e,n),t&4&&-1<mg.indexOf(e)){for(;s!==null;){var l=dn(s);if(l!==null&&lu(l),l=Kl(e,t,r,n),l===null&&gl(e,t,n,ns,r),l===s)break;s=l}s!==null&&n.stopPropagation()}else gl(e,t,n,null,r)}}var ns=null;function Kl(e,t,r,n){if(ns=null,e=Wo(n),e=vr(e),e!==null)if(t=Dr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ns=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case Go:return 1;case ru:return 4;case ts:case ng:return 16;case au:return 536870912;default:return 16}default:return 16}}var Jt=null,Yo=null,Fn=null;function mu(){if(Fn)return Fn;var e,t=Yo,r=t.length,n,s="value"in Jt?Jt.value:Jt.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[l-n];n++);return Fn=s.slice(e,1<n?1-n:void 0)}function $n(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function rc(){return!1}function dt(e){function t(r,n,s,l,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?jn:rc,this.isPropagationStopped=rc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=dt(ca),cn=we({},ca,{view:0,detail:0}),xg=dt(cn),nl,sl,ya,Ts=we({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(nl=e.screenX-ya.screenX,sl=e.screenY-ya.screenY):sl=nl=0,ya=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:sl}}),ac=dt(Ts),yg=we({},Ts,{dataTransfer:0}),vg=dt(yg),bg=we({},cn,{relatedTarget:0}),ll=dt(bg),wg=we({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=dt(wg),Ng=we({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sg=dt(Ng),jg=we({},ca,{data:0}),nc=dt(jg),Eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tg[e])?!!t[e]:!1}function Jo(){return _g}var Rg=we({},cn,{key:function(e){if(e.key){var t=Eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$n(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?$n(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$n(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ag=dt(Rg),Pg=we({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=dt(Pg),Dg=we({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Ig=dt(Dg),Lg=we({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=dt(Lg),Ug=we({},Ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mg=dt(Ug),Fg=[9,13,27,32],Xo=zt&&"CompositionEvent"in window,Aa=null;zt&&"documentMode"in document&&(Aa=document.documentMode);var $g=zt&&"TextEvent"in window&&!Aa,gu=zt&&(!Xo||Aa&&8<Aa&&11>=Aa),lc=" ",oc=!1;function hu(e,t){switch(e){case"keyup":return Fg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function zg(e,t){switch(e){case"compositionend":return fu(t);case"keypress":return t.which!==32?null:(oc=!0,lc);case"textInput":return e=t.data,e===lc&&oc?null:e;default:return null}}function Vg(e,t){if(Mr)return e==="compositionend"||!Xo&&hu(e,t)?(e=mu(),Fn=Yo=Jt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Hg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hg[e.type]:t==="textarea"}function pu(e,t,r,n){qd(n),t=ss(t,"onChange"),0<t.length&&(r=new Zo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Pa=null,Ga=null;function Bg(e){Cu(e,0)}function _s(e){var t=zr(e);if($d(t))return e}function Wg(e,t){if(e==="change")return t}var xu=!1;if(zt){var ol;if(zt){var il="oninput"in document;if(!il){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),il=typeof cc.oninput=="function"}ol=il}else ol=!1;xu=ol&&(!document.documentMode||9<document.documentMode)}function dc(){Pa&&(Pa.detachEvent("onpropertychange",yu),Ga=Pa=null)}function yu(e){if(e.propertyName==="value"&&_s(Ga)){var t=[];pu(t,Ga,e,Wo(e)),Zd(Bg,t)}}function Gg(e,t,r){e==="focusin"?(dc(),Pa=t,Ga=r,Pa.attachEvent("onpropertychange",yu)):e==="focusout"&&dc()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _s(Ga)}function Qg(e,t){if(e==="click")return _s(t)}function Kg(e,t){if(e==="input"||e==="change")return _s(t)}function Yg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Yg;function qa(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Al.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var r=uc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uc(r)}}function vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bu(){for(var e=window,t=Jn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jn(e.document)}return t}function ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zg(e){var t=bu(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vu(r.ownerDocument.documentElement,r)){if(n!==null&&ei(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(n.start,s);n=n.end===void 0?l:Math.min(n.end,s),!e.extend&&l>n&&(s=n,n=l,l=s),s=mc(r,l);var o=mc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jg=zt&&"documentMode"in document&&11>=document.documentMode,Fr=null,Yl=null,Da=null,Zl=!1;function gc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zl||Fr==null||Fr!==Jn(n)||(n=Fr,"selectionStart"in n&&ei(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Da&&qa(Da,n)||(Da=n,n=ss(Yl,"onSelect"),0<n.length&&(t=new Zo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Fr)))}function En(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var $r={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionend:En("Transition","TransitionEnd")},cl={},wu={};zt&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function Rs(e){if(cl[e])return cl[e];if(!$r[e])return e;var t=$r[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wu)return cl[e]=t[r];return e}var ku=Rs("animationend"),Nu=Rs("animationiteration"),Su=Rs("animationstart"),ju=Rs("transitionend"),Eu=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Eu.set(e,t),Pr(t,[e])}for(var dl=0;dl<hc.length;dl++){var ul=hc[dl],Xg=ul.toLowerCase(),eh=ul[0].toUpperCase()+ul.slice(1);mr(Xg,"on"+eh)}mr(ku,"onAnimationEnd");mr(Nu,"onAnimationIteration");mr(Su,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(ju,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),th=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function fc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xm(n,t,void 0,e),e.currentTarget=null}function Cu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==l&&s.isPropagationStopped())break e;fc(s,i,d),l=c}else for(o=0;o<n.length;o++){if(i=n[o],c=i.instance,d=i.currentTarget,i=i.listener,c!==l&&s.isPropagationStopped())break e;fc(s,i,d),l=c}}}if(es)throw e=Gl,es=!1,Gl=null,e}function he(e,t){var r=t[ro];r===void 0&&(r=t[ro]=new Set);var n=e+"__bubble";r.has(n)||(Tu(t,e,2,!1),r.add(n))}function ml(e,t,r){var n=0;t&&(n|=4),Tu(r,e,n,t)}var Cn="_reactListening"+Math.random().toString(36).slice(2);function Qa(e){if(!e[Cn]){e[Cn]=!0,Ld.forEach(function(r){r!=="selectionchange"&&(th.has(r)||ml(r,!1,e),ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cn]||(t[Cn]=!0,ml("selectionchange",!1,t))}}function Tu(e,t,r,n){switch(uu(t)){case 1:var s=fg;break;case 4:s=pg;break;default:s=Ko}r=s.bind(null,t,r,e),s=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function gl(e,t,r,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var i=n.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;i!==null;){if(o=vr(i),o===null)return;if(c=o.tag,c===5||c===6){n=l=o;continue e}i=i.parentNode}}n=n.return}Zd(function(){var d=l,g=Wo(r),m=[];e:{var x=Eu.get(e);if(x!==void 0){var j=Zo,p=e;switch(e){case"keypress":if($n(r)===0)break e;case"keydown":case"keyup":j=Ag;break;case"focusin":p="focus",j=ll;break;case"focusout":p="blur",j=ll;break;case"beforeblur":case"afterblur":j=ll;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Ig;break;case ku:case Nu:case Su:j=kg;break;case ju:j=Og;break;case"scroll":j=xg;break;case"wheel":j=Mg;break;case"copy":case"cut":case"paste":j=Sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=sc}var E=(t&4)!==0,y=!E&&e==="scroll",u=E?x!==null?x+"Capture":null:x;E=[];for(var h=d,v;h!==null;){v=h;var f=v.stateNode;if(v.tag===5&&f!==null&&(v=f,u!==null&&(f=Va(h,u),f!=null&&E.push(Ka(h,f,v)))),y)break;h=h.return}0<E.length&&(x=new j(x,p,null,r,g),m.push({event:x,listeners:E}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&r!==Hl&&(p=r.relatedTarget||r.fromElement)&&(vr(p)||p[Vt]))break e;if((j||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,j?(p=r.relatedTarget||r.toElement,j=d,p=p?vr(p):null,p!==null&&(y=Dr(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(j=null,p=d),j!==p)){if(E=ac,f="onMouseLeave",u="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(E=sc,f="onPointerLeave",u="onPointerEnter",h="pointer"),y=j==null?x:zr(j),v=p==null?x:zr(p),x=new E(f,h+"leave",j,r,g),x.target=y,x.relatedTarget=v,f=null,vr(g)===d&&(E=new E(u,h+"enter",p,r,g),E.target=v,E.relatedTarget=y,f=E),y=f,j&&p)t:{for(E=j,u=p,h=0,v=E;v;v=Lr(v))h++;for(v=0,f=u;f;f=Lr(f))v++;for(;0<h-v;)E=Lr(E),h--;for(;0<v-h;)u=Lr(u),v--;for(;h--;){if(E===u||u!==null&&E===u.alternate)break t;E=Lr(E),u=Lr(u)}E=null}else E=null;j!==null&&pc(m,x,j,E,!1),p!==null&&y!==null&&pc(m,y,p,E,!0)}}e:{if(x=d?zr(d):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var w=Wg;else if(ic(x))if(xu)w=Kg;else{w=qg;var S=Gg}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(w=Qg);if(w&&(w=w(e,d))){pu(m,w,r,g);break e}S&&S(e,x,d),e==="focusout"&&(S=x._wrapperState)&&S.controlled&&x.type==="number"&&Ml(x,"number",x.value)}switch(S=d?zr(d):window,e){case"focusin":(ic(S)||S.contentEditable==="true")&&(Fr=S,Yl=d,Da=null);break;case"focusout":Da=Yl=Fr=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,gc(m,r,g);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":gc(m,r,g)}var k;if(Xo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mr?hu(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(gu&&r.locale!=="ko"&&(Mr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mr&&(k=mu()):(Jt=g,Yo="value"in Jt?Jt.value:Jt.textContent,Mr=!0)),S=ss(d,N),0<S.length&&(N=new nc(N,e,null,r,g),m.push({event:N,listeners:S}),k?N.data=k:(k=fu(r),k!==null&&(N.data=k)))),(k=$g?zg(e,r):Vg(e,r))&&(d=ss(d,"onBeforeInput"),0<d.length&&(g=new nc("onBeforeInput","beforeinput",null,r,g),m.push({event:g,listeners:d}),g.data=k))}Cu(m,t)})}function Ka(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ss(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Va(e,r),l!=null&&n.unshift(Ka(e,l,s)),l=Va(e,t),l!=null&&n.push(Ka(e,l,s))),e=e.return}return n}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,r,n,s){for(var l=t._reactName,o=[];r!==null&&r!==n;){var i=r,c=i.alternate,d=i.stateNode;if(c!==null&&c===n)break;i.tag===5&&d!==null&&(i=d,s?(c=Va(r,l),c!=null&&o.unshift(Ka(r,c,i))):s||(c=Va(r,l),c!=null&&o.push(Ka(r,c,i)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rh=/\r\n?/g,ah=/\u0000|\uFFFD/g;function xc(e){return(typeof e=="string"?e:""+e).replace(rh,`
`).replace(ah,"")}function Tn(e,t,r){if(t=xc(t),xc(e)!==t&&r)throw Error(O(425))}function ls(){}var Jl=null,Xl=null;function eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,nh=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,sh=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(lh)}:to;function lh(e){setTimeout(function(){throw e})}function hl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wa(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),At="__reactFiber$"+da,Ya="__reactProps$"+da,Vt="__reactContainer$"+da,ro="__reactEvents$"+da,oh="__reactListeners$"+da,ih="__reactHandles$"+da;function vr(e){var t=e[At];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vt]||r[At]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vc(e);e!==null;){if(r=e[At])return r;e=vc(e)}return t}e=r,r=e.parentNode}return null}function dn(e){return e=e[At]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function As(e){return e[Ya]||null}var ao=[],Vr=-1;function gr(e){return{current:e}}function fe(e){0>Vr||(e.current=ao[Vr],ao[Vr]=null,Vr--)}function me(e,t){Vr++,ao[Vr]=e.current,e.current=t}var dr={},Be=gr(dr),et=gr(!1),Er=dr;function ra(e,t){var r=e.type.contextTypes;if(!r)return dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function os(){fe(et),fe(Be)}function bc(e,t,r){if(Be.current!==dr)throw Error(O(168));me(Be,t),me(et,r)}function _u(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,Gm(e)||"Unknown",s));return we({},r,n)}function is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Er=Be.current,me(Be,e),me(et,et.current),!0}function wc(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=_u(e,t,Er),n.__reactInternalMemoizedMergedChildContext=e,fe(et),fe(Be),me(Be,e)):fe(et),me(et,r)}var Ot=null,Ps=!1,fl=!1;function Ru(e){Ot===null?Ot=[e]:Ot.push(e)}function ch(e){Ps=!0,Ru(e)}function hr(){if(!fl&&Ot!==null){fl=!0;var e=0,t=ce;try{var r=Ot;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ot=null,Ps=!1}catch(s){throw Ot!==null&&(Ot=Ot.slice(e+1)),tu(Go,hr),s}finally{ce=t,fl=!1}}return null}var Hr=[],Br=0,cs=null,ds=0,ut=[],mt=0,Cr=null,Mt=1,Ft="";function xr(e,t){Hr[Br++]=ds,Hr[Br++]=cs,cs=e,ds=t}function Au(e,t,r){ut[mt++]=Mt,ut[mt++]=Ft,ut[mt++]=Cr,Cr=e;var n=Mt;e=Ft;var s=32-kt(n)-1;n&=~(1<<s),r+=1;var l=32-kt(t)+s;if(30<l){var o=s-s%5;l=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Mt=1<<32-kt(t)+s|r<<s|n,Ft=l+e}else Mt=1<<l|r<<s|n,Ft=e}function ti(e){e.return!==null&&(xr(e,1),Au(e,1,0))}function ri(e){for(;e===cs;)cs=Hr[--Br],Hr[Br]=null,ds=Hr[--Br],Hr[Br]=null;for(;e===Cr;)Cr=ut[--mt],ut[mt]=null,Ft=ut[--mt],ut[mt]=null,Mt=ut[--mt],ut[mt]=null}var ot=null,lt=null,xe=!1,wt=null;function Pu(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function kc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,lt=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cr!==null?{id:Mt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ot=e,lt=null,!0):!1;default:return!1}}function no(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(xe){var t=lt;if(t){var r=t;if(!kc(e,t)){if(no(e))throw Error(O(418));t=ar(r.nextSibling);var n=ot;t&&kc(e,t)?Pu(n,r):(e.flags=e.flags&-4097|2,xe=!1,ot=e)}}else{if(no(e))throw Error(O(418));e.flags=e.flags&-4097|2,xe=!1,ot=e}}}function Nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function _n(e){if(e!==ot)return!1;if(!xe)return Nc(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eo(e.type,e.memoizedProps)),t&&(t=lt)){if(no(e))throw Du(),Error(O(418));for(;t;)Pu(e,t),t=ar(t.nextSibling)}if(Nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lt=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ot?ar(e.stateNode.nextSibling):null;return!0}function Du(){for(var e=lt;e;)e=ar(e.nextSibling)}function aa(){lt=ot=null,xe=!1}function ai(e){wt===null?wt=[e]:wt.push(e)}var dh=Gt.ReactCurrentBatchConfig;function va(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=s.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Rn(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sc(e){var t=e._init;return t(e._payload)}function Iu(e){function t(u,h){if(e){var v=u.deletions;v===null?(u.deletions=[h],u.flags|=16):v.push(h)}}function r(u,h){if(!e)return null;for(;h!==null;)t(u,h),h=h.sibling;return null}function n(u,h){for(u=new Map;h!==null;)h.key!==null?u.set(h.key,h):u.set(h.index,h),h=h.sibling;return u}function s(u,h){return u=or(u,h),u.index=0,u.sibling=null,u}function l(u,h,v){return u.index=v,e?(v=u.alternate,v!==null?(v=v.index,v<h?(u.flags|=2,h):v):(u.flags|=2,h)):(u.flags|=1048576,h)}function o(u){return e&&u.alternate===null&&(u.flags|=2),u}function i(u,h,v,f){return h===null||h.tag!==6?(h=kl(v,u.mode,f),h.return=u,h):(h=s(h,v),h.return=u,h)}function c(u,h,v,f){var w=v.type;return w===Ur?g(u,h,v.props.children,f,v.key):h!==null&&(h.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&Sc(w)===h.type)?(f=s(h,v.props),f.ref=va(u,h,v),f.return=u,f):(f=qn(v.type,v.key,v.props,null,u.mode,f),f.ref=va(u,h,v),f.return=u,f)}function d(u,h,v,f){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Nl(v,u.mode,f),h.return=u,h):(h=s(h,v.children||[]),h.return=u,h)}function g(u,h,v,f,w){return h===null||h.tag!==7?(h=Sr(v,u.mode,f,w),h.return=u,h):(h=s(h,v),h.return=u,h)}function m(u,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=kl(""+h,u.mode,v),h.return=u,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case vn:return v=qn(h.type,h.key,h.props,null,u.mode,v),v.ref=va(u,null,h),v.return=u,v;case Or:return h=Nl(h,u.mode,v),h.return=u,h;case Qt:var f=h._init;return m(u,f(h._payload),v)}if(Ea(h)||ha(h))return h=Sr(h,u.mode,v,null),h.return=u,h;Rn(u,h)}return null}function x(u,h,v,f){var w=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:i(u,h,""+v,f);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vn:return v.key===w?c(u,h,v,f):null;case Or:return v.key===w?d(u,h,v,f):null;case Qt:return w=v._init,x(u,h,w(v._payload),f)}if(Ea(v)||ha(v))return w!==null?null:g(u,h,v,f,null);Rn(u,v)}return null}function j(u,h,v,f,w){if(typeof f=="string"&&f!==""||typeof f=="number")return u=u.get(v)||null,i(h,u,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vn:return u=u.get(f.key===null?v:f.key)||null,c(h,u,f,w);case Or:return u=u.get(f.key===null?v:f.key)||null,d(h,u,f,w);case Qt:var S=f._init;return j(u,h,v,S(f._payload),w)}if(Ea(f)||ha(f))return u=u.get(v)||null,g(h,u,f,w,null);Rn(h,f)}return null}function p(u,h,v,f){for(var w=null,S=null,k=h,N=h=0,C=null;k!==null&&N<v.length;N++){k.index>N?(C=k,k=null):C=k.sibling;var M=x(u,k,v[N],f);if(M===null){k===null&&(k=C);break}e&&k&&M.alternate===null&&t(u,k),h=l(M,h,N),S===null?w=M:S.sibling=M,S=M,k=C}if(N===v.length)return r(u,k),xe&&xr(u,N),w;if(k===null){for(;N<v.length;N++)k=m(u,v[N],f),k!==null&&(h=l(k,h,N),S===null?w=k:S.sibling=k,S=k);return xe&&xr(u,N),w}for(k=n(u,k);N<v.length;N++)C=j(k,u,N,v[N],f),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?N:C.key),h=l(C,h,N),S===null?w=C:S.sibling=C,S=C);return e&&k.forEach(function(Z){return t(u,Z)}),xe&&xr(u,N),w}function E(u,h,v,f){var w=ha(v);if(typeof w!="function")throw Error(O(150));if(v=w.call(v),v==null)throw Error(O(151));for(var S=w=null,k=h,N=h=0,C=null,M=v.next();k!==null&&!M.done;N++,M=v.next()){k.index>N?(C=k,k=null):C=k.sibling;var Z=x(u,k,M.value,f);if(Z===null){k===null&&(k=C);break}e&&k&&Z.alternate===null&&t(u,k),h=l(Z,h,N),S===null?w=Z:S.sibling=Z,S=Z,k=C}if(M.done)return r(u,k),xe&&xr(u,N),w;if(k===null){for(;!M.done;N++,M=v.next())M=m(u,M.value,f),M!==null&&(h=l(M,h,N),S===null?w=M:S.sibling=M,S=M);return xe&&xr(u,N),w}for(k=n(u,k);!M.done;N++,M=v.next())M=j(k,u,N,M.value,f),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?N:M.key),h=l(M,h,N),S===null?w=M:S.sibling=M,S=M);return e&&k.forEach(function(le){return t(u,le)}),xe&&xr(u,N),w}function y(u,h,v,f){if(typeof v=="object"&&v!==null&&v.type===Ur&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case vn:e:{for(var w=v.key,S=h;S!==null;){if(S.key===w){if(w=v.type,w===Ur){if(S.tag===7){r(u,S.sibling),h=s(S,v.props.children),h.return=u,u=h;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&Sc(w)===S.type){r(u,S.sibling),h=s(S,v.props),h.ref=va(u,S,v),h.return=u,u=h;break e}r(u,S);break}else t(u,S);S=S.sibling}v.type===Ur?(h=Sr(v.props.children,u.mode,f,v.key),h.return=u,u=h):(f=qn(v.type,v.key,v.props,null,u.mode,f),f.ref=va(u,h,v),f.return=u,u=f)}return o(u);case Or:e:{for(S=v.key;h!==null;){if(h.key===S)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){r(u,h.sibling),h=s(h,v.children||[]),h.return=u,u=h;break e}else{r(u,h);break}else t(u,h);h=h.sibling}h=Nl(v,u.mode,f),h.return=u,u=h}return o(u);case Qt:return S=v._init,y(u,h,S(v._payload),f)}if(Ea(v))return p(u,h,v,f);if(ha(v))return E(u,h,v,f);Rn(u,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(r(u,h.sibling),h=s(h,v),h.return=u,u=h):(r(u,h),h=kl(v,u.mode,f),h.return=u,u=h),o(u)):r(u,h)}return y}var na=Iu(!0),Lu=Iu(!1),us=gr(null),ms=null,Wr=null,ni=null;function si(){ni=Wr=ms=null}function li(e){var t=us.current;fe(us),e._currentValue=t}function lo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jr(e,t){ms=e,ni=Wr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(ni!==e)if(e={context:e,memoizedValue:t,next:null},Wr===null){if(ms===null)throw Error(O(308));Wr=e,ms.dependencies={lanes:0,firstContext:e}}else Wr=Wr.next=e;return t}var br=null;function oi(e){br===null?br=[e]:br.push(e)}function Ou(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,oi(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ht(e,n)}function Ht(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kt=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function nr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ht(e,r)}return s=n.interleaved,s===null?(t.next=t,oi(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ht(e,r)}function zn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qo(e,r)}}function jc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gs(e,t,r,n){var s=e.updateQueue;Kt=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var c=i,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var g=e.alternate;g!==null&&(g=g.updateQueue,i=g.lastBaseUpdate,i!==o&&(i===null?g.firstBaseUpdate=d:i.next=d,g.lastBaseUpdate=c))}if(l!==null){var m=s.baseState;o=0,g=d=c=null,i=l;do{var x=i.lane,j=i.eventTime;if((n&x)===x){g!==null&&(g=g.next={eventTime:j,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,E=i;switch(x=t,j=r,E.tag){case 1:if(p=E.payload,typeof p=="function"){m=p.call(j,m,x);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=E.payload,x=typeof p=="function"?p.call(j,m,x):p,x==null)break e;m=we({},m,x);break e;case 2:Kt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[i]:x.push(i))}else j={eventTime:j,lane:x,tag:i.tag,payload:i.payload,callback:i.callback,next:null},g===null?(d=g=j,c=m):g=g.next=j,o|=x;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;x=i,i=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(g===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=g,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);_r|=o,e.lanes=o,e.memoizedState=m}}function Ec(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var un={},Dt=gr(un),Za=gr(un),Ja=gr(un);function wr(e){if(e===un)throw Error(O(174));return e}function ci(e,t){switch(me(Ja,t),me(Za,e),me(Dt,un),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$l(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$l(t,e)}fe(Dt),me(Dt,t)}function sa(){fe(Dt),fe(Za),fe(Ja)}function Mu(e){wr(Ja.current);var t=wr(Dt.current),r=$l(t,e.type);t!==r&&(me(Za,e),me(Dt,r))}function di(e){Za.current===e&&(fe(Dt),fe(Za))}var ve=gr(0);function hs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function ui(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var Vn=Gt.ReactCurrentDispatcher,xl=Gt.ReactCurrentBatchConfig,Tr=0,be=null,Ae=null,Ie=null,fs=!1,Ia=!1,Xa=0,uh=0;function Fe(){throw Error(O(321))}function mi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function gi(e,t,r,n,s,l){if(Tr=l,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vn.current=e===null||e.memoizedState===null?fh:ph,e=r(n,s),Ia){l=0;do{if(Ia=!1,Xa=0,25<=l)throw Error(O(301));l+=1,Ie=Ae=null,t.updateQueue=null,Vn.current=xh,e=r(n,s)}while(Ia)}if(Vn.current=ps,t=Ae!==null&&Ae.next!==null,Tr=0,Ie=Ae=be=null,fs=!1,t)throw Error(O(300));return e}function hi(){var e=Xa!==0;return Xa=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?be.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function pt(){if(Ae===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Ie===null?be.memoizedState:Ie.next;if(t!==null)Ie=t,Ae=e;else{if(e===null)throw Error(O(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Ie===null?be.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function en(e,t){return typeof t=="function"?t(e):t}function yl(e){var t=pt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Ae,s=n.baseQueue,l=r.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}n.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,n=n.baseState;var i=o=null,c=null,d=l;do{var g=d.lane;if((Tr&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=m,o=n):c=c.next=m,be.lanes|=g,_r|=g}d=d.next}while(d!==null&&d!==l);c===null?o=n:c.next=i,jt(n,t.memoizedState)||(Xe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do l=s.lane,be.lanes|=l,_r|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function vl(e){var t=pt(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);jt(l,t.memoizedState)||(Xe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Fu(){}function $u(e,t){var r=be,n=pt(),s=t(),l=!jt(n.memoizedState,s);if(l&&(n.memoizedState=s,Xe=!0),n=n.queue,fi(Hu.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,tn(9,Vu.bind(null,r,n,s,t),void 0,null),Le===null)throw Error(O(349));Tr&30||zu(r,t,s)}return s}function zu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Vu(e,t,r,n){t.value=r,t.getSnapshot=n,Bu(t)&&Wu(e)}function Hu(e,t,r){return r(function(){Bu(t)&&Wu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function Wu(e){var t=Ht(e,1);t!==null&&Nt(t,e,1,-1)}function Cc(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:e},t.queue=e,e=e.dispatch=hh.bind(null,be,e),[t.memoizedState,e]}function tn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gu(){return pt().memoizedState}function Hn(e,t,r,n){var s=Rt();be.flags|=e,s.memoizedState=tn(1|t,r,void 0,n===void 0?null:n)}function Ds(e,t,r,n){var s=pt();n=n===void 0?null:n;var l=void 0;if(Ae!==null){var o=Ae.memoizedState;if(l=o.destroy,n!==null&&mi(n,o.deps)){s.memoizedState=tn(t,r,l,n);return}}be.flags|=e,s.memoizedState=tn(1|t,r,l,n)}function Tc(e,t){return Hn(8390656,8,e,t)}function fi(e,t){return Ds(2048,8,e,t)}function qu(e,t){return Ds(4,2,e,t)}function Qu(e,t){return Ds(4,4,e,t)}function Ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,r){return r=r!=null?r.concat([e]):null,Ds(4,4,Ku.bind(null,t,e),r)}function pi(){}function Zu(e,t){var r=pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ju(e,t){var r=pt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&mi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xu(e,t,r){return Tr&21?(jt(r,t)||(r=nu(),be.lanes|=r,_r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=r)}function mh(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=xl.transition;xl.transition={};try{e(!1),t()}finally{ce=r,xl.transition=n}}function e0(){return pt().memoizedState}function gh(e,t,r){var n=lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},t0(e))r0(t,r);else if(r=Ou(e,t,r,n),r!==null){var s=Qe();Nt(r,e,n,s),a0(r,t,n)}}function hh(e,t,r){var n=lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(t0(e))r0(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,r);if(s.hasEagerState=!0,s.eagerState=i,jt(i,o)){var c=t.interleaved;c===null?(s.next=s,oi(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Ou(e,t,s,n),r!==null&&(s=Qe(),Nt(r,e,n,s),a0(r,t,n))}}function t0(e){var t=e.alternate;return e===be||t!==null&&t===be}function r0(e,t){Ia=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qo(e,r)}}var ps={readContext:ft,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},fh={readContext:ft,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Tc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hn(4194308,4,Ku.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hn(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gh.bind(null,be,e),[n.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:pi,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=mh.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=be,s=Rt();if(xe){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Le===null)throw Error(O(349));Tr&30||zu(n,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,Tc(Hu.bind(null,n,l,e),[e]),n.flags|=2048,tn(9,Vu.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Le.identifierPrefix;if(xe){var r=Ft,n=Mt;r=(n&~(1<<32-kt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ph={readContext:ft,useCallback:Zu,useContext:ft,useEffect:fi,useImperativeHandle:Yu,useInsertionEffect:qu,useLayoutEffect:Qu,useMemo:Ju,useReducer:yl,useRef:Gu,useState:function(){return yl(en)},useDebugValue:pi,useDeferredValue:function(e){var t=pt();return Xu(t,Ae.memoizedState,e)},useTransition:function(){var e=yl(en)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:$u,useId:e0,unstable_isNewReconciler:!1},xh={readContext:ft,useCallback:Zu,useContext:ft,useEffect:fi,useImperativeHandle:Yu,useInsertionEffect:qu,useLayoutEffect:Qu,useMemo:Ju,useReducer:vl,useRef:Gu,useState:function(){return vl(en)},useDebugValue:pi,useDeferredValue:function(e){var t=pt();return Ae===null?t.memoizedState=e:Xu(t,Ae.memoizedState,e)},useTransition:function(){var e=vl(en)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Fu,useSyncExternalStore:$u,useId:e0,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Is={isMounted:function(e){return(e=e._reactInternals)?Dr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=lr(e),l=$t(n,s);l.payload=t,r!=null&&(l.callback=r),t=nr(e,l,s),t!==null&&(Nt(t,e,s,n),zn(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=lr(e),l=$t(n,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=nr(e,l,s),t!==null&&(Nt(t,e,s,n),zn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qe(),n=lr(e),s=$t(r,n);s.tag=2,t!=null&&(s.callback=t),t=nr(e,s,n),t!==null&&(Nt(t,e,n,r),zn(t,e,n))}};function _c(e,t,r,n,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!qa(r,n)||!qa(s,l):!0}function n0(e,t,r){var n=!1,s=dr,l=t.contextType;return typeof l=="object"&&l!==null?l=ft(l):(s=tt(t)?Er:Be.current,n=t.contextTypes,l=(n=n!=null)?ra(e,s):dr),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Is,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Rc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ii(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=ft(l):(l=tt(t)?Er:Be.current,s.context=ra(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(oo(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Is.enqueueReplaceState(s,s.state,null),gs(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function la(e,t){try{var r="",n=t;do r+=Wm(n),n=n.return;while(n);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function bl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function co(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yh=typeof WeakMap=="function"?WeakMap:Map;function s0(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ys||(ys=!0,bo=n),co(e,t)},r}function l0(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){co(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){co(e,t),typeof n!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ac(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yh;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Ph.bind(null,e,t,r),t.then(e,e))}function Pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,nr(r,t,1))),r.lanes|=1),e)}var vh=Gt.ReactCurrentOwner,Xe=!1;function qe(e,t,r,n){t.child=e===null?Lu(t,null,r,n):na(t,e.child,r,n)}function Ic(e,t,r,n,s){r=r.render;var l=t.ref;return Jr(t,s),n=gi(e,t,r,n,l,s),r=hi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(xe&&r&&ti(t),t.flags|=1,qe(e,t,n,s),t.child)}function Lc(e,t,r,n,s){if(e===null){var l=r.type;return typeof l=="function"&&!Si(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,o0(e,t,l,n,s)):(e=qn(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:qa,r(o,n)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=or(l,n),e.ref=t.ref,e.return=t,t.child=e}function o0(e,t,r,n,s){if(e!==null){var l=e.memoizedProps;if(qa(l,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=l,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return uo(e,t,r,n,s)}function i0(e,t,r){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(qr,st),st|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(qr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,me(qr,st),st|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,me(qr,st),st|=n;return qe(e,t,s,r),t.child}function c0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function uo(e,t,r,n,s){var l=tt(r)?Er:Be.current;return l=ra(t,l),Jr(t,s),r=gi(e,t,r,n,l,s),n=hi(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(xe&&n&&ti(t),t.flags|=1,qe(e,t,r,s),t.child)}function Oc(e,t,r,n,s){if(tt(r)){var l=!0;is(t)}else l=!1;if(Jr(t,s),t.stateNode===null)Bn(e,t),n0(t,r,n),io(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ft(d):(d=tt(r)?Er:Be.current,d=ra(t,d));var g=r.getDerivedStateFromProps,m=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==n||c!==d)&&Rc(t,o,n,d),Kt=!1;var x=t.memoizedState;o.state=x,gs(t,n,o,s),c=t.memoizedState,i!==n||x!==c||et.current||Kt?(typeof g=="function"&&(oo(t,r,g,n),c=t.memoizedState),(i=Kt||_c(t,r,i,n,x,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Uu(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:vt(t.type,i),o.props=d,m=t.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ft(c):(c=tt(r)?Er:Be.current,c=ra(t,c));var j=r.getDerivedStateFromProps;(g=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||x!==c)&&Rc(t,o,n,c),Kt=!1,x=t.memoizedState,o.state=x,gs(t,n,o,s);var p=t.memoizedState;i!==m||x!==p||et.current||Kt?(typeof j=="function"&&(oo(t,r,j,n),p=t.memoizedState),(d=Kt||_c(t,r,d,n,x,p,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return mo(e,t,r,n,l,s)}function mo(e,t,r,n,s,l){c0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&wc(t,r,!1),Bt(e,t,l);n=t.stateNode,vh.current=t;var i=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=na(t,e.child,null,l),t.child=na(t,null,i,l)):qe(e,t,i,l),t.memoizedState=n.state,s&&wc(t,r,!0),t.child}function d0(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),ci(e,t.containerInfo)}function Uc(e,t,r,n,s){return aa(),ai(s),t.flags|=256,qe(e,t,r,n),t.child}var go={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function u0(e,t,r){var n=t.pendingProps,s=ve.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(ve,s&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Us(o,n,0,null),e=Sr(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ho(r),t.memoizedState=go,e):xi(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return bh(e,t,o,n,i,s,r);if(l){l=n.fallback,o=t.mode,s=e.child,i=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=or(s,c),n.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=or(i,l):(l=Sr(l,o,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=e.child.memoizedState,o=o===null?ho(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=go,n}return l=e.child,e=l.sibling,n=or(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function xi(e,t){return t=Us({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function An(e,t,r,n){return n!==null&&ai(n),na(t,e.child,null,r),e=xi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,r,n,s,l,o){if(r)return t.flags&256?(t.flags&=-257,n=bl(Error(O(422))),An(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,s=t.mode,n=Us({mode:"visible",children:n.children},s,0,null),l=Sr(l,s,o,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&na(t,e.child,null,o),t.child.memoizedState=ho(o),t.memoizedState=go,l);if(!(t.mode&1))return An(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var i=n.dgst;return n=i,l=Error(O(419)),n=bl(l,n,void 0),An(e,t,o,n)}if(i=(o&e.childLanes)!==0,Xe||i){if(n=Le,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ht(e,s),Nt(n,e,s,-1))}return Ni(),n=bl(Error(O(421))),An(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Dh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,lt=ar(s.nextSibling),ot=t,xe=!0,wt=null,e!==null&&(ut[mt++]=Mt,ut[mt++]=Ft,ut[mt++]=Cr,Mt=e.id,Ft=e.overflow,Cr=t),t=xi(t,n.children),t.flags|=4096,t)}function Mc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lo(e.return,t,r)}function wl(e,t,r,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=s)}function m0(e,t,r){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(qe(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,r,t);else if(e.tag===19)Mc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(ve,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),wl(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}wl(t,!0,r,null,l);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=or(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=or(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wh(e,t,r){switch(t.tag){case 3:d0(t),aa();break;case 5:Mu(t);break;case 1:tt(t.type)&&is(t);break;case 4:ci(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;me(us,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?u0(e,t,r):(me(ve,ve.current&1),e=Bt(e,t,r),e!==null?e.sibling:null);me(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,i0(e,t,r)}return Bt(e,t,r)}var g0,fo,h0,f0;g0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fo=function(){};h0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,wr(Dt.current);var l=null;switch(r){case"input":s=Ol(e,s),n=Ol(e,n),l=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),l=[];break;case"textarea":s=Fl(e,s),n=Fl(e,n),l=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ls)}zl(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var i=s[d];for(o in i)i.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($a.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(i=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&($a.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&he("scroll",e),l||i===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};f0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ba(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kh(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return tt(t.type)&&os(),$e(t),null;case 3:return n=t.stateNode,sa(),fe(et),fe(Be),ui(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_n(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(No(wt),wt=null))),fo(e,t),$e(t),null;case 5:di(t);var s=wr(Ja.current);if(r=t.type,e!==null&&t.stateNode!=null)h0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return $e(t),null}if(e=wr(Dt.current),_n(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[At]=t,n[Ya]=l,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Ta.length;s++)he(Ta[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":qi(n,l),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},he("invalid",n);break;case"textarea":Ki(n,l),he("invalid",n)}zl(r,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?n.textContent!==i&&(l.suppressHydrationWarning!==!0&&Tn(n.textContent,i,e),s=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&Tn(n.textContent,i,e),s=["children",""+i]):$a.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":bn(n),Qi(n,l,!0);break;case"textarea":bn(n),Yi(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=ls)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[At]=t,e[Ya]=n,g0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vl(r,n),r){case"dialog":he("cancel",e),he("close",e),s=n;break;case"iframe":case"object":case"embed":he("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ta.length;s++)he(Ta[s],e);s=n;break;case"source":he("error",e),s=n;break;case"img":case"image":case"link":he("error",e),he("load",e),s=n;break;case"details":he("toggle",e),s=n;break;case"input":qi(e,n),s=Ol(e,n),he("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),he("invalid",e);break;case"textarea":Ki(e,n),s=Fl(e,n),he("invalid",e);break;default:s=n}zl(r,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="style"?Gd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bd(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&za(e,c):typeof c=="number"&&za(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&($a.hasOwnProperty(l)?c!=null&&l==="onScroll"&&he("scroll",e):c!=null&&zo(e,l,c,o))}switch(r){case"input":bn(e),Qi(e,n,!1);break;case"textarea":bn(e),Yi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+cr(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Qr(e,!!n.multiple,l,!1):n.defaultValue!=null&&Qr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ls)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)f0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=wr(Ja.current),wr(Dt.current),_n(t)){if(n=t.stateNode,r=t.memoizedProps,n[At]=t,(l=n.nodeValue!==r)&&(e=ot,e!==null))switch(e.tag){case 3:Tn(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tn(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[At]=t,t.stateNode=n}return $e(t),null;case 13:if(fe(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&lt!==null&&t.mode&1&&!(t.flags&128))Du(),aa(),t.flags|=98560,l=!1;else if(l=_n(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[At]=t}else aa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),l=!1}else wt!==null&&(No(wt),wt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?De===0&&(De=3):Ni())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return sa(),fo(e,t),e===null&&Qa(t.stateNode.containerInfo),$e(t),null;case 10:return li(t.type._context),$e(t),null;case 17:return tt(t.type)&&os(),$e(t),null;case 19:if(fe(ve),l=t.memoizedState,l===null)return $e(t),null;if(n=(t.flags&128)!==0,o=l.rendering,o===null)if(n)ba(l,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hs(e),o!==null){for(t.flags|=128,ba(l,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(ve,ve.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>oa&&(t.flags|=128,n=!0,ba(l,!1),t.lanes=4194304)}else{if(!n)if(e=hs(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ba(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!xe)return $e(t),null}else 2*Ee()-l.renderingStartTime>oa&&r!==1073741824&&(t.flags|=128,n=!0,ba(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,r=ve.current,me(ve,n?r&1|2:r&1),t):($e(t),null);case 22:case 23:return ki(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?st&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function Nh(e,t){switch(ri(t),t.tag){case 1:return tt(t.type)&&os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(),fe(et),fe(Be),ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return di(t),null;case 13:if(fe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ve),null;case 4:return sa(),null;case 10:return li(t.type._context),null;case 22:case 23:return ki(),null;case 24:return null;default:return null}}var Pn=!1,ze=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,W=null;function Gr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(e,t,n)}else r.current=null}function po(e,t,r){try{r()}catch(n){Ne(e,t,n)}}var Fc=!1;function jh(e,t){if(Jl=as,e=bu(),ei(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,i=-1,c=-1,d=0,g=0,m=e,x=null;t:for(;;){for(var j;m!==r||s!==0&&m.nodeType!==3||(i=o+s),m!==l||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(j=m.firstChild)!==null;)x=m,m=j;for(;;){if(m===e)break t;if(x===r&&++d===s&&(i=o),x===l&&++g===n&&(c=o),(j=m.nextSibling)!==null)break;m=x,x=m.parentNode}m=j}r=i===-1||c===-1?null:{start:i,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xl={focusedElem:e,selectionRange:r},as=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var E=p.memoizedProps,y=p.memoizedState,u=t.stateNode,h=u.getSnapshotBeforeUpdate(t.elementType===t.type?E:vt(t.type,E),y);u.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(f){Ne(t,t.return,f)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return p=Fc,Fc=!1,p}function La(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&po(t,r,l)}s=s.next}while(s!==n)}}function Ls(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function p0(e){var t=e.alternate;t!==null&&(e.alternate=null,p0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Ya],delete t[ro],delete t[oh],delete t[ih])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x0(e){return e.tag===5||e.tag===3||e.tag===4}function $c(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ls));else if(n!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}function vo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vo(e,t,r),e=e.sibling;e!==null;)vo(e,t,r),e=e.sibling}var Oe=null,bt=!1;function qt(e,t,r){for(r=r.child;r!==null;)y0(e,t,r),r=r.sibling}function y0(e,t,r){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Cs,r)}catch{}switch(r.tag){case 5:ze||Gr(r,t);case 6:var n=Oe,s=bt;Oe=null,qt(e,t,r),Oe=n,bt=s,Oe!==null&&(bt?(e=Oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Oe.removeChild(r.stateNode));break;case 18:Oe!==null&&(bt?(e=Oe,r=r.stateNode,e.nodeType===8?hl(e.parentNode,r):e.nodeType===1&&hl(e,r),Wa(e)):hl(Oe,r.stateNode));break;case 4:n=Oe,s=bt,Oe=r.stateNode.containerInfo,bt=!0,qt(e,t,r),Oe=n,bt=s;break;case 0:case 11:case 14:case 15:if(!ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&po(r,t,o),s=s.next}while(s!==n)}qt(e,t,r);break;case 1:if(!ze&&(Gr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){Ne(r,t,i)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?(ze=(n=ze)||r.memoizedState!==null,qt(e,t,r),ze=n):qt(e,t,r);break;default:qt(e,t,r)}}function zc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sh),t.forEach(function(n){var s=Ih.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Oe=i.stateNode,bt=!1;break e;case 3:Oe=i.stateNode.containerInfo,bt=!0;break e;case 4:Oe=i.stateNode.containerInfo,bt=!0;break e}i=i.return}if(Oe===null)throw Error(O(160));y0(l,o,s),Oe=null,bt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ne(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)v0(t,e),t=t.sibling}function v0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Tt(e),n&4){try{La(3,e,e.return),Ls(3,e)}catch(E){Ne(e,e.return,E)}try{La(5,e,e.return)}catch(E){Ne(e,e.return,E)}}break;case 1:xt(t,e),Tt(e),n&512&&r!==null&&Gr(r,r.return);break;case 5:if(xt(t,e),Tt(e),n&512&&r!==null&&Gr(r,r.return),e.flags&32){var s=e.stateNode;try{za(s,"")}catch(E){Ne(e,e.return,E)}}if(n&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&zd(s,l),Vl(i,o);var d=Vl(i,l);for(o=0;o<c.length;o+=2){var g=c[o],m=c[o+1];g==="style"?Gd(s,m):g==="dangerouslySetInnerHTML"?Bd(s,m):g==="children"?za(s,m):zo(s,g,m,d)}switch(i){case"input":Ul(s,l);break;case"textarea":Vd(s,l);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var j=l.value;j!=null?Qr(s,!!l.multiple,j,!1):x!==!!l.multiple&&(l.defaultValue!=null?Qr(s,!!l.multiple,l.defaultValue,!0):Qr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ya]=l}catch(E){Ne(e,e.return,E)}}break;case 6:if(xt(t,e),Tt(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(E){Ne(e,e.return,E)}}break;case 3:if(xt(t,e),Tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(t.containerInfo)}catch(E){Ne(e,e.return,E)}break;case 4:xt(t,e),Tt(e);break;case 13:xt(t,e),Tt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(bi=Ee())),n&4&&zc(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(ze=(d=ze)||g,xt(t,e),ze=d):xt(t,e),Tt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(W=e,g=e.child;g!==null;){for(m=W=g;W!==null;){switch(x=W,j=x.child,x.tag){case 0:case 11:case 14:case 15:La(4,x,x.return);break;case 1:Gr(x,x.return);var p=x.stateNode;if(typeof p.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(E){Ne(n,r,E)}}break;case 5:Gr(x,x.return);break;case 22:if(x.memoizedState!==null){Hc(m);continue}}j!==null?(j.return=x,W=j):Hc(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{s=m.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Wd("display",o))}catch(E){Ne(e,e.return,E)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){Ne(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(t,e),Tt(e),n&4&&zc(e);break;case 21:break;default:xt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x0(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(za(s,""),n.flags&=-33);var l=$c(e);vo(e,l,s);break;case 3:case 4:var o=n.stateNode.containerInfo,i=$c(e);yo(e,i,o);break;default:throw Error(O(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eh(e,t,r){W=e,b0(e)}function b0(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,l=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Pn;if(!o){var i=s.alternate,c=i!==null&&i.memoizedState!==null||ze;i=Pn;var d=ze;if(Pn=o,(ze=c)&&!d)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Bc(s):c!==null?(c.return=o,W=c):Bc(s);for(;l!==null;)W=l,b0(l),l=l.sibling;W=s,Pn=i,ze=d}Vc(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,W=l):Vc(e)}}function Vc(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ze||Ls(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ze)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:vt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Ec(t,l,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ec(t,o,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Wa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}ze||t.flags&512&&xo(t)}catch(x){Ne(t,t.return,x)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Hc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Bc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ls(4,t)}catch(c){Ne(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ne(t,s,c)}}var l=t.return;try{xo(t)}catch(c){Ne(t,l,c)}break;case 5:var o=t.return;try{xo(t)}catch(c){Ne(t,o,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){W=null;break}var i=t.sibling;if(i!==null){i.return=t.return,W=i;break}W=t.return}}var Ch=Math.ceil,xs=Gt.ReactCurrentDispatcher,yi=Gt.ReactCurrentOwner,ht=Gt.ReactCurrentBatchConfig,ae=0,Le=null,Re=null,Ue=0,st=0,qr=gr(0),De=0,rn=null,_r=0,Os=0,vi=0,Oa=null,Je=null,bi=0,oa=1/0,Lt=null,ys=!1,bo=null,sr=null,Dn=!1,Xt=null,vs=0,Ua=0,wo=null,Wn=-1,Gn=0;function Qe(){return ae&6?Ee():Wn!==-1?Wn:Wn=Ee()}function lr(e){return e.mode&1?ae&2&&Ue!==0?Ue&-Ue:dh.transition!==null?(Gn===0&&(Gn=nu()),Gn):(e=ce,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e):1}function Nt(e,t,r,n){if(50<Ua)throw Ua=0,wo=null,Error(O(185));on(e,r,n),(!(ae&2)||e!==Le)&&(e===Le&&(!(ae&2)&&(Os|=r),De===4&&Zt(e,Ue)),rt(e,n),r===1&&ae===0&&!(t.mode&1)&&(oa=Ee()+500,Ps&&hr()))}function rt(e,t){var r=e.callbackNode;dg(e,t);var n=rs(e,e===Le?Ue:0);if(n===0)r!==null&&Xi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xi(r),t===1)e.tag===0?ch(Wc.bind(null,e)):Ru(Wc.bind(null,e)),sh(function(){!(ae&6)&&hr()}),r=null;else{switch(su(n)){case 1:r=Go;break;case 4:r=ru;break;case 16:r=ts;break;case 536870912:r=au;break;default:r=ts}r=T0(r,w0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function w0(e,t){if(Wn=-1,Gn=0,ae&6)throw Error(O(327));var r=e.callbackNode;if(Xr()&&e.callbackNode!==r)return null;var n=rs(e,e===Le?Ue:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bs(e,n);else{t=n;var s=ae;ae|=2;var l=N0();(Le!==e||Ue!==t)&&(Lt=null,oa=Ee()+500,Nr(e,t));do try{Rh();break}catch(i){k0(e,i)}while(!0);si(),xs.current=l,ae=s,Re!==null?t=0:(Le=null,Ue=0,t=De)}if(t!==0){if(t===2&&(s=ql(e),s!==0&&(n=s,t=ko(e,s))),t===1)throw r=rn,Nr(e,0),Zt(e,n),rt(e,Ee()),r;if(t===6)Zt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Th(s)&&(t=bs(e,n),t===2&&(l=ql(e),l!==0&&(n=l,t=ko(e,l))),t===1))throw r=rn,Nr(e,0),Zt(e,n),rt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:yr(e,Je,Lt);break;case 3:if(Zt(e,n),(n&130023424)===n&&(t=bi+500-Ee(),10<t)){if(rs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=to(yr.bind(null,e,Je,Lt),t);break}yr(e,Je,Lt);break;case 4:if(Zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-kt(n);l=1<<o,o=t[o],o>s&&(s=o),n&=~l}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ch(n/1960))-n,10<n){e.timeoutHandle=to(yr.bind(null,e,Je,Lt),n);break}yr(e,Je,Lt);break;case 5:yr(e,Je,Lt);break;default:throw Error(O(329))}}}return rt(e,Ee()),e.callbackNode===r?w0.bind(null,e):null}function ko(e,t){var r=Oa;return e.current.memoizedState.isDehydrated&&(Nr(e,t).flags|=256),e=bs(e,t),e!==2&&(t=Je,Je=r,t!==null&&No(t)),e}function No(e){Je===null?Je=e:Je.push.apply(Je,e)}function Th(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],l=s.getSnapshot;s=s.value;try{if(!jt(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~vi,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-kt(t),n=1<<r;e[r]=-1,t&=~n}}function Wc(e){if(ae&6)throw Error(O(327));Xr();var t=rs(e,0);if(!(t&1))return rt(e,Ee()),null;var r=bs(e,t);if(e.tag!==0&&r===2){var n=ql(e);n!==0&&(t=n,r=ko(e,n))}if(r===1)throw r=rn,Nr(e,0),Zt(e,t),rt(e,Ee()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Je,Lt),rt(e,Ee()),null}function wi(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(oa=Ee()+500,Ps&&hr())}}function Rr(e){Xt!==null&&Xt.tag===0&&!(ae&6)&&Xr();var t=ae;ae|=1;var r=ht.transition,n=ce;try{if(ht.transition=null,ce=1,e)return e()}finally{ce=n,ht.transition=r,ae=t,!(ae&6)&&hr()}}function ki(){st=qr.current,fe(qr)}function Nr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nh(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(ri(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&os();break;case 3:sa(),fe(et),fe(Be),ui();break;case 5:di(n);break;case 4:sa();break;case 13:fe(ve);break;case 19:fe(ve);break;case 10:li(n.type._context);break;case 22:case 23:ki()}r=r.return}if(Le=e,Re=e=or(e.current,null),Ue=st=t,De=0,rn=null,vi=Os=_r=0,Je=Oa=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,l=r.pending;if(l!==null){var o=l.next;l.next=s,n.next=o}r.pending=n}br=null}return e}function k0(e,t){do{var r=Re;try{if(si(),Vn.current=ps,fs){for(var n=be.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fs=!1}if(Tr=0,Ie=Ae=be=null,Ia=!1,Xa=0,yi.current=null,r===null||r.return===null){De=1,rn=t,Re=null;break}e:{var l=e,o=r.return,i=r,c=t;if(t=Ue,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=i,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var j=Pc(o);if(j!==null){j.flags&=-257,Dc(j,o,i,l,t),j.mode&1&&Ac(l,d,t),t=j,c=d;var p=t.updateQueue;if(p===null){var E=new Set;E.add(c),t.updateQueue=E}else p.add(c);break e}else{if(!(t&1)){Ac(l,d,t),Ni();break e}c=Error(O(426))}}else if(xe&&i.mode&1){var y=Pc(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Dc(y,o,i,l,t),ai(la(c,i));break e}}l=c=la(c,i),De!==4&&(De=2),Oa===null?Oa=[l]:Oa.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var u=s0(l,c,t);jc(l,u);break e;case 1:i=c;var h=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sr===null||!sr.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t;var f=l0(l,i,t);jc(l,f);break e}}l=l.return}while(l!==null)}j0(r)}catch(w){t=w,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(!0)}function N0(){var e=xs.current;return xs.current=ps,e===null?ps:e}function Ni(){(De===0||De===3||De===2)&&(De=4),Le===null||!(_r&268435455)&&!(Os&268435455)||Zt(Le,Ue)}function bs(e,t){var r=ae;ae|=2;var n=N0();(Le!==e||Ue!==t)&&(Lt=null,Nr(e,t));do try{_h();break}catch(s){k0(e,s)}while(!0);if(si(),ae=r,xs.current=n,Re!==null)throw Error(O(261));return Le=null,Ue=0,De}function _h(){for(;Re!==null;)S0(Re)}function Rh(){for(;Re!==null&&!tg();)S0(Re)}function S0(e){var t=C0(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?j0(e):Re=t,yi.current=null}function j0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nh(r,t),r!==null){r.flags&=32767,Re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Re=null;return}}else if(r=kh(r,t,st),r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);De===0&&(De=5)}function yr(e,t,r){var n=ce,s=ht.transition;try{ht.transition=null,ce=1,Ah(e,t,r,n)}finally{ht.transition=s,ce=n}return null}function Ah(e,t,r,n){do Xr();while(Xt!==null);if(ae&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(ug(e,l),e===Le&&(Re=Le=null,Ue=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Dn||(Dn=!0,T0(ts,function(){return Xr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=ht.transition,ht.transition=null;var o=ce;ce=1;var i=ae;ae|=4,yi.current=null,jh(e,r),v0(r,e),Zg(Xl),as=!!Jl,Xl=Jl=null,e.current=r,Eh(r),rg(),ae=i,ce=o,ht.transition=l}else e.current=r;if(Dn&&(Dn=!1,Xt=e,vs=s),l=e.pendingLanes,l===0&&(sr=null),sg(r.stateNode),rt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ys)throw ys=!1,e=bo,bo=null,e;return vs&1&&e.tag!==0&&Xr(),l=e.pendingLanes,l&1?e===wo?Ua++:(Ua=0,wo=e):Ua=0,hr(),null}function Xr(){if(Xt!==null){var e=su(vs),t=ht.transition,r=ce;try{if(ht.transition=null,ce=16>e?16:e,Xt===null)var n=!1;else{if(e=Xt,Xt=null,vs=0,ae&6)throw Error(O(331));var s=ae;for(ae|=4,W=e.current;W!==null;){var l=W,o=l.child;if(W.flags&16){var i=l.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(W=d;W!==null;){var g=W;switch(g.tag){case 0:case 11:case 15:La(8,g,l)}var m=g.child;if(m!==null)m.return=g,W=m;else for(;W!==null;){g=W;var x=g.sibling,j=g.return;if(p0(g),g===d){W=null;break}if(x!==null){x.return=j,W=x;break}W=j}}}var p=l.alternate;if(p!==null){var E=p.child;if(E!==null){p.child=null;do{var y=E.sibling;E.sibling=null,E=y}while(E!==null)}}W=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,W=o;else e:for(;W!==null;){if(l=W,l.flags&2048)switch(l.tag){case 0:case 11:case 15:La(9,l,l.return)}var u=l.sibling;if(u!==null){u.return=l.return,W=u;break e}W=l.return}}var h=e.current;for(W=h;W!==null;){o=W;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,W=v;else e:for(o=h;W!==null;){if(i=W,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Ls(9,i)}}catch(w){Ne(i,i.return,w)}if(i===o){W=null;break e}var f=i.sibling;if(f!==null){f.return=i.return,W=f;break e}W=i.return}}if(ae=s,hr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Cs,e)}catch{}n=!0}return n}finally{ce=r,ht.transition=t}}return!1}function Gc(e,t,r){t=la(r,t),t=s0(e,t,1),e=nr(e,t,1),t=Qe(),e!==null&&(on(e,1,t),rt(e,t))}function Ne(e,t,r){if(e.tag===3)Gc(e,e,r);else for(;t!==null;){if(t.tag===3){Gc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sr===null||!sr.has(n))){e=la(r,e),e=l0(t,e,1),t=nr(t,e,1),e=Qe(),t!==null&&(on(t,1,e),rt(t,e));break}}t=t.return}}function Ph(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&r,Le===e&&(Ue&r)===r&&(De===4||De===3&&(Ue&130023424)===Ue&&500>Ee()-bi?Nr(e,0):vi|=r),rt(e,t)}function E0(e,t){t===0&&(e.mode&1?(t=Nn,Nn<<=1,!(Nn&130023424)&&(Nn=4194304)):t=1);var r=Qe();e=Ht(e,t),e!==null&&(on(e,t,r),rt(e,r))}function Dh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),E0(e,r)}function Ih(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),E0(e,r)}var C0;C0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Xe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xe=!1,wh(e,t,r);Xe=!!(e.flags&131072)}else Xe=!1,xe&&t.flags&1048576&&Au(t,ds,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bn(e,t),e=t.pendingProps;var s=ra(t,Be.current);Jr(t,r),s=gi(null,t,n,e,s,r);var l=hi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(n)?(l=!0,is(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ii(t),s.updater=Is,t.stateNode=s,s._reactInternals=t,io(t,n,e,r),t=mo(null,t,n,!0,l,r)):(t.tag=0,xe&&l&&ti(t),qe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bn(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Oh(n),e=vt(n,e),s){case 0:t=uo(null,t,n,e,r);break e;case 1:t=Oc(null,t,n,e,r);break e;case 11:t=Ic(null,t,n,e,r);break e;case 14:t=Lc(null,t,n,vt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vt(n,s),uo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vt(n,s),Oc(e,t,n,s,r);case 3:e:{if(d0(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,s=l.element,Uu(e,t),gs(t,n,null,r);var o=t.memoizedState;if(n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=la(Error(O(423)),t),t=Uc(e,t,n,r,s);break e}else if(n!==s){s=la(Error(O(424)),t),t=Uc(e,t,n,r,s);break e}else for(lt=ar(t.stateNode.containerInfo.firstChild),ot=t,xe=!0,wt=null,r=Lu(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(aa(),n===s){t=Bt(e,t,r);break e}qe(e,t,n,r)}t=t.child}return t;case 5:return Mu(t),e===null&&so(t),n=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,eo(n,s)?o=null:l!==null&&eo(n,l)&&(t.flags|=32),c0(e,t),qe(e,t,o,r),t.child;case 6:return e===null&&so(t),null;case 13:return u0(e,t,r);case 4:return ci(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=na(t,null,n,r):qe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vt(n,s),Ic(e,t,n,s,r);case 7:return qe(e,t,t.pendingProps,r),t.child;case 8:return qe(e,t,t.pendingProps.children,r),t.child;case 12:return qe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,me(us,n._currentValue),n._currentValue=o,l!==null)if(jt(l.value,o)){if(l.children===s.children&&!et.current){t=Bt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var c=i.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=$t(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),lo(l.return,r,t),i.lanes|=r;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(O(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),lo(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}qe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Jr(t,r),s=ft(s),n=n(s),t.flags|=1,qe(e,t,n,r),t.child;case 14:return n=t.type,s=vt(n,t.pendingProps),s=vt(n.type,s),Lc(e,t,n,s,r);case 15:return o0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:vt(n,s),Bn(e,t),t.tag=1,tt(n)?(e=!0,is(t)):e=!1,Jr(t,r),n0(t,n,s),io(t,n,s,r),mo(null,t,n,!0,e,r);case 19:return m0(e,t,r);case 22:return i0(e,t,r)}throw Error(O(156,t.tag))};function T0(e,t){return tu(e,t)}function Lh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new Lh(e,t,r,n)}function Si(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oh(e){if(typeof e=="function")return Si(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ho)return 11;if(e===Bo)return 14}return 2}function or(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function qn(e,t,r,n,s,l){var o=2;if(n=e,typeof e=="function")Si(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ur:return Sr(r.children,s,l,t);case Vo:o=8,s|=8;break;case Pl:return e=gt(12,r,t,s|2),e.elementType=Pl,e.lanes=l,e;case Dl:return e=gt(13,r,t,s),e.elementType=Dl,e.lanes=l,e;case Il:return e=gt(19,r,t,s),e.elementType=Il,e.lanes=l,e;case Md:return Us(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Od:o=10;break e;case Ud:o=9;break e;case Ho:o=11;break e;case Bo:o=14;break e;case Qt:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=gt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function Sr(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function Us(e,t,r,n){return e=gt(22,e,n,t),e.elementType=Md,e.lanes=r,e.stateNode={isHidden:!1},e}function kl(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function Nl(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uh(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ji(e,t,r,n,s,l,o,i,c){return e=new Uh(e,t,r,i,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=gt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ii(l),e}function Mh(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Or,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _0(e){if(!e)return dr;e=e._reactInternals;e:{if(Dr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(tt(r))return _u(e,r,t)}return t}function R0(e,t,r,n,s,l,o,i,c){return e=ji(r,n,!0,e,s,l,o,i,c),e.context=_0(null),r=e.current,n=Qe(),s=lr(r),l=$t(n,s),l.callback=t??null,nr(r,l,s),e.current.lanes=s,on(e,s,n),rt(e,n),e}function Ms(e,t,r,n){var s=t.current,l=Qe(),o=lr(s);return r=_0(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(l,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=nr(s,t,o),e!==null&&(Nt(e,s,o,l),zn(e,s,o)),o}function ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ei(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}function Fh(){return null}var A0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ci(e){this._internalRoot=e}Fs.prototype.render=Ci.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Ms(e,t,null,null)};Fs.prototype.unmount=Ci.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Ms(null,e,null,null)}),t[Vt]=null}};function Fs(e){this._internalRoot=e}Fs.prototype.unstable_scheduleHydration=function(e){if(e){var t=iu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yt.length&&t!==0&&t<Yt[r].priority;r++);Yt.splice(r,0,e),r===0&&du(e)}};function Ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qc(){}function $h(e,t,r,n,s){if(s){if(typeof n=="function"){var l=n;n=function(){var d=ws(o);l.call(d)}}var o=R0(t,n,e,0,null,!1,!1,"",Qc);return e._reactRootContainer=o,e[Vt]=o.current,Qa(e.nodeType===8?e.parentNode:e),Rr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var i=n;n=function(){var d=ws(c);i.call(d)}}var c=ji(e,0,!1,null,null,!1,!1,"",Qc);return e._reactRootContainer=c,e[Vt]=c.current,Qa(e.nodeType===8?e.parentNode:e),Rr(function(){Ms(t,c,r,n)}),c}function zs(e,t,r,n,s){var l=r._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var i=s;s=function(){var c=ws(o);i.call(c)}}Ms(t,o,e,s)}else o=$h(r,t,e,s,n);return ws(o)}lu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ca(t.pendingLanes);r!==0&&(qo(t,r|1),rt(t,Ee()),!(ae&6)&&(oa=Ee()+500,hr()))}break;case 13:Rr(function(){var n=Ht(e,1);if(n!==null){var s=Qe();Nt(n,e,1,s)}}),Ei(e,1)}};Qo=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var r=Qe();Nt(t,e,134217728,r)}Ei(e,134217728)}};ou=function(e){if(e.tag===13){var t=lr(e),r=Ht(e,t);if(r!==null){var n=Qe();Nt(r,e,t,n)}Ei(e,t)}};iu=function(){return ce};cu=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};Bl=function(e,t,r){switch(t){case"input":if(Ul(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=As(n);if(!s)throw Error(O(90));$d(n),Ul(n,s)}}}break;case"textarea":Vd(e,r);break;case"select":t=r.value,t!=null&&Qr(e,!!r.multiple,t,!1)}};Kd=wi;Yd=Rr;var zh={usingClientEntryPoint:!1,Events:[dn,zr,As,qd,Qd,wi]},wa={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vh={bundleType:wa.bundleType,version:wa.version,rendererPackageName:wa.rendererPackageName,rendererConfig:wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xd(e),e===null?null:e.stateNode},findFiberByHostInstance:wa.findFiberByHostInstance||Fh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var In=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!In.isDisabled&&In.supportsFiber)try{Cs=In.inject(Vh),Pt=In}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zh;ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ti(t))throw Error(O(200));return Mh(e,t,null,r)};ct.createRoot=function(e,t){if(!Ti(e))throw Error(O(299));var r=!1,n="",s=A0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ji(e,1,!1,null,null,r,!1,n,s),e[Vt]=t.current,Qa(e.nodeType===8?e.parentNode:e),new Ci(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Xd(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Rr(e)};ct.hydrate=function(e,t,r){if(!$s(t))throw Error(O(200));return zs(null,e,t,!0,r)};ct.hydrateRoot=function(e,t,r){if(!Ti(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,l="",o=A0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=R0(t,null,e,1,r??null,s,!1,l,o),e[Vt]=t.current,Qa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fs(t)};ct.render=function(e,t,r){if(!$s(t))throw Error(O(200));return zs(null,e,t,!1,r)};ct.unmountComponentAtNode=function(e){if(!$s(e))throw Error(O(40));return e._reactRootContainer?(Rr(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};ct.unstable_batchedUpdates=wi;ct.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$s(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return zs(e,t,r,!1,n)};ct.version="18.3.1-next-f1338f8080-20240426";function P0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P0)}catch(e){console.error(e)}}P0(),Pd.exports=ct;var Hh=Pd.exports,D0,Kc=Hh;D0=Kc.createRoot,Kc.hydrateRoot;const I0=b.createContext(void 0),Bh=()=>{const e=b.useContext(I0);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Sl=({children:e})=>{const[t,r]=b.useState("light");b.useEffect(()=>{const s=localStorage.getItem("theme");s&&r(s)},[]),b.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return a.jsx(I0.Provider,{value:{theme:t,toggleTheme:n},children:e})};function L0(e,t){return function(){return e.apply(t,arguments)}}const{toString:Wh}=Object.prototype,{getPrototypeOf:_i}=Object,{iterator:Vs,toStringTag:O0}=Symbol,Hs=(e=>t=>{const r=Wh.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Et=e=>(e=e.toLowerCase(),t=>Hs(t)===e),Bs=e=>t=>typeof t===e,{isArray:ua}=Array,an=Bs("undefined");function mn(e){return e!==null&&!an(e)&&e.constructor!==null&&!an(e.constructor)&&at(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const U0=Et("ArrayBuffer");function Gh(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&U0(e.buffer),t}const qh=Bs("string"),at=Bs("function"),M0=Bs("number"),gn=e=>e!==null&&typeof e=="object",Qh=e=>e===!0||e===!1,Qn=e=>{if(Hs(e)!=="object")return!1;const t=_i(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(O0 in e)&&!(Vs in e)},Kh=e=>{if(!gn(e)||mn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Yh=Et("Date"),Zh=Et("File"),Jh=Et("Blob"),Xh=Et("FileList"),ef=e=>gn(e)&&at(e.pipe),tf=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||at(e.append)&&((t=Hs(e))==="formdata"||t==="object"&&at(e.toString)&&e.toString()==="[object FormData]"))},rf=Et("URLSearchParams"),[af,nf,sf,lf]=["ReadableStream","Request","Response","Headers"].map(Et),of=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ua(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(mn(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),o=l.length;let i;for(n=0;n<o;n++)i=l[n],t.call(null,e[i],i,e)}}function F0(e,t){if(mn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$0=e=>!an(e)&&e!==kr;function So(){const{caseless:e}=$0(this)&&this||{},t={},r=(n,s)=>{const l=e&&F0(t,s)||s;Qn(t[l])&&Qn(n)?t[l]=So(t[l],n):Qn(n)?t[l]=So({},n):ua(n)?t[l]=n.slice():t[l]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&hn(arguments[n],r);return t}const cf=(e,t,r,{allOwnKeys:n}={})=>(hn(t,(s,l)=>{r&&at(s)?e[l]=L0(s,r):e[l]=s},{allOwnKeys:n}),e),df=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uf=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},mf=(e,t,r,n)=>{let s,l,o;const i={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)o=s[l],(!n||n(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=r!==!1&&_i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},gf=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},hf=e=>{if(!e)return null;if(ua(e))return e;let t=e.length;if(!M0(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ff=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_i(Uint8Array)),pf=(e,t)=>{const n=(e&&e[Vs]).call(e);let s;for(;(s=n.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},xf=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yf=Et("HTMLFormElement"),vf=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),Yc=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bf=Et("RegExp"),z0=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};hn(r,(s,l)=>{let o;(o=t(s,l,e))!==!1&&(n[l]=o||s)}),Object.defineProperties(e,n)},wf=e=>{z0(e,(t,r)=>{if(at(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(at(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},kf=(e,t)=>{const r={},n=s=>{s.forEach(l=>{r[l]=!0})};return ua(e)?n(e):n(String(e).split(t)),r},Nf=()=>{},Sf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jf(e){return!!(e&&at(e.append)&&e[O0]==="FormData"&&e[Vs])}const Ef=e=>{const t=new Array(10),r=(n,s)=>{if(gn(n)){if(t.indexOf(n)>=0)return;if(mn(n))return n;if(!("toJSON"in n)){t[s]=n;const l=ua(n)?[]:{};return hn(n,(o,i)=>{const c=r(o,s+1);!an(c)&&(l[i]=c)}),t[s]=void 0,l}}return n};return r(e,0)},Cf=Et("AsyncFunction"),Tf=e=>e&&(gn(e)||at(e))&&at(e.then)&&at(e.catch),V0=((e,t)=>e?setImmediate:t?((r,n)=>(kr.addEventListener("message",({source:s,data:l})=>{s===kr&&l===r&&n.length&&n.shift()()},!1),s=>{n.push(s),kr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",at(kr.postMessage)),_f=typeof queueMicrotask<"u"?queueMicrotask.bind(kr):typeof process<"u"&&process.nextTick||V0,Rf=e=>e!=null&&at(e[Vs]),_={isArray:ua,isArrayBuffer:U0,isBuffer:mn,isFormData:tf,isArrayBufferView:Gh,isString:qh,isNumber:M0,isBoolean:Qh,isObject:gn,isPlainObject:Qn,isEmptyObject:Kh,isReadableStream:af,isRequest:nf,isResponse:sf,isHeaders:lf,isUndefined:an,isDate:Yh,isFile:Zh,isBlob:Jh,isRegExp:bf,isFunction:at,isStream:ef,isURLSearchParams:rf,isTypedArray:ff,isFileList:Xh,forEach:hn,merge:So,extend:cf,trim:of,stripBOM:df,inherits:uf,toFlatObject:mf,kindOf:Hs,kindOfTest:Et,endsWith:gf,toArray:hf,forEachEntry:pf,matchAll:xf,isHTMLForm:yf,hasOwnProperty:Yc,hasOwnProp:Yc,reduceDescriptors:z0,freezeMethods:wf,toObjectSet:kf,toCamelCase:vf,noop:Nf,toFiniteNumber:Sf,findKey:F0,global:kr,isContextDefined:$0,isSpecCompliantForm:jf,toJSONObject:Ef,isAsyncFn:Cf,isThenable:Tf,setImmediate:V0,asap:_f,isIterable:Rf};function X(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}_.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const H0=X.prototype,B0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{B0[e]={value:e}});Object.defineProperties(X,B0);Object.defineProperty(H0,"isAxiosError",{value:!0});X.from=(e,t,r,n,s,l)=>{const o=Object.create(H0);return _.toFlatObject(e,o,function(c){return c!==Error.prototype},i=>i!=="isAxiosError"),X.call(o,e.message,t,r,n,s),o.cause=e,o.name=e.name,l&&Object.assign(o,l),o};const Af=null;function jo(e){return _.isPlainObject(e)||_.isArray(e)}function W0(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Zc(e,t,r){return e?e.concat(t).map(function(s,l){return s=W0(s),!r&&l?"["+s+"]":s}).join(r?".":""):t}function Pf(e){return _.isArray(e)&&!e.some(jo)}const Df=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function Ws(e,t,r){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=_.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,y){return!_.isUndefined(y[E])});const n=r.metaTokens,s=r.visitor||g,l=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(s))throw new TypeError("visitor must be a function");function d(p){if(p===null)return"";if(_.isDate(p))return p.toISOString();if(_.isBoolean(p))return p.toString();if(!c&&_.isBlob(p))throw new X("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(p)||_.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function g(p,E,y){let u=p;if(p&&!y&&typeof p=="object"){if(_.endsWith(E,"{}"))E=n?E:E.slice(0,-2),p=JSON.stringify(p);else if(_.isArray(p)&&Pf(p)||(_.isFileList(p)||_.endsWith(E,"[]"))&&(u=_.toArray(p)))return E=W0(E),u.forEach(function(v,f){!(_.isUndefined(v)||v===null)&&t.append(o===!0?Zc([E],f,l):o===null?E:E+"[]",d(v))}),!1}return jo(p)?!0:(t.append(Zc(y,E,l),d(p)),!1)}const m=[],x=Object.assign(Df,{defaultVisitor:g,convertValue:d,isVisitable:jo});function j(p,E){if(!_.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(p),_.forEach(p,function(u,h){(!(_.isUndefined(u)||u===null)&&s.call(t,u,_.isString(h)?h.trim():h,E,x))===!0&&j(u,E?E.concat(h):[h])}),m.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return j(e),t}function Jc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ri(e,t){this._pairs=[],e&&Ws(e,this,t)}const G0=Ri.prototype;G0.append=function(t,r){this._pairs.push([t,r])};G0.toString=function(t){const r=t?function(n){return t.call(this,n,Jc)}:Jc;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function If(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function q0(e,t,r){if(!t)return e;const n=r&&r.encode||If;_.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let l;if(s?l=s(t,r):l=_.isURLSearchParams(t)?t.toString():new Ri(t,r).toString(n),l){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Xc{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Q0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lf=typeof URLSearchParams<"u"?URLSearchParams:Ri,Of=typeof FormData<"u"?FormData:null,Uf=typeof Blob<"u"?Blob:null,Mf={isBrowser:!0,classes:{URLSearchParams:Lf,FormData:Of,Blob:Uf},protocols:["http","https","file","blob","url","data"]},Ai=typeof window<"u"&&typeof document<"u",Eo=typeof navigator=="object"&&navigator||void 0,Ff=Ai&&(!Eo||["ReactNative","NativeScript","NS"].indexOf(Eo.product)<0),$f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zf=Ai&&window.location.href||"http://localhost",Vf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ai,hasStandardBrowserEnv:Ff,hasStandardBrowserWebWorkerEnv:$f,navigator:Eo,origin:zf},Symbol.toStringTag,{value:"Module"})),Ve={...Vf,...Mf};function Hf(e,t){return Ws(e,new Ve.classes.URLSearchParams,{visitor:function(r,n,s,l){return Ve.isNode&&_.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function Bf(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Wf(e){const t={},r=Object.keys(e);let n;const s=r.length;let l;for(n=0;n<s;n++)l=r[n],t[l]=e[l];return t}function K0(e){function t(r,n,s,l){let o=r[l++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=l>=r.length;return o=!o&&_.isArray(s)?s.length:o,c?(_.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!i):((!s[o]||!_.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],l)&&_.isArray(s[o])&&(s[o]=Wf(s[o])),!i)}if(_.isFormData(e)&&_.isFunction(e.entries)){const r={};return _.forEachEntry(e,(n,s)=>{t(Bf(n),s,r,0)}),r}return null}function Gf(e,t,r){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const fn={transitional:Q0,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,l=_.isObject(t);if(l&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return s?JSON.stringify(K0(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hf(t,this.formSerializer).toString();if((i=_.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ws(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||s?(r.setContentType("application/json",!1),Gf(t)):t}],transformResponse:[function(t){const r=this.transitional||fn.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(i){if(o)throw i.name==="SyntaxError"?X.from(i,X.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{fn.headers[e]={}});const qf=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qf=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&qf[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ed=Symbol("internals");function ka(e){return e&&String(e).trim().toLowerCase()}function Kn(e){return e===!1||e==null?e:_.isArray(e)?e.map(Kn):String(e)}function Kf(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Yf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jl(e,t,r,n,s){if(_.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!_.isString(t)){if(_.isString(n))return t.indexOf(n)!==-1;if(_.isRegExp(n))return n.test(t)}}function Zf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Jf(e,t){const r=_.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,l,o){return this[n].call(this,t,s,l,o)},configurable:!0})})}class nt{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function l(i,c,d){const g=ka(c);if(!g)throw new Error("header name must be a non-empty string");const m=_.findKey(s,g);(!m||s[m]===void 0||d===!0||d===void 0&&s[m]!==!1)&&(s[m||c]=Kn(i))}const o=(i,c)=>_.forEach(i,(d,g)=>l(d,g,c));if(_.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(_.isString(t)&&(t=t.trim())&&!Yf(t))o(Qf(t),r);else if(_.isObject(t)&&_.isIterable(t)){let i={},c,d;for(const g of t){if(!_.isArray(g))throw TypeError("Object iterator must return a key-value pair");i[d=g[0]]=(c=i[d])?_.isArray(c)?[...c,g[1]]:[c,g[1]]:g[1]}o(i,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=ka(t),t){const n=_.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return Kf(s);if(_.isFunction(r))return r.call(this,s,n);if(_.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ka(t),t){const n=_.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||jl(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function l(o){if(o=ka(o),o){const i=_.findKey(n,o);i&&(!r||jl(n,n[i],i,r))&&(delete n[i],s=!0)}}return _.isArray(t)?t.forEach(l):l(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const l=r[n];(!t||jl(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const r=this,n={};return _.forEach(this,(s,l)=>{const o=_.findKey(n,l);if(o){r[o]=Kn(s),delete r[l];return}const i=t?Zf(l):String(l).trim();i!==l&&delete r[l],r[i]=Kn(s),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return _.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&_.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[ed]=this[ed]={accessors:{}}).accessors,s=this.prototype;function l(o){const i=ka(o);n[i]||(Jf(s,o),n[i]=!0)}return _.isArray(t)?t.forEach(l):l(t),this}}nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(nt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});_.freezeMethods(nt);function El(e,t){const r=this||fn,n=t||r,s=nt.from(n.headers);let l=n.data;return _.forEach(e,function(i){l=i.call(r,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function Y0(e){return!!(e&&e.__CANCEL__)}function ma(e,t,r){X.call(this,e??"canceled",X.ERR_CANCELED,t,r),this.name="CanceledError"}_.inherits(ma,X,{__CANCEL__:!0});function Z0(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Xf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ep(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,l=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),g=n[l];o||(o=d),r[s]=c,n[s]=d;let m=l,x=0;for(;m!==s;)x+=r[m++],m=m%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),d-o<t)return;const j=g&&d-g;return j?Math.round(x*1e3/j):void 0}}function tp(e,t){let r=0,n=1e3/t,s,l;const o=(d,g=Date.now())=>{r=g,s=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const g=Date.now(),m=g-r;m>=n?o(d,g):(s=d,l||(l=setTimeout(()=>{l=null,o(s)},n-m)))},()=>s&&o(s)]}const ks=(e,t,r=3)=>{let n=0;const s=ep(50,250);return tp(l=>{const o=l.loaded,i=l.lengthComputable?l.total:void 0,c=o-n,d=s(c),g=o<=i;n=o;const m={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:d||void 0,estimated:d&&i&&g?(i-o)/d:void 0,event:l,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},r)},td=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},rd=e=>(...t)=>_.asap(()=>e(...t)),rp=Ve.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ve.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,ap=Ve.hasStandardBrowserEnv?{write(e,t,r,n,s,l){const o=[e+"="+encodeURIComponent(t)];_.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),_.isString(n)&&o.push("path="+n),_.isString(s)&&o.push("domain="+s),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function np(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sp(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function J0(e,t,r){let n=!np(t);return e&&(n||r==!1)?sp(e,t):t}const ad=e=>e instanceof nt?{...e}:e;function Ar(e,t){t=t||{};const r={};function n(d,g,m,x){return _.isPlainObject(d)&&_.isPlainObject(g)?_.merge.call({caseless:x},d,g):_.isPlainObject(g)?_.merge({},g):_.isArray(g)?g.slice():g}function s(d,g,m,x){if(_.isUndefined(g)){if(!_.isUndefined(d))return n(void 0,d,m,x)}else return n(d,g,m,x)}function l(d,g){if(!_.isUndefined(g))return n(void 0,g)}function o(d,g){if(_.isUndefined(g)){if(!_.isUndefined(d))return n(void 0,d)}else return n(void 0,g)}function i(d,g,m){if(m in t)return n(d,g);if(m in e)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(d,g,m)=>s(ad(d),ad(g),m,!0)};return _.forEach(Object.keys({...e,...t}),function(g){const m=c[g]||s,x=m(e[g],t[g],g);_.isUndefined(x)&&m!==i||(r[g]=x)}),r}const X0=e=>{const t=Ar({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:l,headers:o,auth:i}=t;t.headers=o=nt.from(o),t.url=q0(J0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let c;if(_.isFormData(r)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...g]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...g].join("; "))}}if(Ve.hasStandardBrowserEnv&&(n&&_.isFunction(n)&&(n=n(t)),n||n!==!1&&rp(t.url))){const d=s&&l&&ap.read(l);d&&o.set(s,d)}return t},lp=typeof XMLHttpRequest<"u",op=lp&&function(e){return new Promise(function(r,n){const s=X0(e);let l=s.data;const o=nt.from(s.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:d}=s,g,m,x,j,p;function E(){j&&j(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function u(){if(!y)return;const v=nt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!i||i==="text"||i==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:v,config:e,request:y};Z0(function(k){r(k),E()},function(k){n(k),E()},w),y=null}"onloadend"in y?y.onloadend=u:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(u)},y.onabort=function(){y&&(n(new X("Request aborted",X.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let f=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const w=s.transitional||Q0;s.timeoutErrorMessage&&(f=s.timeoutErrorMessage),n(new X(f,w.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,y)),y=null},l===void 0&&o.setContentType(null),"setRequestHeader"in y&&_.forEach(o.toJSON(),function(f,w){y.setRequestHeader(w,f)}),_.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),i&&i!=="json"&&(y.responseType=s.responseType),d&&([x,p]=ks(d,!0),y.addEventListener("progress",x)),c&&y.upload&&([m,j]=ks(c),y.upload.addEventListener("progress",m),y.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(g=v=>{y&&(n(!v||v.type?new ma(null,e,y):v),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const h=Xf(s.url);if(h&&Ve.protocols.indexOf(h)===-1){n(new X("Unsupported protocol "+h+":",X.ERR_BAD_REQUEST,e));return}y.send(l||null)})},ip=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const l=function(d){if(!s){s=!0,i();const g=d instanceof Error?d:this.reason;n.abort(g instanceof X?g:new ma(g instanceof Error?g.message:g))}};let o=t&&setTimeout(()=>{o=null,l(new X(`timeout ${t} of ms exceeded`,X.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>_.asap(i),c}},cp=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},dp=async function*(e,t){for await(const r of up(e))yield*cp(r,t)},up=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},nd=(e,t,r,n)=>{const s=dp(e,t);let l=0,o,i=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:g}=await s.next();if(d){i(),c.close();return}let m=g.byteLength;if(r){let x=l+=m;r(x)}c.enqueue(new Uint8Array(g))}catch(d){throw i(d),d}},cancel(c){return i(c),s.return()}},{highWaterMark:2})},Gs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",em=Gs&&typeof ReadableStream=="function",mp=Gs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gp=em&&tm(()=>{let e=!1;const t=new Request(Ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),sd=64*1024,Co=em&&tm(()=>_.isReadableStream(new Response("").body)),Ns={stream:Co&&(e=>e.body)};Gs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ns[t]&&(Ns[t]=_.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new X(`Response type '${t}' is not supported`,X.ERR_NOT_SUPPORT,n)})})})(new Response);const hp=async e=>{if(e==null)return 0;if(_.isBlob(e))return e.size;if(_.isSpecCompliantForm(e))return(await new Request(Ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_.isArrayBufferView(e)||_.isArrayBuffer(e))return e.byteLength;if(_.isURLSearchParams(e)&&(e=e+""),_.isString(e))return(await mp(e)).byteLength},fp=async(e,t)=>{const r=_.toFiniteNumber(e.getContentLength());return r??hp(t)},pp=Gs&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:l,timeout:o,onDownloadProgress:i,onUploadProgress:c,responseType:d,headers:g,withCredentials:m="same-origin",fetchOptions:x}=X0(e);d=d?(d+"").toLowerCase():"text";let j=ip([s,l&&l.toAbortSignal()],o),p;const E=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let y;try{if(c&&gp&&r!=="get"&&r!=="head"&&(y=await fp(g,n))!==0){let w=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(_.isFormData(n)&&(S=w.headers.get("content-type"))&&g.setContentType(S),w.body){const[k,N]=td(y,ks(rd(c)));n=nd(w.body,sd,k,N)}}_.isString(m)||(m=m?"include":"omit");const u="credentials"in Request.prototype;p=new Request(t,{...x,signal:j,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:u?m:void 0});let h=await fetch(p,x);const v=Co&&(d==="stream"||d==="response");if(Co&&(i||v&&E)){const w={};["status","statusText","headers"].forEach(C=>{w[C]=h[C]});const S=_.toFiniteNumber(h.headers.get("content-length")),[k,N]=i&&td(S,ks(rd(i),!0))||[];h=new Response(nd(h.body,sd,k,()=>{N&&N(),E&&E()}),w)}d=d||"text";let f=await Ns[_.findKey(Ns,d)||"text"](h,e);return!v&&E&&E(),await new Promise((w,S)=>{Z0(w,S,{data:f,headers:nt.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:p})})}catch(u){throw E&&E(),u&&u.name==="TypeError"&&/Load failed|fetch/i.test(u.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,e,p),{cause:u.cause||u}):X.from(u,u&&u.code,e,p)}}),To={http:Af,xhr:op,fetch:pp};_.forEach(To,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ld=e=>`- ${e}`,xp=e=>_.isFunction(e)||e===null||e===!1,rm={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let l=0;l<t;l++){r=e[l];let o;if(n=r,!xp(r)&&(n=To[(o=String(r)).toLowerCase()],n===void 0))throw new X(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+l]=n}if(!n){const l=Object.entries(s).map(([i,c])=>`adapter ${i} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?l.length>1?`since :
`+l.map(ld).join(`
`):" "+ld(l[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:To};function Cl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ma(null,e)}function od(e){return Cl(e),e.headers=nt.from(e.headers),e.data=El.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rm.getAdapter(e.adapter||fn.adapter)(e).then(function(n){return Cl(e),n.data=El.call(e,e.transformResponse,n),n.headers=nt.from(n.headers),n},function(n){return Y0(n)||(Cl(e),n&&n.response&&(n.response.data=El.call(e,e.transformResponse,n.response),n.response.headers=nt.from(n.response.headers))),Promise.reject(n)})}const am="1.11.0",qs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{qs[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const id={};qs.transitional=function(t,r,n){function s(l,o){return"[Axios v"+am+"] Transitional option '"+l+"'"+o+(n?". "+n:"")}return(l,o,i)=>{if(t===!1)throw new X(s(o," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!id[o]&&(id[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,o,i):!0}};qs.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function yp(e,t,r){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const l=n[s],o=t[l];if(o){const i=e[l],c=i===void 0||o(i,l,e);if(c!==!0)throw new X("option "+l+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+l,X.ERR_BAD_OPTION)}}const Yn={assertOptions:yp,validators:qs},_t=Yn.validators;class jr{constructor(t){this.defaults=t||{},this.interceptors={request:new Xc,response:new Xc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ar(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:l}=r;n!==void 0&&Yn.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),s!=null&&(_.isFunction(s)?r.paramsSerializer={serialize:s}:Yn.assertOptions(s,{encode:_t.function,serialize:_t.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Yn.assertOptions(r,{baseUrl:_t.spelling("baseURL"),withXsrfToken:_t.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=l&&_.merge(l.common,l[r.method]);l&&_.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),r.headers=nt.concat(o,l);const i=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(r)===!1||(c=c&&E.synchronous,i.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let g,m=0,x;if(!c){const p=[od.bind(this),void 0];for(p.unshift(...i),p.push(...d),x=p.length,g=Promise.resolve(r);m<x;)g=g.then(p[m++],p[m++]);return g}x=i.length;let j=r;for(m=0;m<x;){const p=i[m++],E=i[m++];try{j=p(j)}catch(y){E.call(this,y);break}}try{g=od.call(this,j)}catch(p){return Promise.reject(p)}for(m=0,x=d.length;m<x;)g=g.then(d[m++],d[m++]);return g}getUri(t){t=Ar(this.defaults,t);const r=J0(t.baseURL,t.url,t.allowAbsoluteUrls);return q0(r,t.params,t.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(t){jr.prototype[t]=function(r,n){return this.request(Ar(n||{},{method:t,url:r,data:(n||{}).data}))}});_.forEach(["post","put","patch"],function(t){function r(n){return function(l,o,i){return this.request(Ar(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}jr.prototype[t]=r(),jr.prototype[t+"Form"]=r(!0)});class Pi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(s=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](s);n._listeners=null}),this.promise.then=s=>{let l;const o=new Promise(i=>{n.subscribe(i),l=i}).then(s);return o.cancel=function(){n.unsubscribe(l)},o},t(function(l,o,i){n.reason||(n.reason=new ma(l,o,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Pi(function(s){t=s}),cancel:t}}}function vp(e){return function(r){return e.apply(null,r)}}function bp(e){return _.isObject(e)&&e.isAxiosError===!0}const _o={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_o).forEach(([e,t])=>{_o[t]=e});function nm(e){const t=new jr(e),r=L0(jr.prototype.request,t);return _.extend(r,jr.prototype,t,{allOwnKeys:!0}),_.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return nm(Ar(e,s))},r}const Ce=nm(fn);Ce.Axios=jr;Ce.CanceledError=ma;Ce.CancelToken=Pi;Ce.isCancel=Y0;Ce.VERSION=am;Ce.toFormData=Ws;Ce.AxiosError=X;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=vp;Ce.isAxiosError=bp;Ce.mergeConfig=Ar;Ce.AxiosHeaders=nt;Ce.formToJSON=e=>K0(_.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=rm.getAdapter;Ce.HttpStatusCode=_o;Ce.default=Ce;const B={BASE:"https://cctvapi.suvidhaen.com/v0/api",TOKEN:{OBTAIN:"/token/",REFRESH:"/token/refresh/"},USERS:{AUTH:{LOGIN:"/users/auth/login/",LOGOUT:"/users/auth/logout/",REFRESH:"/users/auth/refresh/",CHANGE_PASSWORD:"/users/auth/change-password/",REQUEST_PASSWORD_RESET:"/users/auth/request-password-reset/",VERIFY_PASSWORD_RESET:"/users/auth/verify-password-reset/"},LIST_USERS:"/users/users/",CREATE_USER:"/users/users/",GET_USER:e=>`/users/users/${e}/`,UPDATE_USER:e=>`/users/users/${e}/`,DELETE_USER:e=>`/users/users/${e}/`,TOGGLE_USER_ACTIVATION:e=>`/users/users/${e}/activate/`,ACTIVATE_USER:e=>`/users/users/${e}/activate/`,DEACTIVATE_USER:e=>`/users/users/${e}/activate/`,CHANGE_USER_ROLE:e=>`/users/users/${e}/change-role/`,GET_PROFILE:"/users/profile/",UPDATE_PROFILE:"/users/profile/",GET_ACTIVITIES:"/users/activities/",GET_SESSIONS:"/users/sessions/",REVOKE_ALL_SESSIONS:"/users/sessions/revoke-all/",REVOKE_USER_SESSIONS:e=>`/users/sessions/revoke-all/?user_id=${e}`,DRF:{ROOT:"/users/drf/",AUTH:"/users/drf/auth/",USERS:"/users/drf/users/",SESSIONS:"/users/drf/sessions/",ACTIVITIES:"/users/drf/activities/",CREATE_USER:"/users/drf/create-user/"}},CCTV:{HEALTH:"/cctv/health",CAMERAS:{LIST_CAMERAS:"/cctv/cameras/",CREATE_CAMERA:"/cctv/cameras/register/",GET_CAMERA:e=>`/cctv/cameras/${e}/`,UPDATE_CAMERA:e=>`/cctv/cameras/${e}/`,DELETE_CAMERA:e=>`/cctv/cameras/${e}/`,START_RECORDING:e=>`/cctv/cameras/${e}/start_recording/`,STOP_RECORDING:e=>`/cctv/cameras/${e}/stop_recording/`,RECORDING_STATUS:e=>`/cctv/cameras/${e}/recording_status/`,RECORDING_OVERVIEW:"/cctv/cameras/recording_overview/",STREAM_LIVE:e=>`/cctv/cameras/${e}/stream/`,STREAM_INFO:e=>`/cctv/cameras/${e}/stream/info/`,STREAM_WITH_QUALITY:(e,t)=>`/cctv/cameras/${e}/stream/?quality=${t}`,STREAM_THUMBNAIL:e=>`/cctv/cameras/${e}/stream/thumbnail/`,STREAM_SNAPSHOT:e=>`/cctv/cameras/${e}/stream/snapshot/`,ACTIVATE_STREAM:e=>`/cctv/cameras/${e}/activate_stream/`,DEACTIVATE_STREAM:e=>`/cctv/cameras/${e}/deactivate_stream/`,STREAM_STATUS:e=>`/cctv/cameras/${e}/stream_status/`,STREAM_HEALTH:e=>`/cctv/cameras/${e}/stream_health/`,SET_CAMERA_ONLINE:e=>`/cctv/cameras/${e}/set_online/`,DRF:{LIST:"/cctv/cameras/",CREATE:"/cctv/cameras/",RETRIEVE:e=>`/cctv/cameras/${e}/`,UPDATE:e=>`/cctv/cameras/${e}/`,DELETE:e=>`/cctv/cameras/${e}/`,TEST_CONNECTION:e=>`/cctv/cameras/${e}/test-connection/`,STREAM:e=>`/cctv/cameras/${e}/stream/`,START_RECORDING:e=>`/cctv/cameras/${e}/start-recording/`,STOP_RECORDING:e=>`/cctv/cameras/${e}/stop-recording/`,SNAPSHOT:e=>`/cctv/cameras/${e}/snapshot/`,STATUS:e=>`/cctv/cameras/${e}/status/`,STREAM_HEALTH:e=>`/cctv/cameras/${e}/stream_health/`,TEST_RECORDING:e=>`/cctv/cameras/${e}/test_recording/`}},STREAMS:{LIST_STREAMS:"/cctv/streams/",GET_ACTIVE_STREAMS:"/cctv/streams/active/",ACTIVATE_STREAM:e=>`/cctv/cameras/${e}/activate_stream/`,DEACTIVATE_STREAM:e=>`/cctv/cameras/${e}/deactivate_stream/`,GET_STREAM_STATUS:e=>`/cctv/cameras/${e}/stream_status/`,DRF:{LIST:"/cctv/live-streams/",CREATE:"/cctv/live-streams/",RETRIEVE:e=>`/cctv/live-streams/${e}/`,UPDATE:e=>`/cctv/live-streams/${e}/`,DELETE:e=>`/cctv/live-streams/${e}/`,START:e=>`/cctv/live-streams/${e}/start/`,STOP:e=>`/cctv/live-streams/${e}/stop/`},STREAM_VIDEO:e=>`/cctv/stream/${e}/`,STREAM_VIDEO_QUALITY:(e,t)=>`/cctv/stream/${e}/${t}/`},RECORDINGS:{LIST_RECORDINGS:"/cctv/recordings/",GET_RECORDING:e=>`/cctv/recordings/${e}/`,GET_STATS:"/cctv/recordings/stats/",TRANSFER_TO_GCP:"/cctv/recordings/transfer-to-gcp/",GCP_TRANSFERS:"/cctv/recordings/gcp-transfers/",DRF:{LIST:"/cctv/recordings/",CREATE:"/cctv/recordings/",RETRIEVE:e=>`/cctv/recordings/${e}/`,UPDATE:e=>`/cctv/recordings/${e}/`,DELETE:e=>`/cctv/recordings/${e}/`,DOWNLOAD:e=>`/cctv/recordings/${e}/download/`,THUMBNAIL:e=>`/cctv/recordings/${e}/thumbnail/`,DELETE_FILE:e=>`/cctv/recordings/${e}/delete-file/`},PLAYBACK:e=>`/cctv/playback/${e}/`,PLAYBACK_QUALITY:(e,t)=>`/cctv/playback/${e}/${t}/`},SCHEDULES:{LIST_SCHEDULES:"/cctv/schedules/",CREATE_SCHEDULE:"/cctv/schedules/",GET_SCHEDULE:e=>`/cctv/schedules/${e}/`,UPDATE_SCHEDULE:e=>`/cctv/schedules/${e}/`,DELETE_SCHEDULE:e=>`/cctv/schedules/${e}/`,ACTIVATE_SCHEDULE:e=>`/cctv/schedules/${e}/activate/`,DEACTIVATE_SCHEDULE:e=>`/cctv/schedules/${e}/deactivate/`,GET_SCHEDULE_STATUS:e=>`/cctv/schedules/${e}/status/`,DRF:{LIST:"/cctv/recording-schedules/",CREATE:"/cctv/recording-schedules/",RETRIEVE:e=>`/cctv/recording-schedules/${e}/`,UPDATE:e=>`/cctv/recording-schedules/${e}/`,DELETE:e=>`/cctv/recording-schedules/${e}/`,ACTIVATE:e=>`/cctv/recording-schedules/${e}/activate/`,DEACTIVATE:e=>`/cctv/recording-schedules/${e}/deactivate/`}},DASHBOARD:{GET_ANALYTICS:"/cctv/dashboard/analytics",GET_RECENT_ACTIVITY:"/cctv/dashboard/activity",GET_ACTIVITY_WITH_LIMIT:e=>`/cctv/dashboard/activity?limit=${e}`},ACCESS:{DRF:{LIST:"/cctv/camera-access/",CREATE:"/cctv/camera-access/",RETRIEVE:e=>`/cctv/camera-access/${e}/`,UPDATE:e=>`/cctv/camera-access/${e}/`,DELETE:e=>`/cctv/camera-access/${e}/`,GRANT_ACCESS:e=>`/cctv/camera-access/${e}/grant/`,REVOKE_ACCESS:e=>`/cctv/camera-access/${e}/revoke/`}},STATUS:{OVERVIEW:"/cctv/status/overview/",CAMERAS:"/cctv/status/cameras/",RECORDINGS:"/cctv/status/recordings/",TEST_CONNECTION:"/cctv/test-connection/"}},MAILER:{PUBLIC:{REQUEST_PASSWORD_RESET:"/mail/request-password-reset",VERIFY_OTP:"/mail/verify-otp",RESEND_OTP:"/mail/resend-otp"},AUTH:{SEND_EMAIL:"/mail/auth/send-email",GENERATE_OTP:"/mail/auth/generate-otp",VERIFY_OTP_AUTH:"/mail/auth/verify-otp-auth",SEND_WELCOME_EMAIL:"/mail/auth/send-welcome-email",SEND_BULK_EMAIL:"/mail/auth/send-bulk-email",SEND_EMAIL_ATTACHMENT:"/mail/auth/send-email-attachment",SEND_BULK_CREATOR_MAIL:"/mail/auth/send-bulk-creator-mail",SEND_GENERAL_BULK_MAIL:"/mail/auth/send-general-bulk-mail",GET_CREATOR_MAIL_STATUS:e=>`/mail/auth/creator-mail-status/${e}`,GET_GENERAL_MAIL_STATUS:e=>`/mail/auth/general-mail-status/${e}`,GET_RECENT_CAMPAIGNS:"/mail/auth/recent-campaigns",GET_CAMPAIGN_DETAILS:e=>`/mail/auth/campaign-details/${e}`,PREVIEW_TEMPLATE:"/mail/auth/preview-template"}},ADMIN:{PANELS:{LIST:"/admin/panels",CREATE:"/admin/panels",GET_PANEL:e=>`/admin/panels/${e}`,DELETE_PANEL:e=>`/admin/panels/${e}`},CSRF_TOKEN:"/admin/csrf-token",CUSTOM:{VIEW_DETAILS:e=>`/admin/view/${e}/`,PROCESS_ITEM:e=>`/admin/process/${e}/`}},GENERAL:{UPLOAD_CSV:"/general/upload-csv",DASHBOARD:"/general/dashboard",SETTINGS:"/general/settings"}},U={VISITOR:"visitor",DEV:"dev",ADMIN:"admin",SUPERADMIN:"superadmin"},Na={[U.VISITOR]:1,[U.DEV]:2,[U.ADMIN]:3,[U.SUPERADMIN]:4},Tl={[U.VISITOR]:[],[U.DEV]:[U.VISITOR],[U.ADMIN]:[U.DEV,U.VISITOR],[U.SUPERADMIN]:[U.SUPERADMIN,U.ADMIN,U.DEV,U.VISITOR]},_l={[U.VISITOR]:[],[U.DEV]:[U.VISITOR],[U.ADMIN]:[U.ADMIN,U.DEV,U.VISITOR],[U.SUPERADMIN]:[U.SUPERADMIN,U.ADMIN,U.DEV,U.VISITOR]};U.VISITOR+"",U.DEV+"",U.ADMIN+"",U.SUPERADMIN+"";const F=Ce.create({baseURL:B.BASE,timeout:3e4,headers:{"Content-Type":"application/json"}});let Rl=!1,Ro=[];const cd=(e,t=null)=>{Ro.forEach(({resolve:r,reject:n})=>{e?n(e):r(t)}),Ro=[]};F.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");if(t&&(e.headers.Authorization=`Bearer ${t}`),e.url&&e.url.includes("/users/")){const r=localStorage.getItem("userRole");r&&(e.headers["X-User-Role"]=r)}return e},e=>Promise.reject(e));F.interceptors.response.use(e=>e,async e=>{var r,n,s,l,o,i;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Rl)return new Promise((c,d)=>{Ro.push({resolve:c,reject:d})}).then(c=>(t.headers.Authorization=`Bearer ${c}`,F(t))).catch(c=>Promise.reject(c));t._retry=!0,Rl=!0;try{const c=localStorage.getItem("refreshToken");if(!c)throw new Error("No refresh token available");const g=(await Ce.post(`${B.BASE}${B.TOKEN.REFRESH}`,{refresh:c})).data;return localStorage.setItem("accessToken",g.access_token),localStorage.setItem("refreshToken",g.refresh_token),cd(null,g.access_token),t.headers.Authorization=`Bearer ${g.access_token}`,F(t)}catch(c){console.error("Token refresh failed:",c),cd(c,null);const d=c;return(((n=d==null?void 0:d.response)==null?void 0:n.status)===401||((s=d==null?void 0:d.response)==null?void 0:s.status)===400)&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("userRole"),window.location.pathname!=="/login"&&window.location.pathname!=="/"&&(window.location.href="/login")),Promise.reject(c)}finally{Rl=!1}}if(((l=e.response)==null?void 0:l.status)===403){const c=e.response.data;((o=c==null?void 0:c.error)!=null&&o.includes("Permission denied")||(i=c==null?void 0:c.error)!=null&&i.includes("role"))&&console.error("Role-based permission error:",c)}return Promise.reject(e)});class Ut extends Error{constructor(t,r,n,s){super(t),this.name="ServiceError",this.status=r,this.code=n,this.details=s}}const V=e=>{if(console.error("API Error:",e),e&&typeof e=="object"&&"response"in e&&e.response){const{status:t,data:r}=e.response,n=r;let s="An error occurred";switch(n.error?s=n.error:n.message?s=n.message:n.detail?s=n.detail:n.non_field_errors&&n.non_field_errors.length>0?s=n.non_field_errors[0]:typeof n=="string"?s=n:typeof r=="string"&&(s=r),t){case 400:s=`Bad Request: ${s}`;break;case 401:s=`Unauthorized: ${s}`;break;case 403:s=`Forbidden: ${s}`;break;case 404:s=`Not Found: ${s}`;break;case 409:s=`Conflict: ${s}`;break;case 422:s=`Validation Error: ${s}`;break;case 429:s=`Too Many Requests: ${s}`;break;case 500:s=`Internal Server Error: ${s}`;break;case 502:s=`Bad Gateway: ${s}`;break;case 503:s=`Service Unavailable: ${s}`;break;default:s=`Error ${t}: ${s}`}return new Ut(s,t,void 0,n)}return e&&typeof e=="object"&&"request"in e&&e.request?new Ut("Network error: Unable to connect to the server. Please check your internet connection.",0,"NETWORK_ERROR"):e instanceof Ut?e:e instanceof Error?new Ut(e.message,void 0,void 0,e):new Ut("An unexpected error occurred. Please try again.",void 0,"UNKNOWN_ERROR",e)},Di=e=>e.code==="NETWORK_ERROR"||e.status===0,Ii=e=>e.status===401||e.status===403,Li=e=>e.status===400||e.status===422,Oi=e=>e.status&&e.status>=500,sm=e=>Di(e)?"Connection failed. Please check your internet connection and try again.":Ii(e)?"Authentication failed. Please log in again.":Li(e)?e.message:Oi(e)?"Server error. Please try again later.":e.message||"An unexpected error occurred.",H=(e,t)=>{console.error(`[${t}] Error:`,{message:e.message,status:e.status,code:e.code,details:e.details,stack:e.stack})};class wp{async login(t){try{console.log("Sending login credentials:",t);let r;if(t.email)r={email:t.email,password:t.password};else if(t.username)r={username:t.username,password:t.password};else throw new Ut("Either email or username must be provided");console.log("Sending payload to backend:",r);const s=(await F.post(B.USERS.AUTH.LOGIN,r)).data;return localStorage.setItem("accessToken",s.access_token),localStorage.setItem("refreshToken",s.refresh_token),localStorage.setItem("user",JSON.stringify(s.user)),s}catch(r){const n=V(r);throw H(n,"AuthService.login"),n}}async logout(){try{await F.post(B.USERS.AUTH.LOGOUT)}catch(t){console.warn("Server logout failed:",t)}finally{this.clearAuthData()}}clearAuthData(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("userRole")}async changePassword(t,r){try{return(await F.post(B.USERS.AUTH.CHANGE_PASSWORD,{old_password:t,new_password:r})).data}catch(n){const s=V(n);throw H(s,"AuthService.changePassword"),s}}async refreshToken(){var t,r;try{const n=localStorage.getItem("refreshToken");if(!n)throw new Ut("No refresh token available");console.log("Attempting to refresh token...");const l=(await F.post(B.USERS.AUTH.REFRESH,{refresh_token:n})).data;return localStorage.setItem("accessToken",l.access_token),localStorage.setItem("refreshToken",l.refresh_token),console.log("Token refreshed successfully"),l}catch(n){if(console.error("Token refresh failed:",n),n&&typeof n=="object"&&"response"in n){const l=n;(((t=l.response)==null?void 0:t.status)===401||((r=l.response)==null?void 0:r.status)===400)&&(console.log("Clearing invalid tokens due to refresh failure"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"))}const s=V(n);throw H(s,"AuthService.refreshToken"),s}}async requestPasswordReset(t){try{return(await F.post(B.USERS.AUTH.REQUEST_PASSWORD_RESET,{email:t})).data}catch(r){const n=V(r);throw H(n,"AuthService.requestPasswordReset"),n}}async verifyPasswordReset(t,r,n){try{return(await F.post(B.USERS.AUTH.VERIFY_PASSWORD_RESET,{email:t,otp:r,new_password:n})).data}catch(s){const l=V(s);throw H(l,"AuthService.verifyPasswordReset"),l}}async getProfile(){try{return(await F.get(B.USERS.GET_PROFILE)).data}catch(t){const r=V(t);throw H(r,"AuthService.getProfile"),r}}async updateProfile(t){try{return(await F.put(B.USERS.UPDATE_PROFILE,t)).data}catch(r){const n=V(r);throw H(n,"AuthService.updateProfile"),n}}async getActivities(){try{return(await F.get(B.USERS.GET_ACTIVITIES)).data}catch(t){const r=V(t);throw H(r,"AuthService.getActivities"),r}}async getSessions(){try{return(await F.get(B.USERS.GET_SESSIONS)).data}catch(t){const r=V(t);throw H(r,"AuthService.getSessions"),r}}async revokeAllSessions(){try{return(await F.post(B.USERS.REVOKE_ALL_SESSIONS)).data}catch(t){const r=V(t);throw H(r,"AuthService.revokeAllSessions"),r}}isAuthenticated(){const t=localStorage.getItem("accessToken");if(!t)return!1;try{const r=JSON.parse(atob(t.split(".")[1])),n=Date.now()/1e3;return r.exp<n?(console.log("Token expired, clearing auth data"),this.clearAuthData(),!1):!0}catch(r){return console.error("Error parsing token:",r),this.clearAuthData(),!1}}isTokenExpiringSoon(t=5){const r=localStorage.getItem("accessToken");if(!r)return!0;try{const n=JSON.parse(atob(r.split(".")[1])),s=Date.now()/1e3;return n.exp-s<t*60}catch(n){return console.error("Error checking token expiration:",n),!0}}getCurrentUser(){const t=localStorage.getItem("user");return t?JSON.parse(t):null}getAccessToken(){return localStorage.getItem("accessToken")}getRefreshToken(){return localStorage.getItem("refreshToken")}}const Ge=new wp;class kp{extractCamerasFromResponse(t){if(Array.isArray(t))return t;if(t&&typeof t=="object"){const r=t;if(r.items&&Array.isArray(r.items))return r.items;if(r.results&&Array.isArray(r.results))return r.results;if(r.cameras&&Array.isArray(r.cameras))return r.cameras;if(r.data&&Array.isArray(r.data))return r.data}return console.error("Unexpected CCTV response structure:",t),[]}async getCameras(){try{const t=await F.get(B.CCTV.CAMERAS.LIST_CAMERAS);return this.extractCamerasFromResponse(t.data)}catch(t){const r=V(t);throw H(r,"CameraService.getCameras"),r}}async createCamera(t){try{return(await F.post(B.CCTV.CAMERAS.CREATE_CAMERA,t)).data}catch(r){const n=V(r);throw H(n,"CameraService.createCamera"),n}}async getCamera(t){try{return(await F.get(B.CCTV.CAMERAS.GET_CAMERA(t))).data}catch(r){const n=V(r);throw H(n,"CameraService.getCamera"),n}}async updateCamera(t,r){try{return(await F.put(B.CCTV.CAMERAS.UPDATE_CAMERA(t),r)).data}catch(n){const s=V(n);throw H(s,"CameraService.updateCamera"),s}}async deleteCamera(t){try{return(await F.delete(B.CCTV.CAMERAS.DELETE_CAMERA(t))).data}catch(r){const n=V(r);throw H(n,"CameraService.deleteCamera"),n}}async testCameraConnection(t){try{return(await F.post(B.CCTV.CAMERAS.DRF.TEST_CONNECTION(t))).data}catch(r){const n=V(r);throw H(n,"CameraService.testCameraConnection"),n}}async testCameraConnectionDRF(t){try{return(await F.post(B.CCTV.CAMERAS.DRF.TEST_CONNECTION(t))).data}catch(r){const n=V(r);throw H(n,"CameraService.testCameraConnectionDRF"),n}}}const _e=new kp;class Np{async startRecording(t,r){try{return(await F.post(B.CCTV.CAMERAS.START_RECORDING(t),r)).data}catch(n){const s=V(n);throw H(s,"RecordingService.startRecording"),s}}async stopRecording(t){try{return(await F.post(B.CCTV.CAMERAS.STOP_RECORDING(t))).data}catch(r){const n=V(r);throw H(n,"RecordingService.stopRecording"),n}}async getRecordingStatus(t){try{return(await F.get(B.CCTV.CAMERAS.RECORDING_STATUS(t))).data}catch(r){const n=V(r);throw H(n,"RecordingService.getRecordingStatus"),n}}async getRecordingOverview(){try{return(await F.get(B.CCTV.CAMERAS.RECORDING_OVERVIEW)).data}catch(t){const r=V(t);throw H(r,"RecordingService.getRecordingOverview"),r}}async testRecording(t){try{return(await F.post(B.CCTV.CAMERAS.DRF.TEST_RECORDING(t),{duration_minutes:5,recording_name:`Test Recording - ${t}`,quality:"main"})).data}catch(r){const n=V(r);throw H(n,"RecordingService.testRecording"),n}}async getRecordings(){try{return(await F.get(B.CCTV.RECORDINGS.LIST_RECORDINGS)).data}catch(t){const r=V(t);throw H(r,"RecordingService.getRecordings"),r}}async getRecording(t){try{return(await F.get(B.CCTV.RECORDINGS.GET_RECORDING(t))).data}catch(r){const n=V(r);throw H(n,"RecordingService.getRecording"),n}}async getRecordingStats(){try{return(await F.get(B.CCTV.RECORDINGS.GET_STATS)).data}catch(t){const r=V(t);throw H(r,"RecordingService.getRecordingStats"),r}}async downloadRecording(t){try{return(await F.get(B.CCTV.RECORDINGS.DRF.DOWNLOAD(t),{responseType:"blob"})).data}catch(r){const n=V(r);throw H(n,"RecordingService.downloadRecording"),n}}async streamRecording(t){try{return(await F.get(B.CCTV.RECORDINGS.PLAYBACK(t),{responseType:"blob"})).data}catch(r){const n=V(r);throw H(n,"RecordingService.streamRecording"),n}}async transferToGCP(t){try{return(await F.post(B.CCTV.RECORDINGS.TRANSFER_TO_GCP,t)).data}catch(r){const n=V(r);throw H(n,"RecordingService.transferToGCP"),n}}async getGCPTransfers(){try{return(await F.get(B.CCTV.RECORDINGS.GCP_TRANSFERS)).data}catch(t){const r=V(t);throw H(r,"RecordingService.getGCPTransfers"),r}}}const se=new Np;class Sp{getLiveStreamUrl(t,r="main"){return`https://cctvapi.suvidhaen.com/v0/api/cctv/cameras/${t}/stream/?quality=${r}`}async getLiveStreamBlob(t,r="main"){try{return(await F.get(`/cctv/cameras/${t}/stream/`,{params:{quality:r},responseType:"blob"})).data}catch(n){const s=V(n);throw H(s,"StreamingService.getLiveStreamBlob"),s}}async getCameraStreamInfo(t){try{return(await F.get(`/cctv/cameras/${t}/stream/info/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.getCameraStreamInfo"),n}}async getCameraThumbnail(t,r="main"){try{return(await F.get(`/cctv/cameras/${t}/stream/thumbnail/`,{params:{quality:r},responseType:"blob"})).data}catch(n){const s=V(n);throw H(s,"StreamingService.getCameraThumbnail"),s}}async activateStream(t,r="main"){try{return(await F.post(`/cctv/cameras/${t}/activate_stream/`,null,{params:{quality:r}})).data}catch(n){const s=V(n);throw H(s,"StreamingService.activateStream"),s}}async deactivateStream(t){try{return(await F.post(`/cctv/cameras/${t}/deactivate_stream/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.deactivateStream"),n}}async getStreamStatus(t){try{return(await F.get(`/cctv/cameras/${t}/stream_status/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.getStreamStatus"),n}}async getStreamHealth(t,r="main"){try{return(await F.get(`/cctv/cameras/${t}/stream_health/`,{params:{quality:r}})).data}catch(n){const s=V(n);throw H(s,"StreamingService.getStreamHealth"),s}}async captureSnapshot(t,r="main"){try{return(await F.get(`/cctv/cameras/${t}/stream/snapshot/`,{params:{quality:r}})).data}catch(n){const s=V(n);throw H(s,"StreamingService.captureSnapshot"),s}}async getAllStreams(){try{const t=await F.get("/cctv/streams/");return t.data.streams||t.data}catch(t){const r=V(t);throw H(r,"StreamingService.getAllStreams"),r}}async getActiveStreams(){try{return(await F.get("/cctv/streams/active/")).data}catch(t){const r=V(t);throw H(r,"StreamingService.getActiveStreams"),r}}async testCameraConnection(t){try{return(await F.post(`/cctv/cameras/${t}/test_connection/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.testCameraConnection"),n}}async recoverStream(t){try{return(await F.post(`/cctv/cameras/${t}/recover_stream/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.recoverStream"),n}}async getMultiStreamDashboard(){try{return(await F.get("/cctv/cameras/multi-stream/")).data}catch(t){const r=V(t);throw H(r,"StreamingService.getMultiStreamDashboard"),r}}async getStreamSystemStatus(){try{return(await F.get("/cctv/cameras/stream/status/")).data}catch(t){const r=V(t);throw H(r,"StreamingService.getStreamSystemStatus"),r}}async setCameraOnline(t){try{return(await F.post(`/cctv/cameras/${t}/set_online/`)).data}catch(r){const n=V(r);throw H(n,"StreamingService.setCameraOnline"),n}}}const J=new Sp;class jp{async getSchedules(){try{return(await F.get(B.CCTV.SCHEDULES.LIST_SCHEDULES)).data}catch(t){const r=V(t);throw H(r,"ScheduleService.getSchedules"),r}}async getSchedule(t){try{return(await F.get(B.CCTV.SCHEDULES.GET_SCHEDULE(t))).data}catch(r){const n=V(r);throw H(n,"ScheduleService.getSchedule"),n}}async createSchedule(t){try{return(await F.post(B.CCTV.SCHEDULES.CREATE_SCHEDULE,t)).data}catch(r){const n=V(r);throw H(n,"ScheduleService.createSchedule"),n}}async updateSchedule(t,r){try{return(await F.put(B.CCTV.SCHEDULES.UPDATE_SCHEDULE(t),r)).data}catch(n){const s=V(n);throw H(s,"ScheduleService.updateSchedule"),s}}async deleteSchedule(t){try{return(await F.delete(B.CCTV.SCHEDULES.DELETE_SCHEDULE(t))).data}catch(r){const n=V(r);throw H(n,"ScheduleService.deleteSchedule"),n}}async activateSchedule(t){try{return(await F.post(B.CCTV.SCHEDULES.ACTIVATE_SCHEDULE(t))).data}catch(r){const n=V(r);throw H(n,"ScheduleService.activateSchedule"),n}}async deactivateSchedule(t){try{return(await F.post(B.CCTV.SCHEDULES.DEACTIVATE_SCHEDULE(t))).data}catch(r){const n=V(r);throw H(n,"ScheduleService.deactivateSchedule"),n}}async getScheduleStatus(t){try{return(await F.get(B.CCTV.SCHEDULES.GET_SCHEDULE_STATUS(t))).data}catch(r){const n=V(r);throw H(n,"ScheduleService.getScheduleStatus"),n}}}const ye=new jp;class Ep{async getCameraAccess(){try{return(await F.get(B.CCTV.ACCESS.DRF.LIST)).data}catch(t){const r=V(t);throw H(r,"AccessControlService.getCameraAccess"),r}}async getCameraAccessById(t){try{return(await F.get(B.CCTV.ACCESS.DRF.RETRIEVE(t))).data}catch(r){const n=V(r);throw H(n,"AccessControlService.getCameraAccessById"),n}}async createCameraAccess(t){try{return(await F.post(B.CCTV.ACCESS.DRF.CREATE,t)).data}catch(r){const n=V(r);throw H(n,"AccessControlService.createCameraAccess"),n}}async updateCameraAccess(t,r){try{return(await F.put(B.CCTV.ACCESS.DRF.UPDATE(t),r)).data}catch(n){const s=V(n);throw H(s,"AccessControlService.updateCameraAccess"),s}}async deleteCameraAccess(t){try{return(await F.delete(B.CCTV.ACCESS.DRF.DELETE(t))).data}catch(r){const n=V(r);throw H(n,"AccessControlService.deleteCameraAccess"),n}}}const Ze=new Ep;class Cp{async getHealth(){try{return(await F.get(B.CCTV.HEALTH)).data}catch(t){const r=V(t);throw H(r,"SystemService.getHealth"),r}}async getSystemOverview(){try{return(await F.get(B.CCTV.STATUS.OVERVIEW)).data}catch(t){const r=V(t);throw H(r,"SystemService.getSystemOverview"),r}}async getCameraStatus(){try{return(await F.get(B.CCTV.STATUS.CAMERAS)).data}catch(t){const r=V(t);throw H(r,"SystemService.getCameraStatus"),r}}async getAllRecordingStatus(){try{return(await F.get(B.CCTV.STATUS.RECORDINGS)).data}catch(t){const r=V(t);throw H(r,"SystemService.getAllRecordingStatus"),r}}async testConnection(){try{return(await F.post(B.CCTV.STATUS.TEST_CONNECTION)).data}catch(t){const r=V(t);throw H(r,"SystemService.testConnection"),r}}}const yt=new Cp;class ke{static async getAnalytics(){try{return(await F.get(B.CCTV.DASHBOARD.GET_ANALYTICS)).data}catch(t){throw console.error("Error fetching dashboard analytics:",t),t}}static async getRecentActivity(t=20){try{return(await F.get(B.CCTV.DASHBOARD.GET_ACTIVITY_WITH_LIMIT(t))).data}catch(r){throw console.error("Error fetching recent activity:",r),r}}static async getSystemMetrics(){try{return(await this.getAnalytics()).system_metrics}catch(t){throw console.error("Error fetching system metrics:",t),t}}static async getCameraStatusDistribution(){try{return(await this.getAnalytics()).camera_status_distribution}catch(t){throw console.error("Error fetching camera status distribution:",t),t}}static async getRecordingActivity(){try{return(await this.getAnalytics()).recording_activity_7_days}catch(t){throw console.error("Error fetching recording activity:",t),t}}static async getHourlyActivity(){try{return(await this.getAnalytics()).hourly_activity_today}catch(t){throw console.error("Error fetching hourly activity:",t),t}}static async getScheduleTypeDistribution(){try{return(await this.getAnalytics()).schedule_type_distribution}catch(t){throw console.error("Error fetching schedule type distribution:",t),t}}static async getStorageUsage(){try{return(await this.getAnalytics()).storage_usage_30_days}catch(t){throw console.error("Error fetching storage usage:",t),t}}static async refreshDashboard(t=20){try{const[r,n]=await Promise.all([this.getAnalytics(),this.getRecentActivity(t)]);return{analytics:r,activity:n,timestamp:new Date().toISOString()}}catch(r){throw console.error("Error refreshing dashboard:",r),r}}}class je{static canCreateRole(t,r){var n;return((n=Tl[t])==null?void 0:n.includes(r))||!1}static canManageRole(t,r){var n;return((n=_l[t])==null?void 0:n.includes(r))||!1}static hasRoleLevel(t,r){return Na[t]>=Na[r]}static getCreatableRoles(t){return Tl[t]||[]}static getManageableRoles(t){return _l[t]||[]}static validateRoleAssignment(t,r){return this.canCreateRole(t,r)}static canPerformAction(t,r,n){switch(t){case"create":return this.canCreateRole(r,n);case"manage":return this.canManageRole(r,n);case"view":return this.canManageRole(r,n);default:return!1}}static getRoleDisplayName(t){return{[U.VISITOR]:"Visitor",[U.DEV]:"Developer",[U.ADMIN]:"Admin",[U.SUPERADMIN]:"Super Admin"}[t]||t}static getRoleDescription(t){return{[U.VISITOR]:"Basic system access, read-only access to public features",[U.DEV]:"Access to development features, limited user management capabilities",[U.ADMIN]:"Can manage users (except superadmins), access to admin panel",[U.SUPERADMIN]:"Full system access, can create, modify, and delete any user"}[t]||"No description available"}static getRoleIcon(t){return{[U.VISITOR]:"",[U.DEV]:"",[U.ADMIN]:"",[U.SUPERADMIN]:""}[t]||""}static getRoleColor(t){return{[U.VISITOR]:"#6B7280",[U.DEV]:"#3B82F6",[U.ADMIN]:"#F59E0B",[U.SUPERADMIN]:"#DC2626"}[t]||"#6B7280"}static canAccessFeature(t,r){const s={user_management:[U.DEV,U.ADMIN,U.SUPERADMIN],admin_panel:[U.ADMIN,U.SUPERADMIN],system_config:[U.SUPERADMIN],cctv_management:[U.DEV,U.ADMIN,U.SUPERADMIN],mailer_management:[U.ADMIN,U.SUPERADMIN],general_management:[U.ADMIN,U.SUPERADMIN],development_features:[U.DEV,U.ADMIN,U.SUPERADMIN]}[r];return s?s.includes(t):!1}static getAccessibleFeatures(t){return["user_management","admin_panel","system_config","cctv_management","mailer_management","general_management"].filter(n=>this.canAccessFeature(t,n))}static validateUserCreation(t,r){const n=[];return this.canCreateRole(r,t.role)||n.push(`Permission denied. You cannot create users with role: ${t.role}`),Na[t.role]>=Na[r]&&n.push("Permission denied. You cannot create users with equal or higher role level"),{isValid:n.length===0,errors:n}}static getRoleHierarchyTree(){return Object.entries(Na).map(([t,r])=>({role:t,level:r,canCreate:Tl[t]||[],canManage:_l[t]||[]})).sort((t,r)=>t.level-r.level)}}class Tp{async getUsers(){var t,r;try{const n=await F.get(B.USERS.LIST_USERS);return this.extractUsersFromResponse(n.data).map(l=>this.mapBackendUserToFrontend(l))}catch(n){((t=n.response)==null?void 0:t.status)===401?console.error("Authentication required for getUsers endpoint"):((r=n.response)==null?void 0:r.status)===403&&console.error("Admin access required for getUsers endpoint");const s=V(n);throw H(s,"UserService.getUsers"),s}}async getUser(t){try{const r=await F.get(B.USERS.GET_USER(t));return this.mapBackendUserToFrontend(r.data)}catch(r){const n=V(r);throw H(n,"UserService.getUser"),n}}async createUser(t){try{const r=this.mapFrontendUserToBackend(t),n=await F.post(B.USERS.CREATE_USER,r);return this.mapBackendUserToFrontend(n.data)}catch(r){const n=V(r);throw H(n,"UserService.createUser"),n}}async updateUser(t,r){try{const n=this.mapFrontendUserToBackend(r),s=await F.put(B.USERS.UPDATE_USER(t),n);return this.mapBackendUserToFrontend(s.data)}catch(n){const s=V(n);throw H(s,"UserService.updateUser"),s}}async deleteUser(t){try{return(await F.delete(B.USERS.DELETE_USER(t))).data}catch(r){const n=V(r);throw H(n,"UserService.deleteUser"),n}}async updateUserRole(t,r){try{return(await F.put(B.USERS.CHANGE_USER_ROLE(t),{role:r})).data}catch(n){const s=V(n);throw H(s,"UserService.updateUserRole"),s}}async toggleUserActivation(t){try{return(await F.put(B.USERS.TOGGLE_USER_ACTIVATION(t))).data}catch(r){const n=V(r);throw H(n,"UserService.toggleUserActivation"),n}}async getUsersByRole(t){try{const r=await F.get(B.USERS.LIST_USERS,{params:{role:t}});return this.extractUsersFromResponse(r.data).map(s=>this.mapBackendUserToFrontend(s))}catch(r){const n=V(r);throw H(n,"UserService.getUsersByRole"),n}}extractUsersFromResponse(t){if(Array.isArray(t))return t;if(t&&t.items&&Array.isArray(t.items))return t.items;if(t&&t.results&&Array.isArray(t.results))return t.results;if(t&&t.users&&Array.isArray(t.users))return t.users;if(t&&t.data&&Array.isArray(t.data))return t.data;throw console.error("Unexpected response structure:",t),new Error(`Invalid response format: expected array of users, got ${typeof t}`)}mapBackendUserToFrontend(t){return{id:t.id,username:t.username,email:t.email,first_name:t.first_name,last_name:t.last_name,phone_no:t.phone_number,phone_number:t.phone_number,bio:t.bio,role:t.role,active:t.is_active,is_active:t.is_active,is_verified:t.is_verified,lastLogin:t.last_login,last_login:t.last_login,created_at:t.created_at,updated_at:t.updated_at,user_id:t.user_id}}mapFrontendUserToBackend(t){const r={...t};return t.phone_no&&(r.phone_number=t.phone_no,delete r.phone_no),t.active!==void 0&&(r.is_active=t.active,delete r.active),t.lastLogin&&(r.last_login=t.lastLogin,delete r.lastLogin),r}async getUserActivities(){try{return(await F.get(B.USERS.GET_ACTIVITIES)).data}catch(t){const r=V(t);throw H(r,"UserService.getUserActivities"),r}}async getUserSessions(){try{return(await F.get(B.USERS.GET_SESSIONS)).data}catch(t){const r=V(t);throw H(r,"UserService.getUserSessions"),r}}async revokeAllSessions(){try{return(await F.post(B.USERS.REVOKE_ALL_SESSIONS)).data}catch(t){const r=V(t);throw H(r,"UserService.revokeAllSessions"),r}}async revokeUserSessions(t){try{return(await F.post(B.USERS.REVOKE_USER_SESSIONS(t))).data}catch(r){const n=V(r);throw H(n,"UserService.revokeUserSessions"),n}}async getProfile(){try{const t=await F.get(B.USERS.GET_PROFILE);return this.mapBackendUserToFrontend(t.data)}catch(t){const r=V(t);throw H(r,"UserService.getProfile"),r}}async updateProfile(t){try{const r=this.mapFrontendUserToBackend(t),n=await F.put(B.USERS.UPDATE_PROFILE,r);return this.mapBackendUserToFrontend(n.data)}catch(r){const n=V(r);throw H(n,"UserService.updateProfile"),n}}async requestPasswordReset(t){try{return(await F.post(B.USERS.AUTH.REQUEST_PASSWORD_RESET,{email:t})).data}catch(r){const n=V(r);throw H(n,"UserService.requestPasswordReset"),n}}async verifyPasswordReset(t){try{return(await F.post(B.USERS.AUTH.VERIFY_PASSWORD_RESET,t)).data}catch(r){const n=V(r);throw H(n,"UserService.verifyPasswordReset"),n}}async changePassword(t){try{return(await F.post(B.USERS.AUTH.CHANGE_PASSWORD,t)).data}catch(r){const n=V(r);throw H(n,"UserService.changePassword"),n}}}const Sa=new Tp;_e.getCameras.bind(_e),_e.createCamera.bind(_e),_e.getCamera.bind(_e),_e.updateCamera.bind(_e),_e.deleteCamera.bind(_e),_e.testCameraConnection.bind(_e),_e.testCameraConnectionDRF.bind(_e),se.startRecording.bind(se),se.stopRecording.bind(se),se.getRecordingStatus.bind(se),se.getRecordingOverview.bind(se),se.testRecording.bind(se),se.getRecordings.bind(se),se.getRecording.bind(se),se.getRecordingStats.bind(se),se.downloadRecording.bind(se),se.streamRecording.bind(se),J.getLiveStreamUrl.bind(J),J.getLiveStreamBlob.bind(J),J.getCameraStreamInfo.bind(J),J.getCameraThumbnail.bind(J),J.captureSnapshot.bind(J),J.activateStream.bind(J),J.deactivateStream.bind(J),J.getStreamStatus.bind(J),J.getStreamHealth.bind(J),J.getAllStreams.bind(J),J.getActiveStreams.bind(J),J.testCameraConnection.bind(J),J.recoverStream.bind(J),J.getMultiStreamDashboard.bind(J),J.getStreamSystemStatus.bind(J),ye.getSchedules.bind(ye),ye.getSchedule.bind(ye),ye.createSchedule.bind(ye),ye.updateSchedule.bind(ye),ye.deleteSchedule.bind(ye),ye.activateSchedule.bind(ye),ye.deactivateSchedule.bind(ye),ye.getScheduleStatus.bind(ye),Ze.getCameraAccess.bind(Ze),Ze.getCameraAccessById.bind(Ze),Ze.createCameraAccess.bind(Ze),Ze.updateCameraAccess.bind(Ze),Ze.deleteCameraAccess.bind(Ze),yt.getHealth.bind(yt),yt.getSystemOverview.bind(yt),yt.getCameraStatus.bind(yt),yt.getAllRecordingStatus.bind(yt),yt.testConnection.bind(yt),ke.getAnalytics.bind(ke),ke.getRecentActivity.bind(ke),ke.getSystemMetrics.bind(ke),ke.getCameraStatusDistribution.bind(ke),ke.getRecordingActivity.bind(ke),ke.getHourlyActivity.bind(ke),ke.getScheduleTypeDistribution.bind(ke),ke.getStorageUsage.bind(ke),ke.refreshDashboard.bind(ke);const dd=e=>{try{const t=JSON.parse(atob(e.split(".")[1])),r=Date.now()/1e3,n=t.exp*1e3;return{isValid:t.exp>r,expiresAt:new Date(n),timeUntilExpiry:n-Date.now(),userId:t.user_id,username:t.username}}catch(t){return console.error("Error parsing token:",t),null}},_p=()=>{const e=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");return{hasAccessToken:!!e,hasRefreshToken:!!t,accessTokenInfo:e?dd(e):null,refreshTokenInfo:t?dd(t):null}},ud=()=>{const e=_p();console.log("=== Token Status ==="),console.log("Access Token:",e.hasAccessToken?"Present":"Missing"),console.log("Refresh Token:",e.hasRefreshToken?"Present":"Missing"),e.accessTokenInfo&&console.log("Access Token Info:",{isValid:e.accessTokenInfo.isValid,expiresAt:e.accessTokenInfo.expiresAt.toLocaleString(),timeUntilExpiry:`${Math.round(e.accessTokenInfo.timeUntilExpiry/1e3/60)} minutes`}),e.refreshTokenInfo&&console.log("Refresh Token Info:",{isValid:e.refreshTokenInfo.isValid,expiresAt:e.refreshTokenInfo.expiresAt.toLocaleString(),timeUntilExpiry:`${Math.round(e.refreshTokenInfo.timeUntilExpiry/1e3/60/60)} hours`}),console.log("===================")},lm=b.createContext(void 0),Rp=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(!0),[l,o]=b.useState(!1);b.useState(0),b.useEffect(()=>{},[]),b.useEffect(()=>{(async()=>{try{if(console.log("Initializing authentication..."),ud(),Ge.isAuthenticated()){const C=Ge.getCurrentUser();if(C)console.log("User already authenticated:",C.username),r(C);else{console.log("User data missing, attempting token refresh...");try{await Ge.refreshToken();const M=Ge.getCurrentUser();M&&(console.log("User data restored after refresh:",M.username),r(M))}catch{console.log("Token refresh failed during initialization"),Ge.logout()}}}else console.log("No valid authentication found")}catch(C){console.error("Auth initialization error:",C),Ge.logout()}finally{s(!1),o(!0)}})()},[]),b.useEffect(()=>{if(!t)return;const N=setInterval(async()=>{try{console.log("Refreshing token..."),await Ge.refreshToken();const C=Ge.getCurrentUser();C&&(r(C),console.log("Token refreshed successfully"))}catch(C){console.error("Token refresh failed:",C)}},25*60*1e3);return()=>clearInterval(N)},[t]),b.useEffect(()=>{if(!t)return;const N=setInterval(async()=>{try{const C=Ge.getAccessToken();if(!C){console.log("No access token found, logging out"),c();return}const Z=JSON.parse(atob(C.split(".")[1])).exp*1e3,le=Date.now();if(Z-le<5*60*1e3){console.log("Token expiring soon, refreshing..."),await Ge.refreshToken();const I=Ge.getCurrentUser();I&&r(I)}}catch(C){console.error("Token validity check failed:",C)}},5*60*1e3);return()=>clearInterval(N)},[t]);const i=async N=>{try{s(!0);const C=await Ge.login(N);r(C.user)}catch(C){throw console.error("Login error:",C),C}finally{s(!1)}},c=()=>{Ge.logout(),r(null)},d=async()=>{try{const N=await Ge.refreshToken();r(N.user)}catch(N){throw console.error("Token refresh error:",N),c(),N}},g=()=>{ud()},x=t!=null&&t.role?t.role:localStorage.getItem("userRole")||null,j=x===U.ADMIN||x===U.SUPERADMIN,p=x===U.DEV||j,E=x===U.SUPERADMIN,k={user:t,isAuthenticated:!!t,isLoading:n,login:i,logout:c,refreshToken:d,debugTokens:g,userRole:x,isAdmin:j,isDev:p,isSuperAdmin:E,canCreateRole:N=>x?je.canCreateRole(x,N):!1,canManageRole:N=>x?je.canManageRole(x,N):!1,hasRoleLevel:N=>x?je.hasRoleLevel(x,N):!1,canAccessFeature:N=>x?je.canAccessFeature(x,N):!1,getCreatableRoles:()=>x?je.getCreatableRoles(x):[],getManageableRoles:()=>x?je.getManageableRoles(x):[],getAccessibleFeatures:()=>x?je.getAccessibleFeatures(x):[]};return l?a.jsx(lm.Provider,{value:k,children:e}):a.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Initializing..."})]})})},Qs=()=>{const e=b.useContext(lm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pp=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),md=e=>{const t=Pp(e);return t.charAt(0).toUpperCase()+t.slice(1)},om=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Dp=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ip={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:l,iconNode:o,...i},c)=>b.createElement("svg",{ref:c,...Ip,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:om("lucide",s),...!l&&!Dp(i)&&{"aria-hidden":"true"},...i},[...o.map(([d,g])=>b.createElement(d,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const r=b.forwardRef(({className:n,...s},l)=>b.createElement(Lp,{ref:l,iconNode:t,className:om(`lucide-${Ap(md(e))}`,`lucide-${e}`,n),...s}));return r.displayName=md(e),r};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],gd=Q("activity",Op);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ao=Q("bell",Up);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ui=Q("calendar",Mp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wt=Q("camera",Fp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zp=Q("chart-column",$p);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hp=Q("chevron-down",Vp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],St=Q("circle-alert",Bp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],It=Q("circle-check-big",Wp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qp=Q("circle-x",Gp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ir=Q("clock",Qp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],hd=Q("cloud",Kp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Zp=Q("crown",Yp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xp=Q("database",Jp);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ss=Q("download",ex);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],im=Q("external-link",tx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nn=Q("eye-off",rx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ur=Q("eye",ax);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sx=Q("funnel",nx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cm=Q("globe",lx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dm=Q("grid-3x3",ox);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],Po=Q("hard-drive",ix);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Mi=Q("info",cx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],um=Q("key",dx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ks=Q("loader-circle",ux);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fd=Q("lock",mx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mm=Q("log-out",gx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fx=Q("mail",hx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],ea=Q("maximize-2",px);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],yx=Q("monitor",xx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bx=Q("moon",vx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ln=Q("pause",wx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Nx=Q("pen-line",kx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ma=Q("play",Sx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sn=Q("plus",jx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Cx=Q("power-off",Ex);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_x=Q("power",Tx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Pe=Q("refresh-cw",Rx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Px=Q("repeat",Ax);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Do=Q("rotate-ccw",Dx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pn=Q("save",Ix);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gm=Q("search",Lx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],js=Q("settings",Ox);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ys=Q("shield",Ux);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zs=Q("square-pen",Mx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$x=Q("sun",Fx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ga=Q("trash-2",zx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Hx=Q("trending-up",Vx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pd=Q("triangle-alert",Bx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zn=Q("upload",Wx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xd=Q("user-check",Gx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],yd=Q("user-x",qx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fa=Q("user",Qx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fi=Q("users",Kx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zx=Q("video-off",Yx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hm=Q("video",Jx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vd=Q("wifi-off",Xx);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Io=Q("wifi",ey);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],He=Q("x",ty),ry=({id:e,type:t,title:r,message:n,duration:s=5e3,onClose:l})=>{const[o,i]=b.useState(!0);b.useEffect(()=>{const x=setTimeout(()=>{i(!1),setTimeout(()=>l(e),300)},s);return()=>clearTimeout(x)},[e,s,l]);const c=()=>{i(!1),setTimeout(()=>l(e),300)},d={success:a.jsx(It,{className:"w-5 h-5"}),error:a.jsx(qp,{className:"w-5 h-5"}),warning:a.jsx(St,{className:"w-5 h-5"}),info:a.jsx(Mi,{className:"w-5 h-5"})},g={success:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200",error:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200",warning:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200",info:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200"},m={success:"text-green-500 dark:text-green-400",error:"text-red-500 dark:text-red-400",warning:"text-yellow-500 dark:text-yellow-400",info:"text-blue-500 dark:text-blue-400"};return a.jsx("div",{className:`${g[t]} border rounded-lg p-4 shadow-lg transition-all duration-300 ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-2"} max-w-md w-full`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:m[t],children:d[t]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-sm mb-1",children:r}),a.jsx("p",{className:"text-sm opacity-90",children:n})]}),a.jsx("button",{onClick:c,className:"flex-shrink-0 opacity-50 hover:opacity-100 transition-opacity",children:a.jsx(He,{className:"w-4 h-4"})})]})})},fm=b.createContext(void 0),xn=()=>{const e=b.useContext(fm);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},ay=({children:e})=>{const[t,r]=b.useState([]),n=b.useCallback(d=>{r(g=>g.filter(m=>m.id!==d))},[]),s=b.useCallback(d=>{const g=Math.random().toString(36).substr(2,9);r(m=>[...m,{...d,id:g,onClose:n}])},[n]),l=b.useCallback((d,g)=>{s({type:"success",title:d,message:g})},[s]),o=b.useCallback((d,g)=>{s({type:"error",title:d,message:g})},[s]),i=b.useCallback((d,g)=>{s({type:"warning",title:d,message:g})},[s]),c=b.useCallback((d,g)=>{s({type:"info",title:d,message:g})},[s]);return a.jsxs(fm.Provider,{value:{showToast:s,showSuccess:l,showError:o,showWarning:i,showInfo:c},children:[e,a.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(d=>a.jsx(ry,{...d},d.id))})]})},ny=({activeView:e,onViewChange:t})=>{const{logout:r}=Qs(),n=[{id:"dashboard",label:"Dashboard",icon:zp},{id:"cameras",label:"Cameras",icon:Wt},{id:"live-feed",label:"Live Feed (RTSP)",icon:yx},{id:"http-live-feed",label:"HTTP Live Feed",icon:cm},{id:"recordings",label:"Recordings",icon:ur},{id:"schedule",label:"Schedule",icon:Ui},{id:"users",label:"Users",icon:Fi}];return a.jsxs("div",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen flex flex-col shadow-lg",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"CCTV Portal"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Security Management"})]}),a.jsx("nav",{className:"flex-1 mt-6 overflow-y-auto bg-white dark:bg-gray-800",children:n.map(s=>{const l=s.icon,o=e===s.id;return a.jsxs("button",{onClick:()=>t(s.id),className:`w-full flex items-center px-6 py-3 text-left transition-colors ${o?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-r-2 border-blue-700 dark:border-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[a.jsx(l,{className:"w-5 h-5 mr-3"}),s.label]},s.id)})}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:a.jsxs("button",{onClick:()=>{confirm("Are you sure you want to logout?")&&r()},className:"w-full flex items-center px-6 py-3 text-left rounded-lg transition-colors text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[a.jsx(mm,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})},sy=({onNavigate:e,onRefresh:t})=>{const{theme:r,toggleTheme:n}=Bh(),[s,l]=b.useState(!1),[o,i]=b.useState(new Date),[c,d]=b.useState(!1);let g,m;try{const u=Qs();g=u.user,m=u.logout}catch{g=null,m=()=>{}}b.useEffect(()=>{const u=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(u)},[]),b.useEffect(()=>{const u=()=>{l(!1)};return document.addEventListener("click",u),()=>document.removeEventListener("click",u)},[]);const x=()=>{confirm("Are you sure you want to logout?")&&m()},j=()=>{e&&e("profile"),l(!1)},p=async()=>{if(t){d(!0);try{await t()}finally{setTimeout(()=>{d(!1)},1e3)}}else window.location.reload()},E=u=>u.toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit",second:"2-digit"}),y=u=>u.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"});return!g&&!m?a.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4",children:a.jsx("div",{className:"text-center text-gray-500",children:"Loading header..."})}):a.jsxs("header",{className:"h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 flex items-center justify-between shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Security Dashboard"}),a.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(ir,{className:"w-4 h-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono font-semibold",children:E(o)}),a.jsx("span",{className:"text-xs",children:y(o)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:p,disabled:c,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:a.jsx(Pe,{className:`w-5 h-5 ${c?"animate-spin":""}`})}),a.jsx("button",{onClick:n,className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:r==="light"?a.jsx(bx,{className:"w-5 h-5"}):a.jsx($x,{className:"w-5 h-5"})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:u=>{u.stopPropagation(),l(!s)},className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Fa,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"text-sm text-left hidden md:block",children:[a.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:(g==null?void 0:g.username)||(g==null?void 0:g.email)||"User"}),a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:(g==null?void 0:g.role)||"User"})]}),a.jsx(Hp,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),s&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{onClick:j,className:"w-full flex items-center space-x-2 p-2 text-left text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[a.jsx(Fa,{className:"w-4 h-4"}),a.jsx("span",{children:"View Profile"})]}),a.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-600"}),a.jsxs("button",{onClick:x,className:"w-full flex items-center space-x-2 p-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[a.jsx(mm,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})},fr=()=>{const[e,t]=b.useState([]),[r,n]=b.useState([]),[s,l]=b.useState([]),[o,i]=b.useState(null),[c,d]=b.useState(null),[g,m]=b.useState(!1),[x,j]=b.useState(null),[p,E]=b.useState(null),y=b.useCallback(A=>{A instanceof Ut?(j(sm(A)),Di(A)?E("network"):Ii(A)?E("auth"):Li(A)?E("validation"):Oi(A)?E("server"):E("unknown")):(j(A instanceof Error?A.message:"An unexpected error occurred"),E("unknown")),console.error("CCTV Service Error:",A)},[]),u=b.useCallback(()=>{j(null),E(null)},[]),h=b.useCallback(async()=>{try{m(!0),u();const A=await _e.getCameras();t(A)}catch(A){y(A)}finally{m(!1)}},[u,y]),v=b.useCallback(async A=>{try{return u(),await _e.getCamera(A)}catch(P){throw y(P),P}},[u,y]),f=b.useCallback(async()=>{try{m(!0),u();const A=await ye.getSchedules();n(A.schedules),d({total_schedules:A.total_schedules,active_schedules:A.active_schedules})}catch(A){y(A)}finally{m(!1)}},[u,y]),w=b.useCallback(async()=>{try{m(!0),u();const A=await se.getRecordings();l(A.recordings),i({total_recordings:A.total_recordings,completed_recordings:A.completed_recordings,failed_recordings:A.failed_recordings})}catch(A){y(A)}finally{m(!1)}},[u,y]),S=b.useCallback(async A=>{try{m(!0),u();const P=await _e.createCamera(A);return await h(),P}catch(P){throw y(P),P}finally{m(!1)}},[h,u,y]),k=b.useCallback(async(A,P)=>{try{m(!0),u();const Se=await _e.updateCamera(A,P);return await h(),Se}catch(Se){throw y(Se),Se}finally{m(!1)}},[h,u,y]),N=b.useCallback(async A=>{try{m(!0),u(),await _e.deleteCamera(A),await h()}catch(P){throw y(P),P}finally{m(!1)}},[h,u,y]),C=b.useCallback(async A=>{try{return u(),await _e.testCameraConnection(A)}catch(P){throw y(P),P}},[u,y]),M=b.useCallback(async(A,P)=>{try{return u(),await se.startRecording(A,P)}catch(Se){throw y(Se),Se}},[u,y]),Z=b.useCallback(async A=>{try{return u(),await se.stopRecording(A)}catch(P){throw y(P),P}},[u,y]),le=b.useCallback(async A=>{try{return u(),await se.startRecording(A,{duration_minutes:5,recording_name:`Quick Record - ${new Date().toLocaleString()}`,quality:"main"})}catch(P){throw y(P),P}},[u,y]),oe=b.useCallback(async A=>{try{return u(),await se.getRecordingStatus(A)}catch(P){throw y(P),P}},[u,y]),I=b.useCallback(async()=>{try{return u(),await se.getRecordingOverview()}catch(A){throw y(A),A}},[u,y]),z=b.useCallback(async A=>{try{return u(),await J.getStreamInfo(A)}catch(P){throw y(P),P}},[u,y]),pe=b.useCallback(async A=>{try{return u(),await J.getCameraStreamInfo(A)}catch(P){throw y(P),P}},[u,y]),Te=b.useCallback(async(A,P="main")=>{try{return u(),await J.getLiveStream(A,P)}catch(Se){throw y(Se),Se}},[u,y]),$=b.useCallback(async()=>{try{return u(),await J.getActiveStreams()}catch(A){throw y(A),A}},[u,y]),q=b.useCallback(async()=>{try{return u(),await J.getAllStreams()}catch(A){throw y(A),A}},[u,y]),T=b.useCallback(async()=>{try{return u(),await se.getRecordingStats()}catch(A){throw y(A),A}},[u,y]),G=b.useCallback(async A=>{try{return u(),await se.getRecording(A)}catch(P){throw y(P),P}},[u,y]),ee=b.useCallback(async A=>{try{return u(),await se.downloadRecording(A)}catch(P){throw y(P),P}},[u,y]),ie=b.useCallback(async A=>{try{return u(),await se.streamRecording(A)}catch(P){throw y(P),P}},[u,y]),R=b.useCallback(async A=>{try{m(!0),u();const P=await ye.createSchedule(A);return await f(),P}catch(P){throw y(P),P}finally{m(!1)}},[f,u,y]),K=b.useCallback(async(A,P)=>{try{m(!0),u();const Se=await ye.updateSchedule(A,P);return await f(),Se}catch(Se){throw y(Se),Se}finally{m(!1)}},[f,u,y]),L=b.useCallback(async A=>{try{m(!0),u(),await ye.deleteSchedule(A),await f()}catch(P){throw y(P),P}finally{m(!1)}},[f,u,y]),Y=b.useCallback(async A=>{try{u();const P=await ye.activateSchedule(A);return await f(),P}catch(P){throw y(P),P}},[f,u,y]),ge=b.useCallback(async A=>{try{u();const P=await ye.deactivateSchedule(A);return await f(),P}catch(P){throw y(P),P}},[f,u,y]),D=b.useCallback(async A=>{try{return u(),await ye.getSchedule(A)}catch(P){throw y(P),P}},[u,y]),de=b.useCallback(async()=>{try{return u(),await Ze.getCameraAccess()}catch(A){throw y(A),A}},[u,y]),re=b.useCallback(async A=>{try{return m(!0),u(),await Ze.createCameraAccess(A)}catch(P){throw y(P),P}finally{m(!1)}},[u,y]),ne=b.useCallback(async(A,P)=>{try{return m(!0),u(),await Ze.updateCameraAccess(A,P)}catch(Se){throw y(Se),Se}finally{m(!1)}},[u,y]),Ir=b.useCallback(async A=>{try{m(!0),u(),await Ze.deleteCameraAccess(A)}catch(P){throw y(P),P}finally{m(!1)}},[u,y]),We=b.useCallback(async()=>{try{return u(),await yt.getHealth()}catch(A){throw y(A),A}},[u,y]),ue=b.useCallback(async()=>{try{m(!0),u(),await Promise.all([h(),f(),w()])}catch(A){y(A)}finally{m(!1)}},[h,f,w,u,y]);b.useEffect(()=>{ue()},[ue]);const pr=b.useCallback(async A=>{try{u();const P=await J.activateLiveStream(A);return await h(),P}catch(P){throw y(P),P}},[u,y,h]),Ct=b.useCallback(async A=>{try{u();const P=await J.deactivateLiveStream(A);return await h(),P}catch(P){throw y(P),P}},[u,y,h]);return{cameras:e,schedules:r,recordings:s,recordingStats:o,scheduleStats:c,loading:g,error:x,errorType:p,fetchCameras:h,getCamera:v,fetchSchedules:f,fetchRecordings:w,createCamera:S,updateCamera:k,deleteCamera:N,testCameraConnection:C,startRecording:M,stopRecording:Z,quickRecord:le,getRecordingStatus:oe,getRecordingOverview:I,getStreamInfo:z,getCameraStreamInfo:pe,getCameraLiveStream:Te,getActiveStreams:$,getAllStreams:q,getRecordingStats:T,getRecording:G,downloadRecording:ee,streamRecording:ie,createSchedule:R,updateSchedule:K,deleteSchedule:L,activateSchedule:Y,deactivateSchedule:ge,getScheduleById:D,getCameraAccess:de,createCameraAccess:re,updateCameraAccess:ne,deleteCameraAccess:Ir,getHealth:We,refreshAll:ue,activateStream:pr,deactivateStream:Ct,clearError:u}},$i=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(!1),[s,l]=b.useState(null),o=b.useCallback(async()=>{try{n(!0),l(null);const y=await Sa.getUsers();t(y)}catch(y){l(y instanceof Error?y.message:"Failed to fetch users"),console.error("Error fetching users:",y)}finally{n(!1)}},[]),i=b.useCallback(async y=>{try{n(!0),l(null);const u=await Sa.createUser(y);return t(h=>[...h,u]),u}catch(u){throw l(u instanceof Error?u.message:"Failed to create user"),console.error("Error creating user:",u),u}finally{n(!1)}},[]),c=b.useCallback(async(y,u)=>{try{n(!0),l(null);const h=await Sa.updateUser(y,u);return t(v=>v.map(f=>f.id===y?h:f)),h}catch(h){throw l(h instanceof Error?h.message:"Failed to update user"),console.error("Error updating user:",h),h}finally{n(!1)}},[]),d=b.useCallback(async y=>{try{n(!0),l(null),await Sa.deleteUser(y),t(u=>u.filter(h=>h.id!==y))}catch(u){throw l(u instanceof Error?u.message:"Failed to delete user"),console.error("Error deleting user:",u),u}finally{n(!1)}},[]),g=b.useCallback(async(y,u)=>{try{n(!0),l(null);const h=await Sa.updateUserActivation(y,!u);return t(v=>v.map(f=>f.id===y?h:f)),h}catch(h){throw l(h instanceof Error?h.message:"Failed to update user status"),console.error("Error updating user status:",h),h}finally{n(!1)}},[]),m=b.useCallback(y=>e.find(u=>u.id===y),[e]),x=b.useCallback(y=>e.filter(u=>u.role===y),[e]),j=b.useCallback(()=>e.filter(y=>y.active).length,[e]),p=b.useCallback(()=>e.length,[e]),E=b.useCallback(()=>{l(null)},[]);return b.useEffect(()=>{o()},[o]),{users:e,loading:r,error:s,fetchUsers:o,createUser:i,updateUser:c,deleteUser:d,toggleUserStatus:g,getUserById:m,getUsersByRole:x,getActiveUsersCount:j,getTotalUsersCount:p,clearError:E}},ly=(e=!0,t=20)=>{const[r,n]=b.useState(null),[s,l]=b.useState(null),[o,i]=b.useState(!1),[c,d]=b.useState(null),g=async()=>{try{d(null);const j=await ke.getAnalytics();n(j)}catch(j){console.error("Error fetching analytics:",j),d(j instanceof Error?j.message:"Failed to fetch analytics")}},m=async()=>{try{d(null);const j=await ke.getRecentActivity(t);l(j)}catch(j){console.error("Error fetching activity:",j),d(j instanceof Error?j.message:"Failed to fetch activity")}},x=async()=>{i(!0),d(null);try{const[j,p]=await Promise.all([ke.getAnalytics(),ke.getRecentActivity(t)]);n(j),l(p)}catch(j){console.error("Error refreshing dashboard:",j),d(j instanceof Error?j.message:"Failed to refresh dashboard")}finally{i(!1)}};return b.useEffect(()=>{e&&x()},[e,t]),{analytics:r,activity:s,loading:o,error:c,refreshDashboard:x,refreshAnalytics:g,refreshActivity:m}},oy=({analytics:e})=>{if(!e)return null;const{recording_activity_7_days:t,hourly_activity_today:r,schedule_type_distribution:n,camera_status_distribution:s}=e,l=({data:i,title:c})=>{const d=Math.max(...i.map(g=>g.value));return a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:c}),a.jsx("div",{className:"space-y-3",children:i.map((g,m)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-20 text-sm text-gray-600 dark:text-gray-400 truncate",children:g.label}),a.jsx("div",{className:"flex-1 mx-3",children:a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${d>0?g.value/d*100:0}%`}})})}),a.jsx("div",{className:"w-8 text-sm font-medium text-gray-900 dark:text-white text-right",children:g.value})]},m))})]})},o=({data:i,title:c})=>{const d=i.reduce((m,x)=>m+x.value,0),g=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-indigo-500"];return a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:c}),a.jsx("div",{className:"space-y-3",children:i.map((m,x)=>{const j=d>0?Math.round(m.value/d*100):0;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${g[x%g.length]} mr-3`}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:m.label}),a.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[m.value," (",j,"%)"]})]})})]},x)})})]})};return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[a.jsx(l,{title:"Recording Activity (Last 7 Days)",data:t.map(i=>({label:i.day.slice(0,3),value:i.recordings}))}),a.jsx(o,{title:"Camera Status Distribution",data:s.map(i=>({label:i.status,value:i.count}))}),a.jsx(o,{title:"Schedule Types",data:n.map(i=>({label:i.schedule_type,value:i.count}))}),a.jsx(l,{title:"Hourly Recording Activity (Today)",data:r.filter((i,c)=>c%2===0).map(i=>({label:i.hour,value:i.recordings}))})]})},bd=()=>{var v;const{cameras:e,loading:t}=fr(),{users:r,loading:n}=$i(),{analytics:s,activity:l,loading:o,error:i,refreshDashboard:c}=ly(),d=Array.isArray(e)?e:[],g=Array.isArray(r)?r:[],m=d.filter(f=>f.status==="online").length,x=g.filter(f=>f.active).length,j=d.filter(f=>f.auto_record).length,p=s==null?void 0:s.system_metrics,E=[{title:"Total Cameras",value:(p==null?void 0:p.total_cameras)||d.length,icon:Wt,color:"blue",change:"+2 this month",trend:"up"},{title:"Online Cameras",value:(p==null?void 0:p.online_cameras)||m,icon:It,color:"green",change:p!=null&&p.uptime_percentage?`${p.uptime_percentage}% uptime`:d.length>0?`${Math.round(m/d.length*100)}% uptime`:"0% uptime",trend:"stable"},{title:"Active Users",value:x,icon:Fi,color:"purple",change:"+1 this week",trend:"up"},{title:"Total Recordings",value:(p==null?void 0:p.total_recordings)||j,icon:ur,color:"orange",change:p!=null&&p.active_schedules?`${p.active_schedules} active schedules`:d.length>0?`${Math.round(j/d.length*100)}% active`:"0% active",trend:"stable"}],y=((v=l==null?void 0:l.activities)==null?void 0:v.slice(0,4).map(f=>{const w=new Date(f.timestamp).toLocaleString();let S="info";return f.type==="recording"&&f.status==="active"||f.type==="camera"&&f.status==="active"?S="success":f.type==="camera"&&f.status==="error"?S="error":f.type==="schedule"&&f.status==="active"?S="success":f.type==="schedule"&&f.status==="inactive"&&(S="warning"),{id:f.id,type:S,message:f.title,time:w,camera:f.camera_name}}))||[{id:"1",type:"info",message:"No recent activity available",time:"N/A",camera:""}],u=f=>{switch(f){case"warning":return a.jsx(pd,{className:"w-4 h-4 text-yellow-500"});case"info":return a.jsx(gd,{className:"w-4 h-4 text-blue-500"});case"success":return a.jsx(It,{className:"w-4 h-4 text-green-500"});case"error":return a.jsx(pd,{className:"w-4 h-4 text-red-500"});default:return a.jsx(gd,{className:"w-4 h-4 text-gray-500"})}},h=f=>{switch(f){case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/10";case"info":return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/10";case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/10";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/10";default:return"border-l-gray-500 bg-gray-50 dark:bg-gray-900/10"}};return t||n||o?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor your security system status and performance"})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading dashboard data..."})})]}):a.jsxs("div",{className:"p-6 space-y-6 max-h-screen overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor your security system status and performance"})]}),a.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",disabled:o,children:o?"Refreshing...":"Refresh"})]}),i&&a.jsxs("div",{className:"mt-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:[a.jsx("p",{className:"font-medium",children:"Dashboard Error"}),a.jsx("p",{className:"text-sm",children:i}),a.jsx("button",{onClick:c,className:"mt-2 text-sm underline hover:no-underline",children:"Try again"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 overflow-x-auto",children:E.map((f,w)=>{const S=f.icon;return a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:f.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-2",children:f.value}),a.jsxs("div",{className:"flex items-center mt-2",children:[a.jsx("span",{className:`text-sm text-${f.color}-600 dark:text-${f.color}-400`,children:f.change}),f.trend==="up"&&a.jsx(Hx,{className:"w-4 h-4 ml-2 text-green-500"})]})]}),a.jsx("div",{className:`p-3 bg-${f.color}-100 dark:bg-${f.color}-900/20 rounded-full`,children:a.jsx(S,{className:`w-6 h-6 text-${f.color}-600 dark:text-${f.color}-400`})})]})},w)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 overflow-x-auto",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Camera Status"}),a.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:d.map(f=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${f.status==="online"?"bg-green-500":f.status==="offline"?"bg-red-500":"bg-yellow-500"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.location})]})]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize ${f.status==="online"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":f.status==="offline"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300"}`,children:f.status})]},f.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Alerts"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:y.map(f=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${h(f.type)}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[u(f.type),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:f.message}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:f.time})]})]})},f.id))})]})]}),s&&a.jsx(oy,{analytics:s})]})},iy=({camera:e,onClose:t})=>{const{createCamera:r,updateCamera:n}=fr(),{showSuccess:s,showError:l}=xn(),[o,i]=b.useState({name:"",description:"",ip_address:"",port:void 0,username:"",password:"",rtsp_url:"",rtsp_url_sub:"",rtsp_path:"",camera_type:"rtsp",location:"",auto_record:!1,record_quality:"medium",max_recording_hours:24,is_public:!1,start_recording:!1}),[c,d]=b.useState(!1),[g,m]=b.useState(null),[x,j]=b.useState(!1),[p,E]=b.useState(!1);b.useEffect(()=>{if(e&&e.id&&e.id!==g){console.log("Editing camera data:",e),console.log("Camera fields available:",Object.keys(e));const h={name:e.name||"",description:e.description||"",ip_address:e.ip_address||"",port:e.port,username:e.username||"",password:e.password||"",rtsp_url:e.rtsp_url||"",rtsp_url_sub:e.rtsp_url_sub||"",rtsp_path:e.rtsp_path||"",camera_type:e.camera_type||"rtsp",location:e.location||"",auto_record:e.auto_record||!1,record_quality:e.record_quality||"medium",max_recording_hours:e.max_recording_hours||24,is_public:e.is_public||!1,start_recording:!1};i(h),m(e.id),console.log("Form data set for editing:",h),d(!0)}else e||(console.log("No camera data provided - creating new camera"),i({name:"",description:"",ip_address:"",port:void 0,username:"",password:"",rtsp_url:"",rtsp_url_sub:"",rtsp_path:"",camera_type:"rtsp",location:"",auto_record:!1,record_quality:"medium",max_recording_hours:24,is_public:!1,start_recording:!1}),m(null),d(!0))},[e,g]);const y=async h=>{if(h.preventDefault(),!p){E(!0);try{const v=o.username?`${o.username}${o.password?":"+o.password:""}@`:"",f=o.port||554,w=o.rtsp_path||"/stream1",S=`rtsp://${v}${o.ip_address}:${f}${w}`,k={...o,rtsp_url:S};e?(await n(e.id,k),s("Camera Updated",`Camera "${o.name}" has been updated successfully.`)):(await r(k),s("Camera Created",`Camera "${o.name}" has been created successfully.`)),t()}catch(v){console.error("Error saving camera:",v),l(e?"Update Failed":"Creation Failed",v instanceof Error?v.message:"An unexpected error occurred while saving the camera.")}finally{E(!1)}}},u=h=>{const{name:v,value:f,type:w}=h.target;i(S=>({...S,[v]:w==="checkbox"?h.target.checked:w==="number"?f?parseInt(f):void 0:f}))};return c?(console.log("Current form values being rendered:",{name:o.name,ip_address:o.ip_address,location:o.location,camera_type:o.camera_type}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Edit Camera":"Add New Camera"}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Camera Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Main Entrance"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location *"}),a.jsx("input",{type:"text",name:"location",value:o.location||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Building A - Front Door"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),a.jsx("textarea",{name:"description",value:o.description||"",onChange:u,required:!0,rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Description for this camera"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"IP Address *"}),a.jsx("input",{type:"text",name:"ip_address",value:o.ip_address||"",onChange:u,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"192.168.1.100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Port (Optional)"}),a.jsx("input",{type:"number",name:"port",value:o.port||"",onChange:u,min:"1",max:"65535",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"554 (default)"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Custom RTSP Path (Optional)"}),a.jsx("input",{type:"text",name:"rtsp_path",value:o.rtsp_path||"",onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"/live/0/SUB or /stream1"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Custom path after IP:port (e.g., /live/0/SUB, /stream1, /cam/realmonitor)"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sub Stream RTSP URL (Optional)"}),a.jsx("input",{type:"url",name:"rtsp_url_sub",value:o.rtsp_url_sub||"",onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"rtsp://192.168.1.100/live/0/SUB"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Lower quality stream for bandwidth optimization (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),a.jsx("input",{type:"text",name:"username",value:o.username||"",onChange:u,autoComplete:"username",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Camera username (optional)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:x?"text":"password",name:"password",value:o.password||"",onChange:u,autoComplete:"current-password",className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Camera password (optional)"}),a.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:x?a.jsx(nn,{className:"w-4 h-4"}):a.jsx(ur,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Camera Type"}),a.jsxs("select",{name:"camera_type",value:o.camera_type||"rtsp",onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"rtsp",children:"RTSP Camera"}),a.jsx("option",{value:"ip",children:"IP Camera"}),a.jsx("option",{value:"webcam",children:"Webcam"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recording Quality"}),a.jsxs("select",{name:"record_quality",value:o.record_quality||"medium",onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"high",children:"High Quality"}),a.jsx("option",{value:"medium",children:"Medium Quality"}),a.jsx("option",{value:"low",children:"Low Quality"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Max Recording Hours"}),a.jsx("input",{type:"number",name:"max_recording_hours",value:o.max_recording_hours||24,onChange:u,min:"1",max:"8760",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"24 (default)"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maximum hours to keep recordings (1-8760)"})]}),a.jsxs("div",{className:"md:col-span-2 space-y-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"is_public",checked:o.is_public||!1,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Make camera publicly accessible to basic users"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"auto_record",checked:o.auto_record||!1,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enable automatic recording"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"is_online",checked:o.is_online||!1,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Mark camera as online/active"})]}),!e&&a.jsx(a.Fragment,{children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"start_recording",checked:o.start_recording||!1,onChange:u,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Start test recording after creating camera"})]})})]})]}),a.jsx("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"button",onClick:t,disabled:p,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:e?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsx("span",{children:e?"Update Camera":"Add Camera"})]})})]})})]})})]})):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Edit Camera":"Add New Camera"}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading camera data..."})})]})},cy=()=>{const{cameras:e,getCamera:t,deleteCamera:r,createCamera:n,getCameraStreamInfo:s,refreshAll:l,loading:o,error:i,clearError:c}=fr(),d=Array.isArray(e)?e:[],[g,m]=b.useState(!1),[x,j]=b.useState(null),[p,E]=b.useState(""),[y,u]=b.useState("all"),[h,v]=b.useState("all"),[f,w]=b.useState(!1),[S,k]=b.useState(null),[N,C]=b.useState({type:null,message:""}),[M,Z]=b.useState({}),[le,oe]=b.useState(!1),I=b.useRef(null),z=b.useCallback((D,de)=>{Z(re=>({...re,[D]:de}))},[]),pe=async D=>{console.log("Editing camera from list:",D),oe(!0);try{console.log("Fetching complete camera details for ID:",D.id);const de=await t(D.id);console.log("Fetched complete camera details:",de),j(de),m(!0)}catch(de){console.error("Error fetching camera details:",de),j(D),m(!0)}finally{oe(!1)}},Te=b.useCallback(async(D,de)=>{if(confirm(`Are you sure you want to delete "${de}"? This action cannot be undone.`)){const re=`delete-${D}`;try{z(re,!0),await r(D)}catch(ne){console.error("Error deleting camera:",ne)}finally{z(re,!1)}}},[r,z]),$=b.useCallback(async(D,de)=>{const re=`setonline-${D}`;try{z(re,!0);const ne=await J.setCameraOnline(D);ne.success?alert(`Camera "${de}" is now online${ne.stream_auto_started?" and streaming":""}.`):alert(ne.message||"Failed to set camera online")}catch(ne){console.error("Error setting camera online:",ne),alert("Error setting camera online")}finally{z(re,!1)}},[z]),q=async D=>{const de=`info-${D}`;try{z(de,!0);const re=await s(D);console.log("Stream info:",re),alert(`Stream Info:
Status: ${re.camera_status}
Online: ${re.is_online?"Yes":"No"}
Streaming: ${re.is_streaming?"Yes":"No"}
Qualities: ${re.supported_qualities.join(", ")}`)}catch(re){console.error("Error getting stream info:",re),alert("Error getting stream info")}finally{z(de,!1)}},T=()=>{m(!1),j(null)},G=b.useCallback(async()=>{try{await l()}catch(D){console.error("Error refreshing cameras:",D)}},[l]),ee=()=>{const de=[["Name","Location","IP Address","Port","Username","RTSP Path","Sub Stream URL","Status","Recording Enabled","Created At"].join(","),...d.map(We=>[We.name,We.location||"Unknown",We.ip_address,We.port||554,We.username||"admin",We.rtsp_path||"/stream1",We.rtsp_url_sub||"",We.status,We.auto_record?"Yes":"No",We.created_at||new Date().toISOString()].join(","))].join(`
`),re=new Blob([de],{type:"text/csv;charset=utf-8;"}),ne=document.createElement("a"),Ir=URL.createObjectURL(re);ne.setAttribute("href",Ir),ne.setAttribute("download",`cameras_export_${new Date().toISOString().split("T")[0]}.csv`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)},ie=D=>{var re;const de=(re=D.target.files)==null?void 0:re[0];de&&de.type==="text/csv"?(k(de),C({type:null,message:""})):C({type:"error",message:"Please select a valid CSV file."})},R=async()=>{if(S)try{const de=(await S.text()).split(`
`).filter(ue=>ue.trim()),re=de[0].split(",").map(ue=>ue.trim()),Ir=["Name","Location","IP Address","Port","Username","Status","Recording Enabled"].filter(ue=>!re.includes(ue));if(Ir.length>0){C({type:"error",message:`Missing required columns: ${Ir.join(", ")}`});return}const We=de.slice(1).map((ue,pr)=>{var A;const Ct=ue.split(",").map(P=>P.trim());return{name:Ct[re.indexOf("Name")]||`Camera ${pr+1}`,location:Ct[re.indexOf("Location")]||"Unknown",ipAddress:Ct[re.indexOf("IP Address")]||"192.168.1.100",port:parseInt(Ct[re.indexOf("Port")])||554,username:Ct[re.indexOf("Username")]||"admin",password:"password123",rtspPath:Ct[re.indexOf("RTSP Path")]||"/stream1",status:Ct[re.indexOf("Status")]||"online",recordingEnabled:((A=Ct[re.indexOf("Recording Enabled")])==null?void 0:A.toLowerCase())==="yes",lastSeen:new Date().toISOString()}});for(const ue of We)try{const pr=ue.username?`${ue.username}${ue.password?":"+ue.password:""}@`:"";await n({name:ue.name,location:ue.location,ip_address:ue.ipAddress,port:ue.port,username:ue.username,password:ue.password,rtsp_url:`rtsp://${pr}${ue.ipAddress}:${ue.port}${ue.rtspPath}`,auto_record:ue.recordingEnabled,record_quality:"medium",test_connection:!1})}catch(pr){console.error("Error adding camera:",pr)}C({type:"success",message:`Successfully imported ${We.length} cameras!`}),setTimeout(()=>{w(!1),k(null),C({type:null,message:""})},2e3)}catch{C({type:"error",message:"Error reading CSV file. Please check the file format."})}},K=()=>{w(!1),k(null),C({type:null,message:""}),I.current&&(I.current.value="")},L=D=>{switch(D){case"online":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"offline":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"maintenance":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},Y=d.filter(D=>{const de=D.name.toLowerCase().includes(p.toLowerCase())||(D.location||"").toLowerCase().includes(p.toLowerCase()),re=y==="all"||D.status===y,ne=h==="all"||h==="enabled"&&D.auto_record||h==="disabled"&&!D.auto_record;return de&&re&&ne}),ge={total:d.length,online:d.filter(D=>D.status==="online").length,offline:d.filter(D=>D.status==="offline").length,maintenance:d.filter(D=>D.status==="maintenance").length,recording:d.filter(D=>D.auto_record).length};return o?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cameras"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your IP cameras and monitoring devices"})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading cameras..."})})]}):le?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cameras"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your IP cameras and monitoring devices"})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Loading camera details..."})]})})]}):g?a.jsx(iy,{camera:x,onClose:T}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Cameras"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your IP cameras and monitoring devices"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:G,disabled:o,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{onClick:ee,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(Ss,{className:"w-4 h-4"}),a.jsx("span",{children:"Export CSV"})]}),a.jsxs("button",{onClick:()=>w(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"Import CSV"})]}),a.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(sn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Camera"})]})]})]}),i&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(St,{className:"w-5 h-5 text-red-500"}),a.jsx("span",{className:"text-red-800 dark:text-red-200",children:i})]}),a.jsx("button",{onClick:c,className:"text-red-500 hover:text-red-700 dark:hover:text-red-300",children:a.jsx(He,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ge.total}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:ge.online}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Online"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:ge.offline}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Offline"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:ge.maintenance}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Maintenance"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ge.recording}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recording"})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(gm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search cameras by name or location...",value:p,onChange:D=>E(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("select",{value:y,onChange:D=>u(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"online",children:"Online"}),a.jsx("option",{value:"offline",children:"Offline"}),a.jsx("option",{value:"maintenance",children:"Maintenance"})]}),a.jsxs("select",{value:h,onChange:D=>v(D.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Recording"}),a.jsx("option",{value:"enabled",children:"Recording Enabled"}),a.jsx("option",{value:"disabled",children:"Recording Disabled"})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Camera"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"RTSP Path"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sub Stream"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quality & Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Recording"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Additional Info"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Seen"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:Y.map(D=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:a.jsx(Wt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:D.location||"No location set"}),D.ip_address&&a.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[D.ip_address,D.port?`:${D.port}`:""]})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize ${L(D.status)}`,children:D.status}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:D.is_online?"Online":"Offline"})]})})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:D.rtsp_path?a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:D.rtsp_path}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Custom path"})]}):a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Default (/stream1)"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:D.rtsp_url_sub?a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-mono text-xs bg-blue-100 dark:bg-blue-900/20 px-2 py-1 rounded",children:D.rtsp_url_sub}),a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:"Sub stream"})]}):a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Not configured"})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:[a.jsx("span",{className:"capitalize",children:D.record_quality||"medium"}),D.camera_type&&a.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:D.camera_type.toUpperCase()})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[D.auto_record?a.jsx(hm,{className:"w-4 h-4 text-green-600"}):a.jsx(Zx,{className:"w-4 h-4 text-gray-400"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:D.auto_record?"Enabled":"Disabled"}),D.auto_record&&a.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Auto-recording active"})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Max Hours:"}),a.jsxs("span",{className:"font-mono text-xs bg-blue-100 dark:bg-blue-900/20 px-2 py-1 rounded",children:[D.max_recording_hours||24,"h"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Access:"}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D.is_public?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:D.is_public?"Public":"Private"})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:D.last_seen?a.jsxs("div",{children:[a.jsx("div",{children:new Date(D.last_seen).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(D.last_seen).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Never seen"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>pe(D),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Camera",children:a.jsx(Zs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>q(D.id),disabled:M[`info-${D.id}`],className:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Stream Info",children:M[`info-${D.id}`]?a.jsx("div",{className:"w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}):a.jsx(js,{className:"w-4 h-4"})}),(D.status!=="online"||!D.is_online)&&a.jsx("button",{onClick:()=>$(D.id,D.name),disabled:M[`setonline-${D.id}`],className:"p-2 text-gray-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Set Camera Online",children:M[`setonline-${D.id}`]?a.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}):a.jsx(Do,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Te(D.id,D.name),disabled:M[`delete-${D.id}`],className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Camera",children:M[`delete-${D.id}`]?a.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):a.jsx(ga,{className:"w-4 h-4"})})]})})]},D.id))})]})}),Y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Wt,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No cameras found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Import Cameras from CSV"}),a.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-6 h-6"})})]}),N.type&&a.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center ${N.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300"}`,children:[N.type==="success"?a.jsx(It,{className:"w-5 h-5 mr-2"}):a.jsx(St,{className:"w-5 h-5 mr-2"}),N.message]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Select CSV File"}),a.jsx("input",{ref:I,type:"file",accept:".csv",onChange:ie,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"File must contain columns: Name, Location, IP Address, Port, Username, Resolution, FPS, Status, Recording Enabled"})]}),S&&a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[a.jsx("strong",{children:"Selected file:"})," ",S.name]}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Size: ",(S.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:R,disabled:!S,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Import Cameras"})]})]})]})})]})},dy=(e={})=>{const[t,r]=b.useState(!document.hidden),[n,s]=b.useState(!0);return b.useEffect(()=>{const l=()=>{const c=!document.hidden;r(c),e.onVisibilityChange&&e.onVisibilityChange(c)},o=()=>s(!0),i=()=>s(!1);return document.addEventListener("visibilitychange",l),window.addEventListener("focus",o),window.addEventListener("blur",i),()=>{document.removeEventListener("visibilitychange",l),window.removeEventListener("focus",o),window.removeEventListener("blur",i)}},[e.onVisibilityChange]),{isVisible:t,isPageActive:n,isFullyVisible:t&&n}},uy=e=>{const[t,r]=b.useState(!1),[n,s]=b.useState(0),{isFullyVisible:l}=dy(),i=e.isOnLiveFeedPage&&!t&&(e.autoPauseOnPageHidden?l:!0),c=!i,d=b.useCallback(()=>{const x=!t;r(x),x||s(j=>j+1),console.log(x?" Manually paused streams":" Manually resumed streams")},[t]),g=b.useCallback(()=>{s(x=>x+1),console.log(" Refreshing streams")},[]),m=b.useCallback(()=>{r(!1),s(x=>x+1),console.log(" Force resuming streams")},[]);return{isPaused:c,isManuallyPaused:t,shouldStream:i,streamKey:n,isPageVisible:l,togglePause:d,refreshStreams:g,forceResume:m,pauseReason:c?t?"manually-paused":e.isOnLiveFeedPage?l?"unknown":"page-hidden":"not-on-page":null}},my=({isActivePage:e=!1})=>{const{cameras:t,loading:r}=fr(),[n,s]=b.useState(null),[l,o]=b.useState(null),[i,c]=b.useState("main"),[d,g]=b.useState(null),[m,x]=b.useState(!1),[j,p]=b.useState(0),[E,y]=b.useState(!1),[u,h]=b.useState("single"),[v,f]=b.useState(!1),[w,S]=b.useState(!1),[k,N]=b.useState(!0),C=uy({isOnLiveFeedPage:e,autoPauseOnPageHidden:k,bandwidthSaverMode:w}),M=Array.isArray(t)?t:[],Z=M.filter(L=>L.status==="active"),le=M,oe=b.useCallback(async L=>{if(L)try{g(null),console.log("Loading stream info for camera:",L);const Y=await J.getCameraStreamInfo(L);n===L&&(o(Y),c(Y.supported_qualities[0]||"main"),console.log("Stream info loaded:",Y),p(0))}catch(Y){if(console.error("Error loading stream info:",Y),n===L){g(Y instanceof Error?Y.message:"Failed to load stream info");const ge=M.find(D=>D.id===L);ge&&(ge.status==="offline"||ge.status==="inactive")&&j<2&&!m&&(console.log(`Camera ${ge.name} is offline, attempting auto-recovery...`),I(L))}}},[n,M,j,m]),I=b.useCallback(async L=>{if(!(m||j>=2))try{x(!0),p(ge=>ge+1),console.log(`Attempting to recover camera ${L} (attempt ${j+1}/2)`);const Y=await J.setCameraOnline(L);Y.success&&(console.log("Camera recovery successful:",Y),g(null),setTimeout(()=>{n===L&&(oe(L),C.refreshStreams())},2e3),g(`Camera "${Y.camera_name}" is now online! ${Y.stream_auto_started?"Stream started automatically.":""}`),setTimeout(()=>g(null),5e3))}catch(Y){console.error("Camera recovery failed:",Y);const ge=Y instanceof Error?Y.message:"Recovery failed";g(`Recovery attempt ${j+1} failed: ${ge}`),j>=1&&setTimeout(()=>{g("Camera recovery failed. Please check camera connection and try manual recovery.")},3e3)}finally{x(!1)}},[m,j,n,oe,C]),z=b.useCallback(async()=>{n&&(p(0),await I(n))},[n,I]);b.useEffect(()=>{n||(Z.length>0?s(Z[0].id):le.length>0&&s(le[0].id))},[Z,le,n]),b.useEffect(()=>{n&&e&&oe(n)},[n,e,oe]);const pe=async()=>{if(y(!0),n)try{const L=await J.setCameraOnline(n);L.success?(console.log(`Camera "${L.camera_name}" is now online${L.stream_auto_started?" and streaming":""}.`),g(`Camera "${L.camera_name}" is now online${L.stream_auto_started?" and streaming":""}.`),setTimeout(()=>g(null),5e3)):(console.warn("Set online failed:",L.message),g(L.message||"Failed to set camera online"),setTimeout(()=>g(null),5e3))}catch(L){console.error("Error setting camera online:",L),g("Error setting camera online"),setTimeout(()=>g(null),5e3)}C.refreshStreams(),y(!1)},Te=()=>{const L=!w;S(L),c(L?"sub":"main"),C.refreshStreams(),console.log("Bandwidth saver mode:",L)},$=()=>{N(!k),console.log("Auto-pause on page hidden:",!k)},q=()=>{if(l&&l.supported_qualities.length>1){const Y=(l.supported_qualities.indexOf(i)+1)%l.supported_qualities.length;c(l.supported_qualities[Y]),C.refreshStreams()}},T=(L,Y)=>{const ge=L||n;if(!ge||C.isPaused||!e)return"";try{const D=w?"sub":Y||i;return J.getLiveStreamUrl(ge,D)}catch(D){return console.error("Error generating stream URL:",D),""}},G=()=>{g(null),console.log("Stream loaded successfully")},ee=()=>{if(g("Failed to load stream. Check if server is running and camera is accessible."),console.error("Stream failed to load"),n&&j<2&&!m){const Y=M.find(ge=>ge.id===n);Y&&(Y.status==="offline"||Y.status==="inactive")&&(console.log("Stream error detected for offline camera, attempting auto-recovery..."),I(n))}},ie=()=>{f(!v)},R=L=>{L!==n&&(console.log("Switching camera from",n,"to",L),s(L),g(null),p(0),x(!1))},K=le.find(L=>L.id===n);return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading cameras..."})]})}):Z.length===0?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" Live Feed"})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"No active cameras. You can attempt to bring an offline camera online."})}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:le.map(L=>{var Y;return a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[L.name," ",a.jsxs("span",{className:"text-gray-500",children:[" ",L.location]})]}),a.jsx("p",{className:"text-xs mt-1",children:a.jsx("span",{className:`font-medium ${L.status==="active"?"text-green-600":L.status==="offline"||L.status==="inactive"?"text-red-600":"text-gray-500"}`,children:(Y=L.status)==null?void 0:Y.toString().toUpperCase()})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>R(L.id),className:"px-3 py-1.5 text-sm rounded-lg bg-gray-600 hover:bg-gray-700 text-white",title:"Select camera",children:"Select"}),L.status!=="active"&&a.jsx("button",{onClick:()=>{s(L.id),p(0),I(L.id)},disabled:m,className:"px-3 py-1.5 text-sm rounded-lg bg-orange-600 hover:bg-orange-700 text-white disabled:opacity-50",title:m?"Recovering camera...":"Set camera online",children:m?"Recovering":"Set Online"})]})]},L.id)})})]})]}):u==="grid"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" Live Feed - Grid View"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>h("single"),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Single View",children:a.jsx(ea,{className:"w-4 h-4"})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Z.map(L=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:L.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:L.location})]}),a.jsxs("div",{className:"relative bg-black aspect-video",children:[C.isPaused?a.jsx("div",{className:"w-full h-full flex items-center justify-center text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ln,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Paused"})]})}):a.jsx("img",{src:`${T(L.id,"main")}&t=${Date.now()}`,alt:`Live feed from ${L.name}`,className:"w-full h-full object-cover",onError:Y=>{const ge=Y.target;ge.style.display="none"}},`${L.id}-main-${C.streamKey}`),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100",children:a.jsx("button",{onClick:()=>{R(L.id),h("single")},className:"p-2 bg-white bg-opacity-80 text-gray-800 rounded-lg hover:bg-opacity-100 transition-all",title:"View Full",children:a.jsx(ea,{className:"w-4 h-4"})})})]})]},L.id))})]}):a.jsxs("div",{className:`space-y-6 ${v?"fixed inset-0 z-50 bg-black p-4":""}`,children:[!v&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" Live Feed"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[C.isPageVisible?a.jsx("div",{title:"Page Active",children:a.jsx(Io,{className:"w-5 h-5 text-green-500"})}):a.jsx("div",{title:"Page Hidden",children:a.jsx(vd,{className:"w-5 h-5 text-red-500"})}),C.isPaused?a.jsxs("div",{className:"flex items-center space-x-1 text-orange-600 dark:text-orange-400",children:[a.jsx(Ln,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:C.pauseReason==="manually-paused"?"Paused":C.pauseReason==="not-on-page"?"Not Active":C.pauseReason==="page-hidden"?"Tab Hidden":"Paused"})]}):a.jsxs("div",{className:"flex items-center space-x-1 text-green-600 dark:text-green-400",children:[a.jsx(Ma,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Streaming"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:C.togglePause,className:`p-2 rounded-lg transition-colors ${C.isManuallyPaused?"bg-orange-600 hover:bg-orange-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,title:C.isManuallyPaused?"Resume Streaming":"Pause Streaming",children:C.isManuallyPaused?a.jsx(Ma,{className:"w-4 h-4"}):a.jsx(Ln,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Te,className:`p-2 rounded-lg transition-colors ${w?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,title:`Bandwidth Saver: ${w?"ON":"OFF"}`,children:w?a.jsx(ur,{className:"w-4 h-4"}):a.jsx(nn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:$,className:`p-2 rounded-lg transition-colors ${k?"bg-purple-600 hover:bg-purple-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,title:`Auto-pause when tab hidden: ${k?"ON":"OFF"}`,children:k?a.jsx(Io,{className:"w-4 h-4"}):a.jsx(vd,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>h("grid"),className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Grid View",children:a.jsx(dm,{className:"w-4 h-4"})}),a.jsx("select",{value:n||"",onChange:L=>R(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:le.map(L=>a.jsxs("option",{value:L.id,children:[L.name," - ",L.location,L.status!=="active"?` (${L.status.toUpperCase()})`:""]},L.id))})]})]}),a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden ${v?"h-full":""}`,children:[!v&&a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:(K==null?void 0:K.name)||"Unknown Camera"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[K==null?void 0:K.location,"  Quality: ",i]}),(l==null?void 0:l.active_session)&&a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["Session: ",Math.floor(l.active_session.duration_seconds/60),"m active"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:pe,disabled:E,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh Stream",children:a.jsx(Pe,{className:`w-4 h-4 ${E?"animate-spin":""}`})}),l&&l.supported_qualities.length>1&&a.jsx("button",{onClick:q,className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Toggle Quality",children:a.jsx(js,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>oe(n),className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Stream Info",children:a.jsx(Mi,{className:"w-4 h-4"})}),K&&(K.status==="offline"||K.status==="inactive")&&a.jsx("button",{onClick:z,disabled:m,className:"p-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",title:m?`Recovering camera... (${j}/2)`:"Recover offline camera",children:a.jsx(Do,{className:`w-4 h-4 ${m?"animate-spin":""}`})}),a.jsx("button",{onClick:ie,className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Fullscreen",children:a.jsx(ea,{className:"w-4 h-4"})})]})]})}),a.jsxs("div",{className:`relative bg-black flex items-center justify-center ${v?"h-full":"aspect-video"}`,children:[v&&a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center space-x-2",children:[a.jsxs("span",{className:"text-white text-sm bg-black bg-opacity-50 px-3 py-1 rounded",children:[K==null?void 0:K.name,"  ",i]}),a.jsx("button",{onClick:pe,disabled:E,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh",children:a.jsx(Pe,{className:`w-4 h-4 ${E?"animate-spin":""}`})}),a.jsx("button",{onClick:q,className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Quality",children:a.jsx(js,{className:"w-4 h-4"})}),a.jsx("button",{onClick:ie,className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Exit Fullscreen",children:""})]}),d?a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Wt,{className:"w-16 h-16 mx-auto text-red-400"})}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:d.includes("now online")?"Camera Recovered!":"Stream Error"}),a.jsx("p",{className:"text-sm text-gray-300 max-w-md mx-auto mt-2",children:d}),a.jsxs("div",{className:"flex items-center justify-center space-x-3 mt-4",children:[a.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:m||E,children:[a.jsx(Pe,{className:`w-4 h-4 ${m||E?"animate-spin":""}`}),a.jsx("span",{children:"Retry"})]}),K&&(K.status==="offline"||K.status==="inactive")&&!d.includes("now online")&&a.jsxs("button",{onClick:z,disabled:m,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[a.jsx(Do,{className:`w-4 h-4 ${m?"animate-spin":""}`}),a.jsx("span",{children:m?"Recovering...":"Recover Camera"})]})]}),m&&a.jsxs("p",{className:"text-xs text-yellow-400 mt-2",children:["Attempting to bring camera online... (Attempt ",j,"/2)"]}),j>0&&!m&&!d.includes("now online")&&a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Recovery attempts: ",j,"/2"]})]}):n?C.isPaused?a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Ln,{className:"w-16 h-16 mx-auto text-blue-400"})}),a.jsx("p",{className:"text-lg font-medium text-blue-400",children:"Stream Paused"}),a.jsx("p",{className:"text-sm text-gray-300 max-w-md mx-auto mt-2",children:C.pauseReason==="manually-paused"?"Click play to resume streaming":C.pauseReason==="not-on-page"?"Navigate to LiveFeed page to start streaming":C.pauseReason==="page-hidden"?"Switch back to this tab to resume streaming":"Streaming paused to save bandwidth"}),C.pauseReason==="manually-paused"&&a.jsxs("button",{onClick:C.togglePause,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 mx-auto",children:[a.jsx(Ma,{className:"w-4 h-4"}),a.jsx("span",{children:"Resume"})]})]}):a.jsx("img",{src:`${T()}&t=${Date.now()}`,alt:`Live feed from ${K==null?void 0:K.name}`,className:"w-full h-full object-cover",onLoad:G,onError:ee,style:{display:d?"none":"block"}},`${n}-${i}-${C.streamKey}`):a.jsxs("div",{className:"text-center text-white",children:[a.jsx(Wt,{className:"w-16 h-16 mx-auto text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"Select a Camera"})]})]}),!v&&l&&a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:l.camera_status})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Online:"}),a.jsx("p",{className:`font-medium ${l.is_online?"text-green-600":"text-red-600"}`,children:l.is_online?"Yes":"No"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Streaming:"}),a.jsx("p",{className:`font-medium ${l.is_streaming?"text-green-600":"text-red-600"}`,children:l.is_streaming?"Active":"Inactive"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Qualities:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:l.supported_qualities.join(", ")})]})]})})]}),!v&&!1]})},gy=()=>{const{cameras:e,loading:t}=fr(),[r,n]=b.useState(null),[s,l]=b.useState(null),[o,i]=b.useState(!1),[c,d]=b.useState("single"),[g,m]=b.useState(!1),[x,j]=b.useState("80"),[p,E]=b.useState("/video"),[y,u]=b.useState(""),[h,v]=b.useState(!1),f=Array.isArray(e)?e:[],w=f.filter(z=>z.status==="active"),S=f,k=z=>{if(h&&y.trim())return`${y.trim()}?t=${Date.now()}`;const pe=z||r;if(!pe)return"";const Te=f.find(G=>G.id===pe);return Te?`${`${x==="443"?"https":"http"}://${Te.ip_address}:${x}`}${p||"/video"}?t=${Date.now()}`:""},N=async z=>{if(h&&y.trim())try{return await fetch(y.trim(),{method:"HEAD",mode:"no-cors",cache:"no-cache"}),!0}catch($){return console.log("Custom URL connection test failed:",$),!1}const pe=z||r;if(!pe)return!1;const Te=f.find($=>$.id===pe);if(!Te)return!1;try{const q=`${x==="443"?"https":"http"}://${Te.ip_address}:${x}/`;return await fetch(q,{method:"HEAD",mode:"no-cors",cache:"no-cache"}),!0}catch($){return console.log("HTTP connection test failed:",$),!1}};b.useEffect(()=>{!r&&S.length>0&&n(S[0].id)},[S,r]);const C=async()=>{if(i(!0),l(null),h&&y.trim())try{await N()||l("Custom URL connection failed. Please check the URL and try again.")}catch(z){console.error("Error testing custom URL connection:",z),l("Failed to test custom URL connection.")}else if(r)try{await N(r)||l("HTTP connection failed. Camera may not support HTTP streaming or may be offline.")}catch(z){console.error("Error testing HTTP connection:",z),l("Failed to test HTTP connection.")}i(!1)},M=z=>{z!==r&&(console.log("Switching camera from",r,"to",z),n(z),l(null))},Z=()=>{l(null),console.log("HTTP stream loaded successfully")},le=()=>{l("Failed to load HTTP stream. Camera may not support HTTP streaming or may be offline."),console.error("HTTP stream failed to load")},oe=()=>{m(!g)},I=S.find(z=>z.id===r);return t?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading cameras..."})]})}):w.length===0?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" HTTP Live Feed"})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"No active cameras available for HTTP streaming. HTTP streaming requires cameras that support direct HTTP/MJPEG streaming."})}),a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:S.map(z=>{var pe;return a.jsxs("div",{className:"py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[z.name," ",a.jsxs("span",{className:"text-gray-500",children:[" ",z.location]})]}),a.jsxs("p",{className:"text-xs mt-1",children:[a.jsx("span",{className:`font-medium ${z.status==="active"?"text-green-600":z.status==="offline"||z.status==="inactive"?"text-red-600":"text-gray-500"}`,children:(pe=z.status)==null?void 0:pe.toString().toUpperCase()}),a.jsxs("span",{className:"text-gray-500 ml-2",children:[" ",z.ip_address]})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>M(z.id),className:"px-3 py-1.5 text-sm rounded-lg bg-blue-600 hover:bg-blue-700 text-white",title:"Select camera for HTTP streaming",children:"Try HTTP"})})]},z.id)})})]})]}):c==="grid"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" HTTP Live Feed - Grid View"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>d("single"),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Single View",children:a.jsx(ea,{className:"w-4 h-4"})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(z=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[a.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:z.name}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:z.location}),a.jsxs("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:["HTTP: ",z.ip_address,":",x]})]}),a.jsxs("div",{className:"relative bg-black aspect-video",children:[a.jsx("img",{src:k(z.id),alt:`HTTP feed from ${z.name}`,className:"w-full h-full object-cover",onLoad:()=>console.log(`HTTP stream loaded for ${z.name}`),onError:()=>console.log(`HTTP stream failed for ${z.name}`)},`${z.id}-http-${x}-${p}`),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center opacity-0 hover:opacity-100",children:a.jsx("button",{onClick:()=>{M(z.id),d("single")},className:"p-2 bg-white bg-opacity-80 text-gray-800 rounded-lg hover:bg-opacity-100 transition-all",title:"View Full",children:a.jsx(ea,{className:"w-4 h-4"})})})]})]},z.id))})]}):a.jsxs("div",{className:`space-y-6 ${g?"fixed inset-0 z-50 bg-black p-4":""}`,children:[!g&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" HTTP Live Feed"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cm,{className:"w-5 h-5 text-blue-500"}),a.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:"HTTP Streaming"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:z=>v(z.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Custom URL"})]}),h?a.jsx("input",{type:"url",value:y,onChange:z=>u(z.target.value),placeholder:"http://192.168.1.9/index.html#preview.html",className:"px-3 py-2 border border-gray-300 rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white text-sm min-w-80",title:"Custom Camera URL"}):a.jsxs(a.Fragment,{children:[a.jsxs("select",{value:x,onChange:z=>j(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white text-sm",title:"HTTP Port",children:[a.jsx("option",{value:"80",children:"Port 80 (HTTP)"}),a.jsx("option",{value:"443",children:"Port 443 (HTTPS)"})]}),a.jsxs("select",{value:p,onChange:z=>E(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white text-sm",title:"Stream Path",children:[a.jsx("option",{value:"/video",children:"/video"}),a.jsx("option",{value:"/mjpeg",children:"/mjpeg"}),a.jsx("option",{value:"/stream",children:"/stream"}),a.jsx("option",{value:"/live",children:"/live"}),a.jsx("option",{value:"/cam",children:"/cam"}),a.jsx("option",{value:"/snapshot",children:"/snapshot"})]})]}),a.jsx("button",{onClick:()=>d("grid"),className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Grid View",children:a.jsx(dm,{className:"w-4 h-4"})}),a.jsx("select",{value:r||"",onChange:z=>M(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:S.map(z=>a.jsxs("option",{value:z.id,children:[z.name," - ",z.location,z.status!=="active"?` (${z.status.toUpperCase()})`:""]},z.id))})]})]}),a.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden ${g?"h-full":""}`,children:[!g&&a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:h?"Custom URL Stream":(I==null?void 0:I.name)||"Unknown Camera"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h?y:`${I==null?void 0:I.location}  HTTP: ${I==null?void 0:I.ip_address}:${x}${p}`}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:h?"Custom URL streaming":"Direct HTTP streaming (no RTSP server required)"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:C,disabled:o,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Test HTTP Connection",children:a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),a.jsx("button",{onClick:oe,className:"p-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",title:"Fullscreen",children:a.jsx(ea,{className:"w-4 h-4"})})]})]})}),a.jsxs("div",{className:`relative bg-black flex items-center justify-center ${g?"h-full":"aspect-video"}`,children:[g&&a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex items-center space-x-2",children:[a.jsx("span",{className:"text-white text-sm bg-black bg-opacity-50 px-3 py-1 rounded",children:h?"Custom URL":`${I==null?void 0:I.name}  HTTP:${x}`}),a.jsx("button",{onClick:C,disabled:o,className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh",children:a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),a.jsx("button",{onClick:oe,className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Exit Fullscreen",children:""})]}),s?a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"mb-4",children:a.jsx(Wt,{className:"w-16 h-16 mx-auto text-red-400"})}),a.jsx("p",{className:"text-lg font-medium text-red-400",children:"HTTP Stream Error"}),a.jsx("p",{className:"text-sm text-gray-300 max-w-md mx-auto mt-2",children:s}),a.jsx("div",{className:"flex items-center justify-center space-x-3 mt-4",children:a.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",disabled:o,children:[a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`}),a.jsx("span",{children:"Retry"})]})}),a.jsx("div",{className:"mt-4 text-xs text-gray-400 max-w-md mx-auto",children:h?a.jsxs("div",{children:[a.jsx("p",{children:"Custom URL troubleshooting:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1",children:[a.jsx("li",{children:"Check if the URL is accessible"}),a.jsx("li",{children:"Verify the camera supports HTTP streaming"}),a.jsx("li",{children:"Try accessing the URL directly in a browser"}),a.jsx("li",{children:"Check network connectivity"})]})]}):a.jsxs("div",{children:[a.jsx("p",{children:"Common HTTP stream paths:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1",children:[a.jsx("li",{children:"/video - Generic video stream"}),a.jsx("li",{children:"/mjpeg - MJPEG stream"}),a.jsx("li",{children:"/stream - Common stream path"}),a.jsx("li",{children:"/live - Live stream"}),a.jsx("li",{children:"/cam - Camera stream"})]})]})})]}):!h&&!r?a.jsxs("div",{className:"text-center text-white",children:[a.jsx(Wt,{className:"w-16 h-16 mx-auto text-gray-400"}),a.jsx("p",{className:"text-lg font-medium",children:"Select a Camera or Enter Custom URL"})]}):a.jsx("img",{src:k(),alt:h?"Custom URL feed":`HTTP feed from ${I==null?void 0:I.name}`,className:"w-full h-full object-cover",onLoad:Z,onError:le,style:{display:s?"none":"block"}},h?`custom-${y}`:`${r}-http-${x}-${p}`)]}),!g&&(h?y.trim():I)&&a.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 border-t border-gray-200 dark:border-gray-600",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:h?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Custom URL:"}),a.jsx("p",{className:"text-gray-900 dark:text-white break-all",children:y})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Type:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:"Custom URL"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Status:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:"Direct Connection"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Camera:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:I==null?void 0:I.name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"IP Address:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:I==null?void 0:I.ip_address})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"HTTP Port:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:x})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-400",children:"Stream Path:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:p})]})]})})})]})]})},pm=()=>{let e;try{e=Qs()}catch{return{hasRole:()=>!1,hasAnyRole:()=>!1,hasAllRoles:()=>!1,canCreateRole:()=>!1,canManageRole:()=>!1,canDeleteRole:()=>!1,hasRoleLevel:()=>!1,getCreatableRoles:()=>[],getManageableRoles:()=>[],getHigherRoles:()=>[],getLowerRoles:()=>[],getEqualOrLowerRoles:()=>[],getAllRoles:()=>Object.values(U),isAdmin:!1,isDev:!1,isSuperAdmin:!1,userRole:null,roleHierarchy:U}}const{userRole:t}=e,r=k=>t===k,n=k=>k.includes(t),s=k=>k.every(N=>t===N),l=k=>t?je.canCreateRole(t,k):!1,o=k=>t?je.canManageRole(t,k):!1,i=k=>t?je.hasRoleLevel(t,k):!1,c=k=>t?je.canAccessFeature(t,k):!1,d=()=>t?je.getCreatableRoles(t):[],g=()=>t?je.getManageableRoles(t):[],m=()=>t?je.getAccessibleFeatures(t):[],x=k=>{const N=k||t;return N?{displayName:je.getRoleDisplayName(N),description:je.getRoleDescription(N),icon:je.getRoleIcon(N),color:je.getRoleColor(N)}:{displayName:"Unknown",description:"No role assigned",icon:"",color:"#6B7280"}},j=k=>t?je.validateUserCreation(k,t):{isValid:!1,errors:["User not authenticated"]},p=()=>je.getRoleHierarchyTree(),E=(k,N)=>t?je.canPerformAction(k,t,N):!1,y=r(U.VISITOR),u=r(U.DEV),h=r(U.ADMIN),v=r(U.SUPERADMIN),f=i(U.DEV),w=i(U.ADMIN);return{userRole:t,isVisitor:y,isDev:u,isAdmin:h,isSuperAdmin:v,hasElevatedPermissions:f,hasAdminPermissions:w,hasSuperAdminPermissions:v,hasRole:r,hasAnyRole:n,hasAllRoles:s,hasRoleLevel:i,canCreateRole:l,canManageRole:o,canAccessFeature:c,canPerformAction:E,getCreatableRoles:d,getManageableRoles:g,getAccessibleFeatures:m,getRoleInfo:x,validateUserCreation:j,getRoleHierarchyTree:p,USER_ROLES:U}},hy=({children:e,requiredRole:t,requiredRoles:r,requiredFeature:n,action:s,targetRole:l,fallback:o=null,showFallback:i=!0,className:c=""})=>{const{hasRoleLevel:d,hasAnyRole:g,canAccessFeature:m,canPerformAction:x}=pm();return!(t&&!d(t)||r&&r.length>0&&!g(r)||n&&!m(n)||s&&l&&!x(s,l))?a.jsx(a.Fragment,{children:e}):i?a.jsx("div",{className:`permission-guard-fallback ${c}`,children:o}):null},fy=({user:e,onClose:t})=>{const{createUser:r,updateUser:n}=$i(),{cameras:s}=fr(),{showSuccess:l,showError:o}=xn(),[i,c]=b.useState({username:"",email:"",password:"",password_confirm:"",role:U.VISITOR,active:!0}),[d,g]=b.useState([]),[m,x]=b.useState(!1),[j,p]=b.useState(!1),[E,y]=b.useState(!1);b.useEffect(()=>{if(e)c({username:e.username,email:e.email,password:"",password_confirm:"",role:e.role||U.VISITOR,active:e.active||e.is_active||!1}),g(e.permissions||[]);else{const w=Array.isArray(s)?s:[];g(w.map(S=>({cameraId:S.id,canView:!1,canControl:!1,canRecord:!1})))}},[e,s]);const u=async w=>{if(w.preventDefault(),!E){if(!e&&i.password!==i.password_confirm){o("Validation Error","Passwords do not match");return}y(!0);try{if(e){const S={username:i.username,role:i.role,active:i.active};i.role!=="admin"&&i.role!=="superadmin"&&(S.permissions=d),await n(e.id,S),l("User Updated",`User "${i.username}" has been updated successfully.`)}else{const S={username:i.username,email:i.email,password:i.password,password_confirm:i.password_confirm,role:i.role,permissions:i.role===U.ADMIN||i.role===U.SUPERADMIN?[]:d};await r(S),l("User Created",`User "${i.username}" has been created successfully.`)}t()}catch(S){console.error("Error saving user:",S),o(e?"Update Failed":"Creation Failed",S instanceof Error?S.message:"An unexpected error occurred while saving the user.")}finally{y(!1)}}},h=w=>{const{name:S,value:k,type:N}=w.target;c(C=>({...C,[S]:N==="checkbox"?w.target.checked:k}))},v=(w,S,k)=>{g(N=>N.map(C=>C.cameraId===w?{...C,[S]:k}:C))},f=w=>{var k;return((k=(Array.isArray(s)?s:[]).find(N=>N.id===w))==null?void 0:k.name)||"Unknown Camera"};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e?"Edit User":"Add New User"}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username *"}),a.jsx("input",{type:"text",name:"username",value:i.username,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:h,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter email address"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password ",!e&&"*"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:m?"text":"password",name:"password",value:i.password,onChange:h,required:!e,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:e?"Leave blank to keep current password":"Enter password"}),a.jsx("button",{type:"button",onClick:()=>x(!m),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m?a.jsx(nn,{className:"w-4 h-4"}):a.jsx(ur,{className:"w-4 h-4"})})]}),e&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Leave blank to keep current password."})]}),!e&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:j?"text":"password",name:"password_confirm",value:i.password_confirm,onChange:h,required:!0,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm password"}),a.jsx("button",{type:"button",onClick:()=>p(!j),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:j?a.jsx(nn,{className:"w-4 h-4"}):a.jsx(ur,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role *"}),a.jsxs("select",{name:"role",value:i.role,onChange:h,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:U.VISITOR,children:"Visitor"}),a.jsx("option",{value:U.DEV,children:"Developer"}),a.jsx("option",{value:U.ADMIN,children:"Administrator"}),a.jsx("option",{value:U.SUPERADMIN,children:"Super Administrator"})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Administrators and Super Administrators have access to all cameras and settings"})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2 mt-8",children:[a.jsx("input",{type:"checkbox",name:"active",checked:i.active,onChange:h,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"User is active"})]})})]}),i.role!==U.ADMIN&&i.role!==U.SUPERADMIN&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Ys,{className:"w-5 h-5 mr-2"}),"Camera Permissions"]}),a.jsx("div",{className:"space-y-4",children:d.map(w=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:f(w.cameraId)}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:w.canView,onChange:S=>v(w.cameraId,"canView",S.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"View"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:w.canControl,onChange:S=>v(w.cameraId,"canControl",S.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Control"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:w.canRecord,onChange:S=>v(w.cameraId,"canRecord",S.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Record"})]})]})]},w.cameraId))})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,disabled:E,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:e?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsx("span",{children:e?"Update User":"Create User"})]})})]})]})})]})},py=()=>{const{users:e,deleteUser:t,updateUser:r,fetchUsers:n,loading:s}=$i(),{userRole:l,canManageRole:o,getRoleInfo:i}=pm(),[c,d]=b.useState(!1),[g,m]=b.useState(null),x=Array.isArray(e)?e:[],j=x.filter(f=>!l||!f.role?!1:o(f.role)),p=f=>{if(!l||!f.role||!o(f.role)){alert("You do not have permission to edit this user.");return}m(f),d(!0)},E=(f,w)=>{if(!l||!w||!o(w)){alert("You do not have permission to delete this user.");return}confirm("Are you sure you want to delete this user?")&&t(f)},y=(f,w,S)=>{if(!l||!S||!o(S)){alert("You do not have permission to modify this user.");return}r(f,{active:!w})},u=()=>{d(!1),m(null)},h=async()=>{try{await n()}catch(f){console.error("Error refreshing users:",f)}},v=f=>{const w=i?i(f):{icon:""};return a.jsx("span",{className:"text-lg",children:w.icon})};return s?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading users..."})})}):c?a.jsx(fy,{user:g,onClose:u}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Users"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user accounts and access permissions"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:h,disabled:s,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Pe,{className:`w-4 h-4 ${s?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsx(hy,{requiredFeature:"user_management",children:a.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(sn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Login"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map(f=>{var k;const w=f.role,S=l&&w&&o(w);return a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[f.username,f.role===U.SUPERADMIN&&a.jsx(Zp,{className:"inline w-4 h-4 ml-2 text-yellow-500"})]}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:f.email})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[v(f.role||"user"),a.jsx("span",{className:"px-2 py-1 text-xs rounded-full capitalize text-white bg-blue-600",children:i?i(w||U.VISITOR).displayName:w||"visitor"})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:f.role===U.SUPERADMIN||f.role===U.ADMIN?"All features":`${((k=f.permissions)==null?void 0:k.length)||0} cameras`}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[f.active?a.jsx(xd,{className:"w-4 h-4 text-green-600"}):a.jsx(yd,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${f.active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:f.active?"Active":"Inactive"})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:f.lastLogin?new Date(f.lastLogin).toLocaleDateString():"Never"}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[S&&a.jsx("button",{onClick:()=>p(f),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Edit user",children:a.jsx(Zs,{className:"w-4 h-4"})}),S&&a.jsx("button",{onClick:()=>y(f.id,f.active||!1,f.role),className:`p-1 transition-colors ${f.active?"text-gray-400 hover:text-red-600":"text-gray-400 hover:text-green-600"}`,title:f.active?"Deactivate user":"Activate user",children:f.active?a.jsx(yd,{className:"w-4 h-4"}):a.jsx(xd,{className:"w-4 h-4"})}),S&&f.role!==U.SUPERADMIN&&a.jsx("button",{onClick:()=>E(f.id,f.role),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete user",children:a.jsx(ga,{className:"w-4 h-4"})})]})})]},f.id)})})]})}),j.length===0&&x.length>0&&a.jsxs("div",{className:"p-6 text-center text-gray-500",children:[a.jsx("p",{children:"You don't have permission to view any users with your current role."}),a.jsx("p",{className:"text-sm mt-1",children:"Contact an administrator to request additional permissions."})]})]})]})},xy=[{id:"1",name:"Main Entrance",location:"Building A - Front Door",rtspUrl:"rtsp://192.168.1.100:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1920x1080",fps:30,recordingEnabled:!0,recordingSchedule:[{id:"1",dayOfWeek:1,startTime:"08:00",endTime:"18:00",enabled:!0},{id:"2",dayOfWeek:2,startTime:"08:00",endTime:"18:00",enabled:!0},{id:"3",dayOfWeek:3,startTime:"08:00",endTime:"18:00",enabled:!0},{id:"4",dayOfWeek:4,startTime:"08:00",endTime:"18:00",enabled:!0},{id:"5",dayOfWeek:5,startTime:"08:00",endTime:"18:00",enabled:!0}],createdAt:"2024-01-15T10:30:00Z",lastSeen:"2024-01-20T14:25:00Z"},{id:"2",name:"Parking Lot",location:"Building B - Outdoor",rtspUrl:"rtsp://192.168.1.101:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1280x720",fps:25,recordingEnabled:!0,recordingSchedule:[{id:"6",dayOfWeek:0,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"7",dayOfWeek:1,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"8",dayOfWeek:2,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"9",dayOfWeek:3,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"10",dayOfWeek:4,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"11",dayOfWeek:5,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"12",dayOfWeek:6,startTime:"00:00",endTime:"23:59",enabled:!0}],createdAt:"2024-01-15T11:00:00Z",lastSeen:"2024-01-20T14:20:00Z"},{id:"3",name:"Reception Area",location:"Building A - Lobby",rtspUrl:"rtsp://192.168.1.102:554/stream1",username:"admin",password:"password123",status:"maintenance",resolution:"1920x1080",fps:30,recordingEnabled:!1,recordingSchedule:[],createdAt:"2024-01-16T09:15:00Z",lastSeen:"2024-01-19T16:45:00Z"},{id:"4",name:"Loading Dock",location:"Warehouse - Back Entrance",rtspUrl:"rtsp://192.168.1.103:554/stream1",username:"admin",password:"password123",status:"offline",resolution:"1280x720",fps:20,recordingEnabled:!0,recordingSchedule:[{id:"13",dayOfWeek:1,startTime:"06:00",endTime:"20:00",enabled:!0},{id:"14",dayOfWeek:2,startTime:"06:00",endTime:"20:00",enabled:!0},{id:"15",dayOfWeek:3,startTime:"06:00",endTime:"20:00",enabled:!0},{id:"16",dayOfWeek:4,startTime:"06:00",endTime:"20:00",enabled:!0},{id:"17",dayOfWeek:5,startTime:"06:00",endTime:"20:00",enabled:!0}],createdAt:"2024-01-17T14:00:00Z",lastSeen:"2024-01-18T16:30:00Z"},{id:"5",name:"Server Room",location:"Building A - IT Floor",rtspUrl:"rtsp://192.168.1.104:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1920x1080",fps:15,recordingEnabled:!0,recordingSchedule:[{id:"18",dayOfWeek:0,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"19",dayOfWeek:1,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"20",dayOfWeek:2,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"21",dayOfWeek:3,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"22",dayOfWeek:4,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"23",dayOfWeek:5,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"24",dayOfWeek:6,startTime:"00:00",endTime:"23:59",enabled:!0}],createdAt:"2024-01-18T08:30:00Z",lastSeen:"2024-01-20T14:15:00Z"},{id:"6",name:"Emergency Exit",location:"Building B - Side Door",rtspUrl:"rtsp://192.168.1.105:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1280x720",fps:25,recordingEnabled:!0,recordingSchedule:[{id:"25",dayOfWeek:0,startTime:"18:00",endTime:"08:00",enabled:!0},{id:"26",dayOfWeek:1,startTime:"18:00",endTime:"08:00",enabled:!0},{id:"27",dayOfWeek:2,startTime:"18:00",endTime:"08:00",enabled:!0},{id:"28",dayOfWeek:3,startTime:"18:00",endTime:"08:00",enabled:!0},{id:"29",dayOfWeek:4,startTime:"18:00",endTime:"08:00",enabled:!0},{id:"30",dayOfWeek:5,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"31",dayOfWeek:6,startTime:"00:00",endTime:"23:59",enabled:!0}],createdAt:"2024-01-19T12:00:00Z",lastSeen:"2024-01-20T14:10:00Z"},{id:"7",name:"Conference Room",location:"Building A - Floor 2",rtspUrl:"rtsp://192.168.1.106:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1920x1080",fps:30,recordingEnabled:!0,recordingSchedule:[{id:"32",dayOfWeek:1,startTime:"09:00",endTime:"17:00",enabled:!0},{id:"33",dayOfWeek:2,startTime:"09:00",endTime:"17:00",enabled:!0},{id:"34",dayOfWeek:3,startTime:"09:00",endTime:"17:00",enabled:!0},{id:"35",dayOfWeek:4,startTime:"09:00",endTime:"17:00",enabled:!0},{id:"36",dayOfWeek:5,startTime:"09:00",endTime:"17:00",enabled:!0}],createdAt:"2024-01-20T09:00:00Z",lastSeen:"2024-01-20T14:05:00Z"},{id:"8",name:"Warehouse Floor",location:"Building C - Storage Area",rtspUrl:"rtsp://192.168.1.107:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1280x720",fps:20,recordingEnabled:!0,recordingSchedule:[{id:"37",dayOfWeek:1,startTime:"06:00",endTime:"22:00",enabled:!0},{id:"38",dayOfWeek:2,startTime:"06:00",endTime:"22:00",enabled:!0},{id:"39",dayOfWeek:3,startTime:"06:00",endTime:"22:00",enabled:!0},{id:"40",dayOfWeek:4,startTime:"06:00",endTime:"22:00",enabled:!0},{id:"41",dayOfWeek:5,startTime:"06:00",endTime:"22:00",enabled:!0},{id:"42",dayOfWeek:6,startTime:"08:00",endTime:"18:00",enabled:!0}],createdAt:"2024-01-20T10:30:00Z",lastSeen:"2024-01-20T14:00:00Z"},{id:"9",name:"Employee Break Room",location:"Building A - Floor 1",rtspUrl:"rtsp://192.168.1.108:554/stream1",username:"admin",password:"password123",status:"offline",resolution:"1280x720",fps:15,recordingEnabled:!1,recordingSchedule:[],createdAt:"2024-01-20T11:15:00Z",lastSeen:"2024-01-19T18:00:00Z"},{id:"10",name:"Parking Garage",location:"Building B - Underground",rtspUrl:"rtsp://192.168.1.109:554/stream1",username:"admin",password:"password123",status:"online",resolution:"1920x1080",fps:25,recordingEnabled:!0,recordingSchedule:[{id:"43",dayOfWeek:0,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"44",dayOfWeek:1,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"45",dayOfWeek:2,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"46",dayOfWeek:3,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"47",dayOfWeek:4,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"48",dayOfWeek:5,startTime:"00:00",endTime:"23:59",enabled:!0},{id:"49",dayOfWeek:6,startTime:"00:00",endTime:"23:59",enabled:!0}],createdAt:"2024-01-20T12:00:00Z",lastSeen:"2024-01-20T13:55:00Z"}],yy=[{id:"1",username:"admin",email:"admin@company.com",role:"admin",permissions:[],createdAt:"2024-01-10T08:00:00Z",lastLogin:"2024-01-20T14:30:00Z",active:!0},{id:"2",username:"operator1",email:"operator1@company.com",role:"operator",permissions:[{cameraId:"1",canView:!0,canControl:!0,canRecord:!0},{cameraId:"2",canView:!0,canControl:!0,canRecord:!0},{cameraId:"3",canView:!0,canControl:!1,canRecord:!0},{cameraId:"4",canView:!0,canControl:!0,canRecord:!1}],createdAt:"2024-01-12T10:00:00Z",lastLogin:"2024-01-20T09:15:00Z",active:!0},{id:"3",username:"operator2",email:"operator2@company.com",role:"operator",permissions:[{cameraId:"1",canView:!0,canControl:!1,canRecord:!1},{cameraId:"2",canView:!0,canControl:!1,canRecord:!0},{cameraId:"5",canView:!0,canControl:!0,canRecord:!0},{cameraId:"6",canView:!0,canControl:!0,canRecord:!0}],createdAt:"2024-01-14T15:30:00Z",lastLogin:"2024-01-19T16:45:00Z",active:!0},{id:"4",username:"viewer1",email:"viewer1@company.com",role:"viewer",permissions:[{cameraId:"1",canView:!0,canControl:!1,canRecord:!1},{cameraId:"2",canView:!0,canControl:!1,canRecord:!1},{cameraId:"3",canView:!0,canControl:!1,canRecord:!1}],createdAt:"2024-01-16T11:20:00Z",lastLogin:"2024-01-20T08:30:00Z",active:!0},{id:"5",username:"supervisor",email:"supervisor@company.com",role:"operator",permissions:[{cameraId:"1",canView:!0,canControl:!0,canRecord:!0},{cameraId:"2",canView:!0,canControl:!0,canRecord:!0},{cameraId:"3",canView:!0,canControl:!0,canRecord:!0},{cameraId:"4",canView:!0,canControl:!0,canRecord:!0},{cameraId:"5",canView:!0,canControl:!1,canRecord:!0},{cameraId:"6",canView:!0,canControl:!0,canRecord:!0}],createdAt:"2024-01-11T09:00:00Z",lastLogin:"2024-01-20T13:20:00Z",active:!0},{id:"6",username:"temp_user",email:"temp@company.com",role:"viewer",permissions:[{cameraId:"1",canView:!0,canControl:!1,canRecord:!1}],createdAt:"2024-01-18T14:00:00Z",lastLogin:"2024-01-18T14:15:00Z",active:!1}],vy=[{id:"1",cameraId:"1",cameraName:"Main Entrance",name:"Business Hours Recording",description:"High-quality recording during business hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"08:00",endTime:"18:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"2",cameraId:"2",cameraName:"Parking Lot",name:"24/7 Security Recording",description:"Continuous recording for security purposes",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"3",cameraId:"3",cameraName:"Reception Area",name:"Weekly Maintenance",description:"Camera maintenance and updates",type:"maintenance",startDate:"2024-01-20",endDate:"2024-01-20",startTime:"02:00",endTime:"04:00",daysOfWeek:[6],enabled:!0,recurring:!1},{id:"4",cameraId:"4",cameraName:"Loading Dock",name:"Working Hours Monitoring",description:"Monitor during operational hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"06:00",endTime:"20:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"5",cameraId:"5",cameraName:"Server Room",name:"Critical Infrastructure Monitoring",description:"24/7 monitoring of critical infrastructure",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"6",cameraId:"6",cameraName:"Emergency Exit",name:"After Hours Security",description:"Enhanced monitoring during non-business hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"18:00",endTime:"08:00",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"7",cameraId:"1",cameraName:"Main Entrance",name:"Security Alert Protocol",description:"Enhanced monitoring during security alerts",type:"alert",startDate:"2024-01-25",endDate:"2024-01-27",startTime:"00:00",endTime:"23:59",daysOfWeek:[3,4,5],enabled:!1,recurring:!1},{id:"8",cameraId:"2",cameraName:"Parking Lot",name:"Monthly Deep Clean",description:"Camera cleaning and calibration",type:"maintenance",startDate:"2024-02-01",endDate:"2024-02-01",startTime:"03:00",endTime:"05:00",daysOfWeek:[3],enabled:!0,recurring:!0},{id:"9",cameraId:"3",cameraName:"Reception Area",name:"Weekend Monitoring",description:"Reduced monitoring during weekends",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"10:00",endTime:"16:00",daysOfWeek:[0,6],enabled:!0,recurring:!0},{id:"10",cameraId:"4",cameraName:"Loading Dock",name:"Overtime Monitoring",description:"Extended monitoring for overtime shifts",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"20:00",endTime:"06:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"11",cameraId:"5",cameraName:"Server Room",name:"Quarterly Maintenance",description:"Scheduled maintenance every quarter",type:"maintenance",startDate:"2024-03-01",endDate:"2024-03-01",startTime:"01:00",endTime:"03:00",daysOfWeek:[4],enabled:!0,recurring:!0},{id:"12",cameraId:"6",cameraName:"Emergency Exit",name:"Holiday Security",description:"Enhanced security during holidays",type:"alert",startDate:"2024-12-24",endDate:"2024-12-26",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2],enabled:!0,recurring:!1},{id:"13",cameraId:"1",cameraName:"Main Entrance",name:"Lunch Break Monitoring",description:"Reduced monitoring during lunch hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"12:00",endTime:"13:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"14",cameraId:"2",cameraName:"Parking Lot",name:"Peak Hours Alert",description:"Enhanced monitoring during peak hours",type:"alert",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"07:00",endTime:"09:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"15",cameraId:"3",cameraName:"Reception Area",name:"Evening Security",description:"Security monitoring after hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"18:00",endTime:"22:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"16",cameraId:"4",cameraName:"Loading Dock",name:"Weekend Operations",description:"Monitoring for weekend operations",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"08:00",endTime:"16:00",daysOfWeek:[0,6],enabled:!0,recurring:!0},{id:"17",cameraId:"5",cameraName:"Server Room",name:"Backup Verification",description:"Verify backup systems during off-peak",type:"maintenance",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"02:00",endTime:"04:00",daysOfWeek:[6],enabled:!0,recurring:!0},{id:"18",cameraId:"6",cameraName:"Emergency Exit",name:"Emergency Protocol Test",description:"Monthly emergency protocol testing",type:"alert",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"14:00",endTime:"15:00",daysOfWeek:[0],enabled:!0,recurring:!0},{id:"19",cameraId:"7",cameraName:"Conference Room",name:"Meeting Hours Monitoring",description:"Monitor during business meeting hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"20",cameraId:"8",cameraName:"Warehouse Floor",name:"Extended Operations",description:"Monitor during extended warehouse operations",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"06:00",endTime:"22:00",daysOfWeek:[1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"21",cameraId:"9",cameraName:"Employee Break Room",name:"Break Time Monitoring",description:"Limited monitoring during break times",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"12:00",endTime:"13:00",daysOfWeek:[1,2,3,4,5],enabled:!1,recurring:!0},{id:"22",cameraId:"10",cameraName:"Parking Garage",name:"24/7 Vehicle Monitoring",description:"Continuous monitoring of parking garage",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"23",cameraId:"7",cameraName:"Conference Room",name:"Weekend Security",description:"Security monitoring during weekends",type:"alert",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,6],enabled:!0,recurring:!0},{id:"24",cameraId:"8",cameraName:"Warehouse Floor",name:"Inventory Count Support",description:"Enhanced monitoring during inventory counts",type:"alert",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"08:00",endTime:"16:00",daysOfWeek:[6],enabled:!0,recurring:!0},{id:"25",cameraId:"9",cameraName:"Employee Break Room",name:"After Hours Security",description:"Security monitoring after business hours",type:"recording",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"18:00",endTime:"06:00",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"26",cameraId:"10",cameraName:"Parking Garage",name:"Peak Traffic Alert",description:"Enhanced monitoring during peak traffic times",type:"alert",startDate:"2024-01-01",endDate:"2024-12-31",startTime:"07:00",endTime:"09:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"27",cameraId:"1",cameraName:"Main Entrance",name:"Holiday Security Check",description:"Enhanced security monitoring during holidays",type:"recording",startDate:"2024-01-01",endDate:"2024-01-01",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,6],enabled:!0,recurring:!1},{id:"28",cameraId:"3",cameraName:"Server Room",name:"Critical Infrastructure Monitor",description:"24/7 monitoring of critical infrastructure",type:"recording",startDate:"2024-01-15",endDate:"2024-02-15",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"29",cameraId:"4",cameraName:"Conference Room",name:"Meeting Recording",description:"Record important meetings and presentations",type:"recording",startDate:"2024-01-22",endDate:"2024-01-26",startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!1},{id:"30",cameraId:"2",cameraName:"Parking Lot",name:"Vehicle Count Analysis",description:"Count and analyze vehicle traffic patterns",type:"recording",startDate:"2024-01-10",endDate:"2024-03-10",startTime:"06:00",endTime:"22:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"31",cameraId:"5",cameraName:"Reception Area",name:"Visitor Log Recording",description:"Record all visitor interactions",type:"recording",startDate:"2024-01-05",endDate:"2024-12-31",startTime:"08:30",endTime:"17:30",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"32",cameraId:"6",cameraName:"Warehouse",name:"Inventory Security",description:"Monitor warehouse inventory and access",type:"recording",startDate:"2024-01-08",endDate:"2024-06-08",startTime:"18:00",endTime:"06:00",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"33",cameraId:"7",cameraName:"Emergency Exit",name:"Fire Safety Monitor",description:"Monitor emergency exits for safety compliance",type:"alert",startDate:"2024-01-12",endDate:"2024-12-31",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"34",cameraId:"8",cameraName:"Loading Dock",name:"Delivery Schedule Monitor",description:"Monitor scheduled deliveries and pickups",type:"recording",startDate:"2024-01-18",endDate:"2024-04-18",startTime:"07:00",endTime:"19:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"35",cameraId:"9",cameraName:"Cafeteria",name:"Lunch Rush Recording",description:"Record during busy lunch periods",type:"recording",startDate:"2024-01-20",endDate:"2024-03-20",startTime:"11:30",endTime:"14:30",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"36",cameraId:"10",cameraName:"Parking Garage",name:"Weekend Security",description:"Enhanced weekend security monitoring",type:"recording",startDate:"2024-01-25",endDate:"2024-12-31",startTime:"20:00",endTime:"08:00",daysOfWeek:[0,6],enabled:!0,recurring:!0},{id:"lobby-1",cameraId:"1",cameraName:"Main Entrance",name:"Motion Detection Setup",description:"Configure motion detection zones",type:"alert",startDate:"",endDate:"",startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!1},{id:"lobby-2",cameraId:"2",cameraName:"Parking Lot",name:"License Plate Recognition",description:"Set up automatic license plate recognition",type:"recording",startDate:"",endDate:"",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"lobby-3",cameraId:"3",cameraName:"Server Room",name:"Temperature Alert Monitor",description:"Monitor for overheating alerts",type:"alert",startDate:"",endDate:"",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"lobby-4",cameraId:"4",cameraName:"Conference Room",name:"Privacy Mode Setup",description:"Configure privacy settings for sensitive meetings",type:"maintenance",startDate:"",endDate:"",startTime:"10:00",endTime:"16:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!1},{id:"lobby-5",cameraId:"5",cameraName:"Reception Area",name:"Facial Recognition Calibration",description:"Calibrate facial recognition system",type:"maintenance",startDate:"",endDate:"",startTime:"08:00",endTime:"09:00",daysOfWeek:[1],enabled:!0,recurring:!1},{id:"lobby-6",cameraId:"6",cameraName:"Warehouse",name:"Theft Detection Setup",description:"Configure advanced theft detection algorithms",type:"alert",startDate:"",endDate:"",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"lobby-7",cameraId:"7",cameraName:"Emergency Exit",name:"Emergency Response Protocol",description:"Set up emergency response procedures",type:"alert",startDate:"",endDate:"",startTime:"00:00",endTime:"23:59",daysOfWeek:[0,1,2,3,4,5,6],enabled:!0,recurring:!0},{id:"lobby-8",cameraId:"8",cameraName:"Loading Dock",name:"Package Tracking Setup",description:"Configure automatic package tracking",type:"recording",startDate:"",endDate:"",startTime:"06:00",endTime:"20:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"lobby-9",cameraId:"9",cameraName:"Cafeteria",name:"Health Safety Monitor",description:"Monitor for health and safety compliance",type:"alert",startDate:"",endDate:"",startTime:"07:00",endTime:"19:00",daysOfWeek:[1,2,3,4,5],enabled:!0,recurring:!0},{id:"lobby-10",cameraId:"10",cameraName:"Parking Garage",name:"Automated Gate Integration",description:"Integrate with automated parking gates",type:"maintenance",startDate:"",endDate:"",startTime:"02:00",endTime:"06:00",daysOfWeek:[0],enabled:!0,recurring:!1}],by=()=>{const[e,t]=b.useState(xy),[r,n]=b.useState(yy),[s,l]=b.useState(vy),[o,i]=b.useState(!1),[c,d]=b.useState(null),g=(w=1e3)=>new Promise(S=>setTimeout(S,w));return{cameras:e,users:r,schedules:s,loading:o,error:c,clearError:()=>d(null),addCamera:async w=>{i(!0),d(null);try{if(await g(),!w.name.trim())throw new Error("Camera name is required");if(!w.location.trim())throw new Error("Camera location is required");if(!w.rtspUrl.trim())throw new Error("RTSP URL is required");if(e.some(k=>k.name.toLowerCase()===w.name.toLowerCase()))throw new Error("Camera name already exists");const S={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),lastSeen:new Date().toISOString()};return t(k=>[...k,S]),S}catch(S){const k=S instanceof Error?S.message:"Failed to add camera";throw d(k),new Error(k)}finally{i(!1)}},updateCamera:async(w,S)=>{i(!0),d(null);try{await g(500);const k=e.find(N=>N.id===w);if(!k)throw new Error("Camera not found");if(S.name&&S.name!==k.name&&e.some(N=>N.id!==w&&N.name.toLowerCase()===S.name.toLowerCase()))throw new Error("Camera name already exists");t(N=>N.map(C=>C.id===w?{...C,...S,lastSeen:new Date().toISOString()}:C))}catch(k){const N=k instanceof Error?k.message:"Failed to update camera";throw d(N),new Error(N)}finally{i(!1)}},deleteCamera:async w=>{i(!0),d(null);try{if(await g(500),!e.find(k=>k.id===w))throw new Error("Camera not found");t(k=>k.filter(N=>N.id!==w)),l(k=>k.filter(N=>N.cameraId!==w))}catch(S){const k=S instanceof Error?S.message:"Failed to delete camera";throw d(k),new Error(k)}finally{i(!1)}},addUser:async w=>{i(!0),d(null);try{if(await g(),!w.username.trim())throw new Error("Username is required");if(!w.email.trim()||!w.email.includes("@"))throw new Error("Valid email is required");if(r.some(k=>k.username.toLowerCase()===w.username.toLowerCase()))throw new Error("Username already exists");if(r.some(k=>k.email.toLowerCase()===w.email.toLowerCase()))throw new Error("Email already exists");const S={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()};return n(k=>[...k,S]),S}catch(S){const k=S instanceof Error?S.message:"Failed to add user";throw d(k),new Error(k)}finally{i(!1)}},updateUser:async(w,S)=>{i(!0),d(null);try{await g(500);const k=r.find(N=>N.id===w);if(!k)throw new Error("User not found");if(S.username&&S.username!==k.username&&r.some(N=>N.id!==w&&N.username.toLowerCase()===S.username.toLowerCase()))throw new Error("Username already exists");if(S.email&&S.email!==k.email&&r.some(N=>N.id!==w&&N.email.toLowerCase()===S.email.toLowerCase()))throw new Error("Email already exists");n(N=>N.map(C=>C.id===w?{...C,...S}:C))}catch(k){const N=k instanceof Error?k.message:"Failed to update user";throw d(N),new Error(N)}finally{i(!1)}},deleteUser:async w=>{i(!0),d(null);try{if(await g(500),!r.find(k=>k.id===w))throw new Error("User not found");n(k=>k.filter(N=>N.id!==w))}catch(S){const k=S instanceof Error?S.message:"Failed to delete user";throw d(k),new Error(k)}finally{i(!1)}},addSchedule:async w=>{i(!0),d(null);try{if(await g(),!w.name.trim())throw new Error("Schedule name is required");if(!w.cameraId)throw new Error("Camera selection is required");if(!e.find(k=>k.id===w.cameraId))throw new Error("Selected camera does not exist");const S={...w,id:Date.now().toString()};return l(k=>[...k,S]),S}catch(S){const k=S instanceof Error?S.message:"Failed to add schedule";throw d(k),new Error(k)}finally{i(!1)}},updateSchedule:async(w,S)=>{i(!0),d(null);try{if(await g(500),!s.find(N=>N.id===w))throw new Error("Schedule not found");l(N=>N.map(C=>C.id===w?{...C,...S}:C))}catch(k){const N=k instanceof Error?k.message:"Failed to update schedule";throw d(N),new Error(N)}finally{i(!1)}},deleteSchedule:async w=>{i(!0),d(null);try{if(await g(500),!s.find(k=>k.id===w))throw new Error("Schedule not found");l(k=>k.filter(N=>N.id!==w))}catch(S){const k=S instanceof Error?S.message:"Failed to delete schedule";throw d(k),new Error(k)}finally{i(!1)}}}},wy=()=>{const{users:e,cameras:t}=by(),[r,n]=b.useState([{id:"1",name:"Live Feed Access",endpoint:"/api/camera/live/{camera_id}",method:"GET",allowedUsers:["1","2"],allowedCameras:["1","2"],active:!0,createdAt:new Date().toISOString()},{id:"2",name:"Recording Control",endpoint:"/api/camera/record/{camera_id}",method:"POST",allowedUsers:["1"],allowedCameras:["1","2","3"],active:!0,createdAt:new Date().toISOString()}]),[s,l]=b.useState(!1),[o,i]=b.useState(null),[c,d]=b.useState(!1),g=p=>{var E;return((E=e.find(y=>y.id===p))==null?void 0:E.username)||"Unknown User"},m=p=>{var E;return((E=t.find(y=>y.id===p))==null?void 0:E.name)||"Unknown Camera"},x=async()=>{d(!0);try{await new Promise(p=>setTimeout(p,1e3))}catch(p){console.error("Error refreshing access control:",p)}finally{d(!1)}},j=({endpoint:p,onClose:E})=>{const[y,u]=b.useState({name:(p==null?void 0:p.name)||"",endpoint:(p==null?void 0:p.endpoint)||"",method:(p==null?void 0:p.method)||"GET",allowedUsers:(p==null?void 0:p.allowedUsers)||[],allowedCameras:(p==null?void 0:p.allowedCameras)||[],active:(p==null?void 0:p.active)??!0}),h=w=>{w.preventDefault();const S={id:(p==null?void 0:p.id)||Date.now().toString(),...y,createdAt:(p==null?void 0:p.createdAt)||new Date().toISOString()};n(p?k=>k.map(N=>N.id===p.id?S:N):k=>[...k,S]),E()},v=w=>{u(S=>({...S,allowedUsers:S.allowedUsers.includes(w)?S.allowedUsers.filter(k=>k!==w):[...S.allowedUsers,w]}))},f=w=>{u(S=>({...S,allowedCameras:S.allowedCameras.includes(w)?S.allowedCameras.filter(k=>k!==w):[...S.allowedCameras,w]}))};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p?"Edit Access Endpoint":"Create Access Endpoint"})}),a.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Endpoint Name *"}),a.jsx("input",{type:"text",value:y.name,onChange:w=>u(S=>({...S,name:w.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"e.g., Live Feed Access"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"HTTP Method"}),a.jsxs("select",{value:y.method,onChange:w=>u(S=>({...S,method:w.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"GET",children:"GET"}),a.jsx("option",{value:"POST",children:"POST"}),a.jsx("option",{value:"PUT",children:"PUT"}),a.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Endpoint *"}),a.jsx("input",{type:"text",value:y.endpoint,onChange:w=>u(S=>({...S,endpoint:w.target.value})),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"/api/camera/live/{camera_id}"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Allowed Users"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:e.map(w=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:y.allowedUsers.includes(w.id),onChange:()=>v(w.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[w.username," (",w.role,")"]})]},w.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Allowed Cameras"}),a.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.map(w=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:y.allowedCameras.includes(w.id),onChange:()=>f(w.id),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[w.name," (",w.location,")"]})]},w.id))})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:y.active,onChange:w=>u(S=>({...S,active:w.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Endpoint is active"})]})}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:E,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:p?"Update Endpoint":"Create Endpoint"})]})]})]})})};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Access Control"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage API endpoints and user access permissions"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:x,disabled:c,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Pe,{className:`w-4 h-4 ${c?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(sn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Endpoint"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(um,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.length}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Endpoints"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ys,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.filter(p=>p.active).length}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Active Endpoints"})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fi,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Users"})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Endpoint"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Method"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Users"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cameras"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p.name}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:p.endpoint})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-mono ${p.method==="GET"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":p.method==="POST"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":p.method==="PUT"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}`,children:p.method})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{className:"space-y-1",children:[p.allowedUsers.slice(0,2).map(E=>a.jsx("div",{className:"text-xs",children:g(E)},E)),p.allowedUsers.length>2&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",p.allowedUsers.length-2," more"]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:a.jsxs("div",{className:"space-y-1",children:[p.allowedCameras.slice(0,2).map(E=>a.jsx("div",{className:"text-xs",children:m(E)},E)),p.allowedCameras.length>2&&a.jsxs("div",{className:"text-xs text-gray-500",children:["+",p.allowedCameras.length-2," more"]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p.active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}`,children:p.active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{i(p),l(!0)},className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:a.jsx(Zs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this endpoint?")&&n(E=>E.filter(y=>y.id!==p.id))},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:a.jsx(ga,{className:"w-4 h-4"})})]})})]},p.id))})]})})}),s&&a.jsx(j,{endpoint:o,onClose:()=>{l(!1),i(null)}})]})},ky=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(null),[s,l]=b.useState(!1),[o,i]=b.useState(!1),[c,d]=b.useState(null),[g,m]=b.useState(null),[x,j]=b.useState(null),p=b.useCallback(C=>{C instanceof Ut?(d(sm(C)),Di(C)?j("network"):Ii(C)?j("auth"):Li(C)?j("validation"):Oi(C)?j("server"):j("unknown")):(d(C instanceof Error?C.message:"An unknown error occurred"),j("unknown"))},[]),E=b.useCallback(()=>{d(null),j(null)},[]),y=b.useCallback(()=>{m(null)},[]),u=b.useCallback(async()=>{l(!0),E();try{const C=await se.getGCPTransfers();t(C.transfers),n({total_count:C.total_count,pending_count:C.pending_count,uploading_count:C.uploading_count,completed_count:C.completed_count,failed_count:C.failed_count})}catch(C){p(C)}finally{l(!1)}},[p,E]),h=b.useCallback(async C=>{i(!0),E(),y();try{const M=await se.transferToGCP(C);return m(M.message),setTimeout(()=>{u()},1e3),M}catch(M){return p(M),null}finally{i(!1)}},[p,E,y,u]),v=b.useCallback(async(C=5)=>h({batch_size:C}),[h]),f=b.useCallback(async(C,M=5)=>h({recording_ids:C,batch_size:M}),[h]),w=b.useCallback(C=>e.find(M=>M.transfer_id===C),[e]),S=b.useCallback(C=>e.filter(M=>M.transfer_status===C),[e]),k=b.useCallback(()=>e.some(C=>C.transfer_status==="pending"||C.transfer_status==="uploading"),[e]),N=b.useCallback(()=>{if(!r||r.total_count===0)return 0;const C=r.completed_count,M=r.total_count;return Math.round(C/M*100)},[r]);return{transfers:e,transferStats:r,loading:s,transferring:o,error:c,success:g,errorType:x,fetchTransfers:u,transferToGCP:h,transferAllRecordings:v,transferSpecificRecordings:f,clearError:E,clearSuccess:y,getTransferById:w,getTransfersByStatus:S,hasActiveTransfers:k,getTransferProgress:N}},Ny=({selectedRecordingIds:e,onTransferComplete:t})=>{const{showSuccess:r,showError:n}=xn(),{transfers:s,transferStats:l,loading:o,transferring:i,error:c,success:d,fetchTransfers:g,transferAllRecordings:m,transferSpecificRecordings:x,clearError:j,clearSuccess:p,hasActiveTransfers:E}=ky(),[y,u]=b.useState(!1),[h,v]=b.useState(5),[f,w]=b.useState(!1),[S,k]=b.useState(!0);b.useEffect(()=>{if(S&&E()){const I=setInterval(()=>{g()},5e3);return()=>clearInterval(I)}},[S,E,g]),b.useEffect(()=>{g()},[g]),b.useEffect(()=>{if(d){const I=setTimeout(()=>{p()},5e3);return()=>clearTimeout(I)}},[d,p]);const N=async()=>{try{await m(h)&&(r("Transfer Started","All recordings have been queued for transfer to GCP."),t&&t())}catch(I){n("Transfer Failed",I instanceof Error?I.message:"Failed to start transfer.")}},C=async()=>{if(e.length===0){n("No Selection","Please select recordings to transfer");return}try{await x(e,h)&&(r("Transfer Started",`${e.length} recording(s) have been queued for transfer to GCP.`),t&&t())}catch(I){n("Transfer Failed",I instanceof Error?I.message:"Failed to start transfer.")}},M=I=>{switch(I){case"pending":return a.jsx(ir,{className:"w-4 h-4 text-yellow-500"});case"uploading":return a.jsx(Zn,{className:"w-4 h-4 text-blue-500 animate-pulse"});case"completed":return a.jsx(It,{className:"w-4 h-4 text-green-500"});case"failed":return a.jsx(St,{className:"w-4 h-4 text-red-500"});case"cleanup_pending":return a.jsx(ir,{className:"w-4 h-4 text-orange-500"});case"cleanup_completed":return a.jsx(ga,{className:"w-4 h-4 text-gray-500"});default:return a.jsx(Mi,{className:"w-4 h-4 text-gray-500"})}},Z=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";case"uploading":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"cleanup_pending":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";case"cleanup_completed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},le=I=>I?new Date(I).toLocaleString():"N/A",oe=I=>I>=1024?`${(I/1024).toFixed(2)} GB`:`${I.toFixed(2)} MB`;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>u(!y),children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(hd,{className:"w-6 h-6 text-blue-500"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"GCP Cloud Storage"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Transfer recordings to Google Cloud Storage"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[l&&a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.completed_count,"/",l.total_count," completed"]}),a.jsx(Pe,{className:`w-5 h-5 text-gray-400 ${y?"rotate-180":""} transition-transform`})]})]}),y&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700",children:[c&&a.jsx("div",{className:"m-4 p-3 bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-800 dark:text-red-300 text-sm",children:c})]}),a.jsx("button",{onClick:j,className:"text-red-500 hover:text-red-700 dark:hover:text-red-300",children:a.jsx(He,{className:"w-4 h-4"})})]})}),d&&a.jsx("div",{className:"m-4 p-3 bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-700 rounded-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"w-5 h-5 text-green-500 mr-2"}),a.jsx("span",{className:"text-green-800 dark:text-green-300 text-sm",children:d})]}),a.jsx("button",{onClick:p,className:"text-green-500 hover:text-green-700 dark:hover:text-green-300",children:a.jsx(He,{className:"w-4 h-4"})})]})}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:N,disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[i?a.jsx(Pe,{className:"w-4 h-4 animate-spin"}):a.jsx(Zn,{className:"w-4 h-4"}),a.jsx("span",{children:"Transfer All"})]}),a.jsxs("button",{onClick:C,disabled:i||e.length===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2",children:[i?a.jsx(Pe,{className:"w-4 h-4 animate-spin"}):a.jsx(Zn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Transfer Selected (",e.length,")"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>w(!f),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:a.jsx(js,{className:"w-4 h-4"})}),a.jsx("button",{onClick:g,disabled:o,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600",children:a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`})})]})]}),f&&a.jsxs("div",{className:"mt-4 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Transfer Settings"}),a.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Batch Size"}),a.jsx("input",{type:"number",min:"1",max:"20",value:h,onChange:I=>v(parseInt(I.target.value)||5),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Number of videos to process simultaneously (1-20)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Auto Refresh"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:S,onChange:I=>k(I.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Auto-refresh status every 5 seconds"})]})]})]})]})]}),l&&a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.total_count}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.pending_count}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pending"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.uploading_count}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Uploading"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.completed_count}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failed_count}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Failed"})]})]})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:o&&s.length===0?a.jsxs("div",{className:"flex items-center justify-center p-8",children:[a.jsx(Pe,{className:"w-6 h-6 animate-spin text-blue-500 mr-2"}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Loading transfers..."})]}):s.length===0?a.jsxs("div",{className:"text-center p-8 text-gray-500 dark:text-gray-400",children:[a.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No transfers found"}),a.jsx("p",{className:"text-sm",children:"Start a transfer to see status here"})]}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(I=>a.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[M(I.transfer_status),a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:I.recording_name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Z(I.transfer_status)}`,children:I.transfer_status.replace("_"," ")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Size:"})," ",oe(I.file_size_mb)]}),I.upload_started_at&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Started:"})," ",le(I.upload_started_at)]}),I.upload_completed_at&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",le(I.upload_completed_at)]})]}),I.error_message&&a.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm text-red-800 dark:text-red-300",children:[a.jsx("span",{className:"font-medium",children:"Error:"})," ",I.error_message,I.retry_count>0&&a.jsxs("span",{className:"ml-2 text-xs",children:["(",I.retry_count," retries)"]})]}),I.cleanup_scheduled_at&&a.jsxs("div",{className:"mt-2 text-xs text-orange-600 dark:text-orange-400",children:[a.jsx(ir,{className:"w-3 h-3 inline mr-1"}),"Local cleanup scheduled: ",le(I.cleanup_scheduled_at)]})]}),I.gcp_public_url&&a.jsx("button",{onClick:()=>window.open(I.gcp_public_url,"_blank"),className:"ml-4 p-2 text-blue-500 hover:text-blue-700 dark:hover:text-blue-300 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"View in GCP",children:a.jsx(im,{className:"w-4 h-4"})})]})},I.transfer_id))})})]})]})},Sy=()=>{const{showSuccess:e,showError:t,showWarning:r}=xn(),{cameras:n,recordings:s,recordingStats:l,loading:o,error:i,clearError:c,refreshAll:d}=fr(),[g,m]=b.useState(""),[x,j]=b.useState("all"),[p,E]=b.useState("all"),[y,u]=b.useState(new Set),[h,v]=b.useState(null),[f,w]=b.useState(null),S=Array.isArray(n)?n:[],k=Array.isArray(s)?s:[],N=k.filter(T=>{const G=T.name.toLowerCase().includes(g.toLowerCase())||(T.camera_name||"").toLowerCase().includes(g.toLowerCase()),ee=x==="all"||T.status===x,ie=p==="all"||T.camera===p;return G&&ee&&ie}),C=T=>{const G=new Set(y);G.has(T)?G.delete(T):G.add(T),u(G)},M=()=>{u(new Set(N.map(T=>T.id)))},Z=()=>{u(new Set)},le=async()=>{if(y.size!==0&&confirm(`Are you sure you want to delete ${y.size} recording(s)?`))try{console.log("Delete recordings:",Array.from(y)),r("Feature Not Available","Delete functionality is not yet implemented. Please check with the backend team."),u(new Set)}catch(T){console.error("Error deleting recordings:",T),t("Delete Failed","Error deleting recordings. Please try again.")}},oe=async T=>{try{if(!T.file_exists){t("Download Failed","File does not exist on the server. Cannot download.");return}if(!T.file_url){t("Download Failed","No file URL available for this recording.");return}window.open(T.file_url,"_blank"),e("Download Started",`Download started for "${T.name}"`)}catch(G){console.error("Error downloading recording:",G),t("Download Failed","Error downloading recording. Please try again.")}},I=async T=>{try{if(!T.file_exists){t("Playback Failed","File does not exist on the server. Cannot play video.");return}if(!T.file_url){t("Playback Failed","No file URL available for this recording.");return}w(T)}catch(G){console.error("Error playing recording:",G),t("Playback Failed","Error playing recording. Please try again.")}},z=()=>{w(null)},pe=async()=>{try{await d()}catch(T){console.error("Error refreshing recordings:",T)}},Te=T=>{if(T===0)return"0 B";const G=1024,ee=["B","KB","MB","GB"],ie=Math.floor(Math.log(T)/Math.log(G));return parseFloat((T/Math.pow(G,ie)).toFixed(2))+" "+ee[ie]},$=T=>{const G=Math.floor(T/3600),ee=Math.floor(T%3600/60),ie=T%60;return G>0?`${G}h ${ee}m ${ie}s`:ee>0?`${ee}m ${ie}s`:`${ie}s`},q=T=>{switch(T){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"recording":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return b.useEffect(()=>{if(i){const T=setTimeout(()=>c(),5e3);return()=>clearTimeout(T)}},[i,c]),b.useEffect(()=>{const T=G=>{G.key==="Escape"&&f&&z()};if(f)return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[f]),o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Recordings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage and view all camera recordings"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("button",{onClick:pe,disabled:o,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Pe,{className:`w-4 h-4 ${o?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),y.size>0&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:le,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[a.jsx(ga,{className:"w-4 h-4"}),"Delete Selected (",y.size,")"]}),a.jsx("button",{onClick:Z,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Clear Selection"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(Po,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Recordings"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.total_recordings)||k.length})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:a.jsx(It,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.completed_recordings)||k.filter(T=>T.status==="completed").length})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:a.jsx(Ma,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.filter(T=>T.status==="recording").length})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg",children:a.jsx(St,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Failed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(l==null?void 0:l.failed_recordings)||k.filter(T=>T.status==="failed").length})]})]})})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(gm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search recordings...",value:g,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("select",{value:x,onChange:T=>j(T.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"recording",children:"Recording"}),a.jsx("option",{value:"failed",children:"Failed"}),a.jsx("option",{value:"paused",children:"Paused"})]}),a.jsxs("select",{value:p,onChange:T=>E(T.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Cameras"}),S.map(T=>a.jsx("option",{value:T.id,children:T.name},T.id))]})]})}),a.jsx(Ny,{selectedRecordingIds:Array.from(y),onTransferComplete:()=>{}}),i&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 flex items-center",children:[a.jsx(St,{className:"w-5 h-5 text-red-600 mr-3"}),a.jsx("span",{className:"text-red-700 dark:text-red-300",children:i}),a.jsx("button",{onClick:c,className:"ml-auto text-red-400 hover:text-red-600",children:a.jsx(He,{className:"w-5 h-5"})})]}),h&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center",children:[a.jsx(It,{className:"w-5 h-5 text-green-600 mr-3"}),a.jsx("span",{className:"text-green-700 dark:text-green-300",children:h}),a.jsx("button",{onClick:()=>v(null),className:"ml-auto text-green-400 hover:text-green-600",children:a.jsx(He,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Recordings (",N.length,")"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:M,className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Select All"}),a.jsx("span",{className:"text-gray-400",children:"|"}),a.jsx("button",{onClick:Z,className:"text-sm text-gray-600 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:"Clear"})]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:a.jsx("input",{type:"checkbox",checked:y.size===N.length&&N.length>0,onChange:()=>y.size===N.length?Z():M(),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Recording"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Camera"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Size"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Schedule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Resolution"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Start Time"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:N.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:y.has(T.id),onChange:()=>C(T.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",T.id.substring(0,8),"..."]}),T.end_time&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ended: ",new Date(T.end_time).toLocaleString()]}),T.file_exists!==void 0&&a.jsx("div",{className:`text-xs ${T.file_exists?"text-green-600":"text-red-600"}`,children:T.file_exists?" File exists":" File missing"})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.camera_name||"Unknown Camera"}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",T.camera]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize ${q(T.status)}`,children:T.status}),T.error_message&&a.jsx("div",{className:"text-xs text-red-600 mt-1",title:T.error_message,children:" Error occurred"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:T.duration_seconds?$(Math.floor(T.duration_seconds)):T.duration?$(parseInt(T.duration)):"N/A"}),T.is_active&&a.jsx("div",{className:"text-xs text-blue-600",children:" Recording..."})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:T.file_size_mb?`${T.file_size_mb.toFixed(2)} MB`:T.file_size?Te(T.file_size):"N/A"}),T.file_size&&T.file_size_mb&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:Te(T.file_size)})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.schedule_name?a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:T.schedule_name}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Scheduled"})]}):a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manual"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:T.resolution||"N/A"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:T.codec&&T.frame_rate?`${T.codec} @ ${T.frame_rate}fps`:T.codec||"N/A"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:new Date(T.start_time).toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>I(T),disabled:!T.file_exists||!T.file_url,className:`p-2 rounded-lg transition-colors ${T.file_exists&&T.file_url?"text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20":"text-gray-300 cursor-not-allowed"}`,title:T.file_exists&&T.file_url?"Play Recording":"File not available",children:a.jsx(Ma,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>oe(T),disabled:!T.file_exists||!T.file_url,className:`p-2 rounded-lg transition-colors ${T.file_exists&&T.file_url?"text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-300 cursor-not-allowed"}`,title:T.file_exists&&T.file_url?"Download Recording":"File not available",children:a.jsx(Ss,{className:"w-4 h-4"})})]})})]},T.id))})]})}),N.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Po,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No recordings found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."})]})]}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-6xl max-h-[90vh] w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:f.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[f.camera_name,"  ",new Date(f.start_time).toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>oe(f),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Download Recording",children:a.jsx(Ss,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>{window.open(f.file_url,"_blank")},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Open in new tab",children:a.jsx(im,{className:"w-5 h-5"})}),a.jsx("button",{onClick:z,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Close",children:a.jsx(He,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden",children:a.jsxs("video",{controls:!0,autoPlay:!0,className:"w-full max-h-[70vh] object-contain",onError:T=>{var ee,ie;console.error("Video playback error:",T);const G=((ie=(ee=f.file_path)==null?void 0:ee.split(".").pop())==null?void 0:ie.toLowerCase())||"unknown";alert(`Error loading video. File format: ${G.toUpperCase()}. Please check if the file exists and is in a supported format.`)},children:[(()=>{var R,K;const T=f.file_url,G=(K=(R=f.file_path)==null?void 0:R.split(".").pop())==null?void 0:K.toLowerCase(),ie=(L=>{switch(L){case"mp4":return"video/mp4";case"avi":return"video/x-msvideo";case"mov":return"video/quicktime";case"mkv":return"video/x-matroska";default:return"video/mp4"}})(G);return a.jsxs(a.Fragment,{children:[a.jsx("source",{src:T,type:ie}),ie!=="video/mp4"&&a.jsx("source",{src:T,type:"video/mp4"}),ie!=="video/x-msvideo"&&a.jsx("source",{src:T,type:"video/x-msvideo"})]})})(),"Your browser does not support the video tag or the video format."]})}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Duration:"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f.duration_seconds?$(Math.floor(f.duration_seconds)):"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f.file_size_mb?`${f.file_size_mb.toFixed(2)} MB`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Resolution:"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f.resolution||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Codec:"}),a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:f.codec||"N/A"})]})]})]})]})})]})},jy=({schedule:e,onClose:t,onSubmit:r,cameras:n})=>{const{showSuccess:s,showError:l}=xn(),[o,i]=b.useState({camera:"",name:"",schedule_type:"continuous",start_date:"",end_date:"",start_time:"00:00",end_time:"23:59",days_of_week:[],is_active:!0}),[c,d]=b.useState({}),[g,m]=b.useState(!1);b.useEffect(()=>{if(e)i({camera:e.camera,name:e.name,schedule_type:e.schedule_type,start_date:e.start_date||"",end_date:e.end_date||"",start_time:e.start_time,end_time:e.end_time,days_of_week:e.days_of_week||[],is_active:e.is_active});else{const u=new Date,h=new Date(u.getFullYear(),u.getMonth()+1,u.getDate());i(v=>({...v,start_date:u.toISOString().split("T")[0],end_date:h.toISOString().split("T")[0]}))}},[e]);const x=()=>{const u={};return o.camera||(u.camera="Camera is required"),o.name.trim()||(u.name="Schedule name is required"),o.schedule_type==="once"&&!o.start_date&&(u.start_date="Start date is required for one-time schedules"),o.schedule_type==="once"&&!o.end_date&&(u.end_date="End date is required for one-time schedules"),o.start_date&&o.end_date&&o.start_date>o.end_date&&(u.end_date="End date must be after start date"),o.start_time>=o.end_time&&(u.end_time="End time must be after start time"),o.schedule_type==="weekly"&&o.days_of_week.length===0&&(u.days_of_week="At least one day must be selected for weekly schedules"),d(u),Object.keys(u).length===0},j=async u=>{var h;if(u.preventDefault(),!g&&x()){m(!0),d({});try{const v={...o,camera_name:((h=n.find(f=>f.id===o.camera))==null?void 0:h.name)||""};await r(v),s(e?"Schedule Updated":"Schedule Created",`Schedule "${o.name}" has been saved successfully.`),t()}catch(v){console.error("Error saving schedule:",v),l(e?"Update Failed":"Creation Failed",v instanceof Error?v.message:"An unexpected error occurred while saving the schedule.")}finally{m(!1)}}},p=u=>{const{name:h,value:v,type:f}=u.target;i(w=>({...w,[h]:f==="checkbox"?u.target.checked:v})),c[h]&&d(w=>({...w,[h]:""}))},E=u=>{i(h=>({...h,days_of_week:h.days_of_week.includes(u)?h.days_of_week.filter(v=>v!==u):[...h.days_of_week,u]})),c.days_of_week&&d(h=>({...h,days_of_week:""}))},y=[{short:"Sun",full:"sunday"},{short:"Mon",full:"monday"},{short:"Tue",full:"tuesday"},{short:"Wed",full:"wednesday"},{short:"Thu",full:"thursday"},{short:"Fri",full:"friday"},{short:"Sat",full:"saturday"}];return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e?"Edit Schedule":"New Schedule"}),a.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(He,{className:"w-6 h-6"})})]})}),a.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Camera *"}),a.jsxs("select",{name:"camera",value:o.camera,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${c.camera?"border-red-500":"border-gray-300 dark:border-gray-600"}`,children:[a.jsx("option",{value:"",children:"Select a camera"}),n.map(u=>a.jsxs("option",{value:u.id,children:[u.name," - ",u.location]},u.id))]}),c.camera&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.camera})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Schedule Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${c.name?"border-red-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"e.g., Daily Recording, Maintenance Window"}),c.name&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Schedule Type *"}),a.jsxs("select",{name:"schedule_type",value:o.schedule_type,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"continuous",children:"Continuous Recording"}),a.jsx("option",{value:"once",children:"One-time Schedule"}),a.jsx("option",{value:"daily",children:"Daily Schedule"}),a.jsx("option",{value:"weekly",children:"Weekly Schedule"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-8",children:[a.jsx("input",{type:"checkbox",name:"is_active",checked:o.is_active,onChange:p,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Schedule is active"})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Ui,{className:"w-5 h-5 mr-2"}),"Date Range"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",name:"start_date",value:o.start_date,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${c.start_date?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),c.start_date&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.start_date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date *"}),a.jsx("input",{type:"date",name:"end_date",value:o.end_date,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${c.end_date?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),c.end_date&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.end_date})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(ir,{className:"w-5 h-5 mr-2"}),"Time Range"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Time *"}),a.jsx("input",{type:"time",name:"start_time",value:o.start_time,onChange:p,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Time *"}),a.jsx("input",{type:"time",name:"end_time",value:o.end_time,onChange:p,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${c.end_time?"border-red-500":"border-gray-300 dark:border-gray-600"}`}),c.end_time&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:c.end_time})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Px,{className:"w-5 h-5 mr-2"}),"Days of Week"]}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:y.map((u,h)=>a.jsx("button",{type:"button",onClick:()=>E(u.full),className:`p-3 text-sm font-medium rounded-lg border transition-colors ${o.days_of_week.includes(u.full)?"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/20 dark:text-blue-300 dark:border-blue-700":"bg-gray-50 text-gray-700 border-gray-300 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:u.short},h))}),c.days_of_week&&a.jsx("p",{className:"text-sm text-red-600 mt-2",children:c.days_of_week})]}),a.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{type:"button",onClick:t,disabled:g,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{children:e?"Updating...":"Creating..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsx("span",{children:e?"Update Schedule":"Create Schedule"})]})})]})]})]})})},Ey=()=>{const{schedules:e,scheduleStats:t,createSchedule:r,updateSchedule:n,deleteSchedule:s,activateSchedule:l,deactivateSchedule:o,cameras:i,error:c,clearError:d,loading:g,refreshAll:m}=fr(),[x,j]=b.useState(!1),[p,E]=b.useState(null),[y,u]=b.useState("all"),[h,v]=b.useState("all"),[f,w]=b.useState("all"),[S,k]=b.useState(null),N=Array.isArray(i)?i:[],C=Array.isArray(e)?e:[],M=R=>{switch(R){case"continuous":return a.jsx(hm,{className:"w-4 h-4"});case"once":return a.jsx(ir,{className:"w-4 h-4"});case"daily":return a.jsx(Pe,{className:"w-4 h-4"});case"weekly":return a.jsx(Pe,{className:"w-4 h-4"});default:return a.jsx(ir,{className:"w-4 h-4"})}},Z=R=>{if(R.schedule_type!=="once"||!R.end_date)return!1;try{const K=new Date,L=new Date(R.end_date);return isNaN(K.getTime())||isNaN(L.getTime())?(console.warn("Invalid date found in schedule:",R.id,R.end_date),!1):(K.setHours(0,0,0,0),L.setHours(0,0,0,0),L<K)}catch(K){return console.error("Error checking schedule expiration:",K),!1}},le=R=>Z(R)?{text:"Expired",className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"}:R.is_active?{text:"Active",className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"}:{text:"Inactive",className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"},oe=(R,K)=>{if(K&&Z(K))return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";switch(R){case"continuous":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"once":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"daily":return"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300";case"weekly":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},I=async R=>{try{p?(await n(p.id,R),k("Schedule updated successfully!")):(await r(R),k("Schedule created successfully!")),j(!1),E(null),setTimeout(()=>k(null),3e3)}catch{}},z=async R=>{try{R.is_active?(await o(R.id),k(`Schedule '${R.name}' deactivated successfully!`)):(await l(R.id),k(`Schedule '${R.name}' activated successfully!`)),setTimeout(()=>k(null),3e3)}catch{}},pe=R=>{E(R),j(!0)},Te=async R=>{if(window.confirm("Are you sure you want to delete this schedule?"))try{await s(R),k("Schedule deleted successfully!"),setTimeout(()=>k(null),3e3)}catch{}},$=()=>{const R={schedules:q,exportDate:new Date().toISOString(),filters:{type:y,camera:h,status:f}},K=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),L=URL.createObjectURL(K),Y=document.createElement("a");Y.href=L,Y.download=`schedules_export_${new Date().toISOString().split("T")[0]}.json`,Y.click(),URL.revokeObjectURL(L),k("Schedules exported successfully!"),setTimeout(()=>k(null),3e3)},q=C.filter(R=>{const K=y==="all"||R.schedule_type===y,L=h==="all"||R.camera===h;let Y=!0;return f==="enabled"?Y=R.is_active&&!Z(R):f==="disabled"?Y=!R.is_active&&!Z(R):f==="expired"&&(Y=Z(R)),K&&L&&Y}),G=(()=>{const R=(t==null?void 0:t.total_schedules)||C.length,K=(t==null?void 0:t.active_schedules)||C.filter(ne=>ne.is_active&&!Z(ne)).length,L=C.filter(ne=>Z(ne)).length,Y=R-K-L,ge=C.filter(ne=>ne.schedule_type==="once").length,D=C.filter(ne=>ne.schedule_type==="daily").length,de=C.filter(ne=>ne.schedule_type==="weekly").length,re=C.filter(ne=>ne.schedule_type==="continuous").length;return{total:R,active:K,inactive:Y,expired:L,once:ge,daily:D,weekly:de,continuous:re}})(),ee=()=>{j(!1),E(null)},ie=async()=>{try{await m()}catch(R){console.error("Error refreshing schedules:",R)}};return g?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recording Schedules"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage automated recording schedules for your cameras"})]}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading schedules..."})})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Recording Schedules"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage automated recording schedules for your cameras"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ie,disabled:g,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Pe,{className:`w-4 h-4 ${g?"animate-spin":""}`}),a.jsx("span",{children:"Refresh"})]}),a.jsxs("button",{onClick:$,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(Ss,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]}),a.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx(sn,{className:"w-4 h-4"}),"New Schedule"]})]})]}),c&&a.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(St,{className:"w-5 h-5 mr-2"}),c]}),a.jsx("button",{onClick:d,className:"text-red-500 hover:text-red-700",children:a.jsx(He,{className:"w-4 h-4"})})]}),S&&a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"w-5 h-5 mr-2"}),S]}),a.jsx("button",{onClick:()=>k(null),className:"text-green-500 hover:text-green-700",children:a.jsx(He,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:G.total}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.active}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:G.expired}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Expired"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.once}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"One-time"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:G.daily}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Daily"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:G.weekly}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Weekly"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.continuous}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Continuous"})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sx,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),a.jsxs("select",{value:y,onChange:R=>u(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"continuous",children:"Continuous"}),a.jsx("option",{value:"once",children:"One-time"}),a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"})]}),a.jsxs("select",{value:h,onChange:R=>v(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Cameras"}),N.map(R=>a.jsx("option",{value:R.id,children:R.name},R.id))]}),a.jsxs("select",{value:f,onChange:R=>w(R.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"enabled",children:"Enabled"}),a.jsx("option",{value:"disabled",children:"Disabled"}),a.jsx("option",{value:"expired",children:"Expired"})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Schedules (",q.length,")"]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Schedule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Camera"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Days"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:q.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.name}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",R.id.substring(0,8),"..."]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.camera_name||"Unknown Camera"}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.camera})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-lg ${oe(R.schedule_type,R)} mr-2`,children:M(R.schedule_type)}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:R.schedule_type}),Z(R)&&a.jsx("span",{className:"text-xs text-red-600 dark:text-red-400 font-medium",children:"Expired"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:[R.start_time," - ",R.end_time]}),R.start_date&&R.end_date&&a.jsxs("div",{className:`text-xs ${Z(R)?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"}`,children:[R.start_date," to ",R.end_date,Z(R)&&a.jsx("span",{className:"ml-1 font-medium",children:"(Expired)"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.days_of_week&&R.days_of_week.length>0?a.jsx("div",{className:"flex flex-wrap gap-1",children:R.days_of_week.map(K=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:typeof K=="string"?K.slice(0,3):K},K))}):a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"All days"})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(()=>{const K=le(R);return a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${K.className}`,children:K.text})})()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:R.created_at?new Date(R.created_at).toLocaleDateString():"N/A"}),R.updated_at&&R.updated_at!==R.created_at&&a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated: ",new Date(R.updated_at).toLocaleDateString()]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx("button",{onClick:()=>z(R),disabled:Z(R),className:`p-2 rounded-lg transition-colors ${Z(R)?"text-gray-300 cursor-not-allowed":R.is_active?"text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-400 hover:text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:Z(R)?"Cannot activate expired schedule":R.is_active?"Deactivate Schedule":"Activate Schedule",children:R.is_active?a.jsx(Cx,{className:"w-4 h-4"}):a.jsx(_x,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>pe(R),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Edit Schedule",children:a.jsx(Zs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Te(R.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Schedule",children:a.jsx(ga,{className:"w-4 h-4"})})]})})]},R.id))})]})}),q.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ir,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No schedules found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria, or create a new schedule."}),a.jsxs("button",{onClick:()=>j(!0),className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 mx-auto",children:[a.jsx(sn,{className:"w-4 h-4"}),"Create Schedule"]})]})]}),x&&a.jsx(jy,{schedule:p,onClose:ee,onSubmit:I,cameras:N})]})},Cy=()=>{const[e,t]=b.useState({systemName:"CCTV Portal",maxConcurrentStreams:12,recordingRetentionDays:30,autoBackup:!0,backupFrequency:"daily",backupTime:"02:00",sessionTimeout:30,requireStrongPasswords:!0,enableTwoFactor:!1,maxFailedLogins:5,passwordExpiryDays:90,enableAuditLog:!0,defaultRecordingQuality:"high",motionDetection:!0,audioRecording:!0,preRecordingBuffer:5,postRecordingBuffer:10,compressionLevel:"medium",streamingPort:8080,maxBandwidthPerStream:10,enableSSL:!0,enableHttps:!0,maxConnections:100,connectionTimeout:30,emailNotifications:!0,systemAlerts:!0,offlineAlerts:!0,storageAlerts:!0,motionAlerts:!0,emailServer:"smtp.gmail.com",emailPort:587,emailUsername:"",emailPassword:"",defaultTheme:"light",autoRefresh:!0,refreshInterval:30,showTimestamps:!0,showCameraNames:!0,gridLayout:"2x2"}),[r,n]=b.useState(!1),[s,l]=b.useState(!1);b.useEffect(()=>{const m=localStorage.getItem("cctv-settings");if(m)try{const x=JSON.parse(m);t(j=>({...j,...x}))}catch(x){console.error("Failed to parse saved settings:",x)}},[]);const o=(m,x)=>{t(j=>({...j,[m]:x})),n(!0)},i=async()=>{l(!0);try{localStorage.setItem("cctv-settings",JSON.stringify(e)),await new Promise(m=>setTimeout(m,1e3)),n(!1),alert("Settings saved successfully!")}catch{alert("Failed to save settings. Please try again.")}finally{l(!1)}},c=()=>{confirm("Are you sure you want to reset all settings to default values?")&&(t({systemName:"CCTV Portal",maxConcurrentStreams:12,recordingRetentionDays:30,autoBackup:!0,backupFrequency:"daily",backupTime:"02:00",sessionTimeout:30,requireStrongPasswords:!0,enableTwoFactor:!1,maxFailedLogins:5,passwordExpiryDays:90,enableAuditLog:!0,defaultRecordingQuality:"high",motionDetection:!0,audioRecording:!0,preRecordingBuffer:5,postRecordingBuffer:10,compressionLevel:"medium",streamingPort:8080,maxBandwidthPerStream:10,enableSSL:!0,enableHttps:!0,maxConnections:100,connectionTimeout:30,emailNotifications:!0,systemAlerts:!0,offlineAlerts:!0,storageAlerts:!0,motionAlerts:!0,emailServer:"smtp.gmail.com",emailPort:587,emailUsername:"",emailPassword:"",defaultTheme:"light",autoRefresh:!0,refreshInterval:30,showTimestamps:!0,showCameraNames:!0,gridLayout:"2x2"}),n(!0))},d=({title:m,icon:x,children:j})=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[x,a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white ml-2",children:m})]}),a.jsx("div",{className:"space-y-4",children:j})]}),g=({label:m,description:x,children:j})=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:m}),x&&a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:x})]}),a.jsx("div",{className:"ml-4",children:j})]});return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Configure system preferences and security settings"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Reset to Default"}),a.jsxs("button",{onClick:i,disabled:!r||s,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[a.jsx(pn,{className:"w-4 h-4"}),a.jsx("span",{children:s?"Saving...":"Save Settings"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(d,{title:"System Configuration",icon:a.jsx(Xp,{className:"w-5 h-5 text-blue-600"}),children:[a.jsx(g,{label:"System Name",children:a.jsx("input",{type:"text",value:e.systemName,onChange:m=>o("systemName",m.target.value),className:"w-48 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Max Concurrent Streams",description:"Maximum number of simultaneous video streams",children:a.jsx("input",{type:"number",value:e.maxConcurrentStreams,onChange:m=>o("maxConcurrentStreams",parseInt(m.target.value)),min:"1",max:"50",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Recording Retention",description:"Days to keep recorded footage",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.recordingRetentionDays,onChange:m=>o("recordingRetentionDays",parseInt(m.target.value)),min:"1",max:"365",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"days"})]})}),a.jsx(g,{label:"Auto Backup",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.autoBackup,onChange:m=>o("autoBackup",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),e.autoBackup&&a.jsxs(a.Fragment,{children:[a.jsx(g,{label:"Backup Frequency",children:a.jsxs("select",{value:e.backupFrequency,onChange:m=>o("backupFrequency",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"})]})}),a.jsx(g,{label:"Backup Time",children:a.jsx("input",{type:"time",value:e.backupTime,onChange:m=>o("backupTime",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})})]})]}),a.jsxs(d,{title:"Security Settings",icon:a.jsx(Ys,{className:"w-5 h-5 text-red-600"}),children:[a.jsx(g,{label:"Session Timeout",description:"Minutes before automatic logout",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.sessionTimeout,onChange:m=>o("sessionTimeout",parseInt(m.target.value)),min:"5",max:"480",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"min"})]})}),a.jsx(g,{label:"Require Strong Passwords",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.requireStrongPasswords,onChange:m=>o("requireStrongPasswords",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Enable Two-Factor Authentication",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.enableTwoFactor,onChange:m=>o("enableTwoFactor",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Max Failed Login Attempts",description:"Account lockout threshold",children:a.jsx("input",{type:"number",value:e.maxFailedLogins,onChange:m=>o("maxFailedLogins",parseInt(m.target.value)),min:"3",max:"10",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Password Expiry Days",description:"Days before password expires",children:a.jsx("input",{type:"number",value:e.passwordExpiryDays,onChange:m=>o("passwordExpiryDays",parseInt(m.target.value)),min:"30",max:"365",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Enable Audit Log",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.enableAuditLog,onChange:m=>o("enableAuditLog",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})})]}),a.jsxs(d,{title:"Recording Settings",icon:a.jsx(Po,{className:"w-5 h-5 text-green-600"}),children:[a.jsx(g,{label:"Default Recording Quality",children:a.jsxs("select",{value:e.defaultRecordingQuality,onChange:m=>o("defaultRecordingQuality",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"low",children:"Low (720p)"}),a.jsx("option",{value:"medium",children:"Medium (1080p)"}),a.jsx("option",{value:"high",children:"High (4K)"})]})}),a.jsx(g,{label:"Motion Detection",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.motionDetection,onChange:m=>o("motionDetection",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Audio Recording",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.audioRecording,onChange:m=>o("audioRecording",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Pre-recording Buffer",description:"Seconds to record before motion detection",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.preRecordingBuffer,onChange:m=>o("preRecordingBuffer",parseInt(m.target.value)),min:"0",max:"30",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"seconds"})]})}),a.jsx(g,{label:"Post-recording Buffer",description:"Seconds to record after motion detection",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.postRecordingBuffer,onChange:m=>o("postRecordingBuffer",parseInt(m.target.value)),min:"5",max:"60",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"seconds"})]})}),a.jsx(g,{label:"Compression Level",children:a.jsxs("select",{value:e.compressionLevel,onChange:m=>o("compressionLevel",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"low",children:"Low (High Quality)"}),a.jsx("option",{value:"medium",children:"Medium (Balanced)"}),a.jsx("option",{value:"high",children:"High (Smaller Files)"})]})})]}),a.jsxs(d,{title:"Network Settings",icon:a.jsx(Io,{className:"w-5 h-5 text-purple-600"}),children:[a.jsx(g,{label:"Streaming Port",description:"Port for video streaming service",children:a.jsx("input",{type:"number",value:e.streamingPort,onChange:m=>o("streamingPort",parseInt(m.target.value)),min:"1024",max:"65535",className:"w-24 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Max Bandwidth Per Stream",description:"Mbps limit per video stream",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.maxBandwidthPerStream,onChange:m=>o("maxBandwidthPerStream",parseInt(m.target.value)),min:"1",max:"100",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mbps"})]})}),a.jsx(g,{label:"Enable SSL/TLS",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.enableSSL,onChange:m=>o("enableSSL",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Enable HTTPS",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.enableHttps,onChange:m=>o("enableHttps",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Max Connections",description:"Maximum concurrent connections",children:a.jsx("input",{type:"number",value:e.maxConnections,onChange:m=>o("maxConnections",parseInt(m.target.value)),min:"10",max:"1000",className:"w-24 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Connection Timeout",description:"Seconds before connection timeout",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.connectionTimeout,onChange:m=>o("connectionTimeout",parseInt(m.target.value)),min:"5",max:"300",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"seconds"})]})})]}),a.jsxs(d,{title:"Display Settings",icon:a.jsx(ur,{className:"w-5 h-5 text-indigo-600"}),children:[a.jsx(g,{label:"Default Theme",children:a.jsxs("select",{value:e.defaultTheme,onChange:m=>o("defaultTheme",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"light",children:"Light"}),a.jsx("option",{value:"dark",children:"Dark"}),a.jsx("option",{value:"auto",children:"Auto (System)"})]})}),a.jsx(g,{label:"Auto Refresh",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.autoRefresh,onChange:m=>o("autoRefresh",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),e.autoRefresh&&a.jsx(g,{label:"Refresh Interval",description:"Seconds between auto-refresh",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",value:e.refreshInterval,onChange:m=>o("refreshInterval",parseInt(m.target.value)),min:"5",max:"300",className:"w-20 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"seconds"})]})}),a.jsx(g,{label:"Show Timestamps",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.showTimestamps,onChange:m=>o("showTimestamps",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Show Camera Names",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.showCameraNames,onChange:m=>o("showCameraNames",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Default Grid Layout",children:a.jsxs("select",{value:e.gridLayout,onChange:m=>o("gridLayout",m.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"1x1",children:"11 (Single)"}),a.jsx("option",{value:"2x2",children:"22 (Grid)"}),a.jsx("option",{value:"3x3",children:"33 (Grid)"}),a.jsx("option",{value:"4x4",children:"44 (Grid)"})]})})]}),a.jsxs(d,{title:"Notifications",icon:a.jsx(Ao,{className:"w-5 h-5 text-yellow-600"}),children:[a.jsx(g,{label:"Email Notifications",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:m=>o("emailNotifications",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"System Alerts",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.systemAlerts,onChange:m=>o("systemAlerts",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Camera Offline Alerts",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.offlineAlerts,onChange:m=>o("offlineAlerts",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Storage Alerts",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.storageAlerts,onChange:m=>o("storageAlerts",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),a.jsx(g,{label:"Motion Detection Alerts",children:a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:e.motionAlerts,onChange:m=>o("motionAlerts",m.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})}),e.emailNotifications&&a.jsxs(a.Fragment,{children:[a.jsx(g,{label:"SMTP Server",children:a.jsx("input",{type:"text",value:e.emailServer,onChange:m=>o("emailServer",m.target.value),className:"w-48 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"smtp.gmail.com"})}),a.jsx(g,{label:"SMTP Port",children:a.jsx("input",{type:"number",value:e.emailPort,onChange:m=>o("emailPort",parseInt(m.target.value)),className:"w-24 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})}),a.jsx(g,{label:"Email Username",children:a.jsx("input",{type:"email",value:e.emailUsername,onChange:m=>o("emailUsername",m.target.value),className:"w-48 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"your-email@gmail.com"})}),a.jsx(g,{label:"Email Password",children:a.jsx("input",{type:"password",value:e.emailPassword,onChange:m=>o("emailPassword",m.target.value),className:"w-48 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"App password"})})]})]})]})]})},Ty=()=>{const[e,t]=b.useState("profile"),[r,n]=b.useState(!1),[s,l]=b.useState(!1),[o,i]=b.useState(null),[c,d]=b.useState(null),[g,m]=b.useState({id:"1",username:"admin",email:"admin@company.com",fullName:"Administrator User",phone:"+1 (555) 123-4567",address:"123 Security St, Monitor City, MC 12345",role:"admin",avatar:"",joinDate:"2024-01-10T08:00:00Z",lastLogin:"2024-01-20T14:30:00Z",permissions:["all_cameras","user_management","system_settings","recordings","reports"],preferences:{notifications:!0,darkMode:!1,language:"en",timezone:"UTC-5"}}),[x,j]=b.useState(g),[p,E]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),y=(N,C)=>{j(M=>({...M,[N]:C}))},u=(N,C)=>{j(M=>({...M,preferences:{...M.preferences,[N]:C}}))},h=async()=>{l(!0),i(null);try{if(await new Promise(N=>setTimeout(N,1e3)),!x.fullName.trim())throw new Error("Full name is required");if(!x.email.trim()||!x.email.includes("@"))throw new Error("Valid email is required");m(x),n(!1),d("Profile updated successfully!"),setTimeout(()=>d(null),3e3)}catch(N){i(N instanceof Error?N.message:"Failed to update profile")}finally{l(!1)}},v=async()=>{l(!0),i(null);try{if(!p.currentPassword)throw new Error("Current password is required");if(p.newPassword.length<8)throw new Error("New password must be at least 8 characters");if(p.newPassword!==p.confirmPassword)throw new Error("New passwords do not match");await new Promise(N=>setTimeout(N,1e3)),E({currentPassword:"",newPassword:"",confirmPassword:""}),d("Password changed successfully!"),setTimeout(()=>d(null),3e3)}catch(N){i(N instanceof Error?N.message:"Failed to change password")}finally{l(!1)}},f=N=>{var M;const C=(M=N.target.files)==null?void 0:M[0];if(C){const Z=new FileReader;Z.onload=le=>{var I;const oe=(I=le.target)==null?void 0:I.result;j(z=>({...z,avatar:oe}))},Z.readAsDataURL(C)}},w=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[x.avatar?a.jsx("img",{src:x.avatar,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}):a.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center border-4 border-white shadow-lg",children:a.jsx(Fa,{className:"w-12 h-12 text-white"})}),r&&a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 rounded-full p-2 cursor-pointer hover:bg-blue-700 transition-colors",children:[a.jsx(Wt,{className:"w-4 h-4 text-white"}),a.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g.fullName}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["@",g.username]}),a.jsx("span",{className:`inline-block px-3 py-1 text-xs rounded-full mt-2 ${g.role==="admin"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":g.role==="operator"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"}`,children:g.role.charAt(0).toUpperCase()+g.role.slice(1)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",value:x.fullName,onChange:N=>y("fullName",N.target.value),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),a.jsx("input",{type:"text",value:x.username,onChange:N=>y("username",N.target.value),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:x.email,onChange:N=>y("email",N.target.value),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),a.jsx("input",{type:"tel",value:x.phone,onChange:N=>y("phone",N.target.value),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),a.jsx("input",{type:"text",value:x.address,onChange:N=>y("address",N.target.value),disabled:!r,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Account Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ui,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Joined: ",new Date(g.joinDate).toLocaleDateString()]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fa,{className:"w-4 h-4 text-gray-500"}),a.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Last Login: ",new Date(g.lastLogin).toLocaleString()]})]})]})]})]}),S=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Current Password"}),a.jsx("input",{type:"password",value:p.currentPassword,onChange:N=>E(C=>({...C,currentPassword:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),a.jsx("input",{type:"password",value:p.newPassword,onChange:N=>E(C=>({...C,newPassword:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",value:p.confirmPassword,onChange:N=>E(C=>({...C,confirmPassword:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),a.jsx("button",{onClick:v,disabled:s,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Changing...":"Change Password"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Permissions"}),a.jsx("div",{className:"space-y-2",children:g.permissions.map(N=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ys,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300 capitalize",children:N.replace("_"," ")})]},N))})]})]}),k=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Application Preferences"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"w-4 h-4 text-gray-500"}),a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Email Notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:x.preferences.notifications,onChange:N=>u("notifications",N.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Language"}),a.jsxs("select",{value:x.preferences.language,onChange:N=>u("language",N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"en",children:"English"}),a.jsx("option",{value:"es",children:"Spanish"}),a.jsx("option",{value:"fr",children:"French"}),a.jsx("option",{value:"de",children:"German"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),a.jsxs("select",{value:x.preferences.timezone,onChange:N=>u("timezone",N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"UTC-8",children:"Pacific Time (UTC-8)"}),a.jsx("option",{value:"UTC-7",children:"Mountain Time (UTC-7)"}),a.jsx("option",{value:"UTC-6",children:"Central Time (UTC-6)"}),a.jsx("option",{value:"UTC-5",children:"Eastern Time (UTC-5)"}),a.jsx("option",{value:"UTC+0",children:"UTC"})]})]})]})]})});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage your account settings and preferences"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:r?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(He,{className:"w-4 h-4 mr-2 inline"}),"Cancel"]}),a.jsxs("button",{onClick:h,disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(pn,{className:"w-4 h-4 mr-2 inline"}),s?"Saving...":"Save"]})]}):a.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[a.jsx(Nx,{className:"w-4 h-4 mr-2 inline"}),"Edit Profile"]})})]}),o&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 px-4 py-3 rounded-lg",children:o}),c&&a.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 px-4 py-3 rounded-lg",children:c}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"profile",label:"Profile",icon:Fa},{id:"security",label:"Security",icon:um},{id:"preferences",label:"Preferences",icon:Ao}].map(N=>{const C=N.icon;return a.jsxs("button",{onClick:()=>t(N.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===N.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[a.jsx(C,{className:"w-4 h-4"}),a.jsx("span",{children:N.label})]},N.id)})})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[e==="profile"&&w(),e==="security"&&S(),e==="preferences"&&k()]})]})},_y=({onLogin:e,onNavigateToRegister:t,onNavigateToForgotPassword:r})=>{const[n,s]=b.useState({email:"",password:""}),[l,o]=b.useState(!1),[i,c]=b.useState(!1),[d,g]=b.useState(null),[m,x]=b.useState(null),[j,p]=b.useState({}),E=()=>{const h={};return n.email?/\S+@\S+\.\S+/.test(n.email)||(h.email="Please enter a valid email address"):h.email="Email is required",n.password?n.password.length<6&&(h.password="Password must be at least 6 characters"):h.password="Password is required",p(h),Object.keys(h).length===0},y=async h=>{if(h.preventDefault(),!!E()){c(!0),g(null);try{const v={email:n.email,password:n.password};e?await e(n):await Ge.login(v),x("Login successful! Redirecting..."),s({email:"",password:""})}catch(v){g(v instanceof Error?v.message:"Login failed. Please try again.")}finally{c(!1)}}},u=(h,v)=>{s(f=>({...f,[h]:v})),j[h]&&p(f=>({...f,[h]:void 0}))};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:a.jsx(fd,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome Back"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 p-8",children:[d&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 rounded-lg flex items-center gap-3",children:[a.jsx(St,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:d})]}),m&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 rounded-lg flex items-center gap-3",children:[a.jsx(It,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fx,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",value:n.email,onChange:h=>u("email",h.target.value),className:`block w-full pl-10 pr-3 py-3 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${j.email?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500"}`,placeholder:"Enter your email",disabled:i,autoComplete:"email"})]}),j.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[a.jsx(St,{className:"w-4 h-4"}),j.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(fd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:l?"text":"password",value:n.password,onChange:h=>u("password",h.target.value),className:`block w-full pl-10 pr-12 py-3 border rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors ${j.password?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500"}`,placeholder:"Enter your password",disabled:i,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",disabled:i,children:l?a.jsx(nn,{className:"h-5 w-5"}):a.jsx(ur,{className:"h-5 w-5"})})]}),j.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",children:[a.jsx(St,{className:"w-4 h-4"}),j.password]})]}),r&&a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:r,className:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",disabled:i,children:"Forgot password?"})}),a.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i?a.jsxs(a.Fragment,{children:[a.jsx(Ks,{className:"animate-spin -ml-1 mr-2 h-5 w-5"}),"Signing in..."]}):"Sign In"})]}),t&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:t,className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",disabled:i,children:"Sign up"})]})})]})]})})};class Ry extends b.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.warn("Error boundary caught error during hot reload:",t,r)}render(){return this.state.hasError?this.props.fallback||a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Reloading..."})]})}):this.props.children}}function Ay(){return a.jsx(Ry,{children:a.jsx(Rp,{children:a.jsx(ay,{children:a.jsx(Py,{})})})})}function Py(){const[e,t]=b.useState("dashboard"),r=Qs(),{isAuthenticated:n,isLoading:s,login:l}=r;b.useEffect(()=>{console.log("Authentication state changed:",{isAuthenticated:n,isLoading:s})},[n,s]);const o=()=>{switch(e){case"dashboard":return a.jsx(bd,{onNavigate:t});case"cameras":return a.jsx(cy,{});case"live-feed":return a.jsx(my,{isActivePage:!0});case"http-live-feed":return a.jsx(gy,{isActivePage:!0});case"users":return a.jsx(py,{});case"access-control":return a.jsx(wy,{});case"recordings":return a.jsx(Sy,{});case"schedule":return a.jsx(Ey,{});case"settings":return a.jsx(Cy,{});case"profile":return a.jsx(Ty,{});default:return a.jsx(bd,{onNavigate:t})}},i=async c=>{const d={password:c.password};c.email?d.email=c.email:c.username&&(d.username=c.username),await l(d)};return s?a.jsx(Sl,{children:a.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})})}):n?a.jsx(Sl,{children:a.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex",children:[a.jsx("div",{className:"sticky top-0 left-0 h-screen z-30",children:a.jsx(ny,{activeView:e,onViewChange:t})}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsx("div",{className:"sticky top-0 z-20",children:a.jsx(sy,{onNavigate:t})}),a.jsx("main",{className:"flex-1 overflow-auto",children:o()})]})]})}):a.jsx(Sl,{children:a.jsx(_y,{onLogin:i})})}console.log("Frontend starting...");const xm=document.getElementById("root");if(!xm)throw console.error("Root element not found!"),new Error("Root element not found");console.log("Root element found, creating React root...");try{const e=D0(xm);console.log("React root created, rendering App..."),e.render(a.jsx(b.StrictMode,{children:a.jsx(Ay,{})})),console.log("App rendered successfully")}catch(e){throw console.error("Error rendering app:",e),e}
